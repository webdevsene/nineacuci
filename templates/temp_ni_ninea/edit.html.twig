{% extends 'ninea.html.twig' %}
{% block title %}New NiNineaproposition 
{% endblock %} 
{% block stylesheets %} 

	<link href="{{ asset('admin/dist/assets/libs/sweetalert2/sweetalert2.min.css')}}" rel="stylesheet" type="text/css"/>
	<link href="{{ asset('admin/dist/assets/libs/select2/css/select2.min.css')}}" rel="stylesheet" type="text/css"/>
	<link href="{{ asset('admin/dist/assets/libs/bootstrap-datepicker/css/bootstrap-datepicker.min.css')}}" rel="stylesheet" type="text/css">
	<link href="{{ asset('admin/dist/assets/libs/spectrum-colorpicker2/spectrum.min.css')}}" rel="stylesheet" type="text/css">
	<link href="{{ asset('admin/dist/assets/libs/bootstrap-timepicker/css/bootstrap-timepicker.min.css')}}" rel="stylesheet" type="text/css">
	<link href="{{ asset('admin/dist/assets/libs/bootstrap-touchspin/jquery.bootstrap-touchspin.min.css')}}" rel="stylesheet" type="text/css"/>
	<link
	href="{{ asset('admin/dist/assets/libs/@chenfengyuan/datepicker/datepicker.min.css')}}" rel="stylesheet">
	<!-- App favicon -->
	<link
	rel="shortcut icon" href="{{ asset('admin/dist/assets/images/favicon.ico')}}">

	<!-- Bootstrap Css -->
	<link
	href="{{ asset('admin/dist/assets/css/bootstrap.min.css')}}" id="bootstrap-style" rel="stylesheet" type="text/css"/>
	<!-- Icons Css -->
	<link
	href="{{ asset('admin/dist/assets/css/icons.min.css')}}" rel="stylesheet" type="text/css"/>

	<style type="text/css">
		

		.has_error {
			background-color: #E8F0FE;
			border-color: red;
		}

		.active_tab1 {
			background-color: #fff;
			color: #333;
			font-weight:600
		}

	   .inactive_tab1 {
					background-color: #fff;
					color: #333;
					cursor: not-allowed;
					disabled;
				}

		.larger {
			width: 100%;
		}

		.fieldcolor {
			border: 2px solid #eeeeee;

		}

		.toast{
			position: absolute; 
			top: 10px; 
			right: 10px;
		}

		legend {
			color: black;
			font-size: 12px;
		}




	
	

	</style>

{% endblock %}
{% block body %}

	<form name="FormEntete" method="post" action="{{path('app_temp_n_i_ninea_new',{id:ninea.id})}}">
	
		<div class="row">
			<div class="col-xl-12">
				<div>
					<div class="accordion mb-3" id="accordionExample">
						<div class="accordion-item">
							<h2 class="accordion-header" id="headingOne">
								<button class="accordion-button fw-medium" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
									<h5 class="font-size-14">Demande de modification</h5>
								</button>
								
							</h2>
							<div id="collapseOne" class="accordion-collapse  " aria-labelledby="headingOne" data-bs-parent="#accordionExample">
								<div class="accordion-body">
									<div class="text-muted">
										<div class="card" style=" margin: 0%;padding: 0%;-webkit-box-shadow:0 1rem 3rem rgba(0,0,0,.175);box-shadow:0 1rem 3rem rgba(0,0,0,.175)">
										<div class="row mb-0">
											<div class="col-lg-12">
												<fieldset class=" p-2 fieldcolor ">
													<div class="row">
														<div class="col-lg-5">
															<table style="width: 100%;">
															
																{% if ninea.ninNinea is not null %}
																		<tr>
																			<td style="width: 40%;">
																				<label  id="id_Ninea" for="basicpill-firstname-input" class=" TXT"> <b><u>NINEA:</u></b>  <span style="color:red;">*</span>
																				</label>
																			</td>
																			<td style="width: 60%;">
																			<input type="text"id="inputmere" disabled name="nineamere" value="{{ninea.ninNinea}}" class="form-control form-control-sm" oninput="this.value = this.value.replace(/[^0-9,]/g, '');">
																			
																			</td>
																		</tr>
																		
																{% endif %}
																<tr>
																<td style="width: 40%;">
																	<label for="" class="TXT"> <b><u> Forme unité : </u></b>   </label>	
																	<span style="color:red;">*</span>	
																	</td>
																<td style="width: 60%;">
																	<select name="formeunite" disabled required class="form-control form-control-sm classselect" id="idformeunite">
																			{% for tag in formeunites %}
																					{% if   ninea.formeJuridique.niFormeunite.id == tag.id  %}										
																					<option  value="{{ tag.id}}" selected >{{ tag.libelle}}</option>
																					{% else %}
																					<option  value="{{ tag.id}}">{{ tag.libelle}}</option>
																					{% endif %}
																			{% endfor %}
																	</select>
																	<span style="color: red;" id="ninpersonne"></span>
																</td>
																</tr>
							
																<tr>
																	<td style="width: 40%;">
																	<label class="TXT" for="basicpill-firstname-input"> <b><u> Régime juridique : </u></b>
																	<span style="color:red;">*</span>
																		</label>
																	</td>
																	<td style="width: 60%;">
																		<select name="formejuridique" disabled required id="idFormejuridique" class="form-control form-control-sm classselect">
																			{% for tag in ninea.formeJuridique.niFormeunite.regimeJuridique %}
																					{% if   ninea.formeJuridique.id == tag.id  %}										
																					<option  value="{{ tag.id}}" selected>{{ tag.fojLibelle}}</option>
																					{% else %}
																					<option  value="{{ tag.id}}">{{ tag.fojLibelle}}</option>
																					{% endif %}
																			{% endfor %}											
																		</select>
																		<span style="color: red;" id="ninformejuridique"></span>
																	</td>

																</tr>
																
																<tr>
																	<td style="width: 40%;">
																	<label for="basicpill-firstname-input" ><b><u>Statut :</u></b>
																		</label>
																	</td>
																<td style="width: 60%;">
																	<select name="ninStatut" disabled required id="idninStatut" class="form-control form-control-sm classselect">
																				
																			{% if ninea.ninStatut == "1"  %}	
																				<option  value="1" selected >SIEGE</option>	
																				<option  value="2"  >ETS SECONDAIRE</option>			
																			{% else %}	
																					<option  value="2" selected >ETS SECONDAIRE</option>	
																					<option  value="1"  >SIEGE</option>							
																			{% endif %}								
																	</select>
																</td>

																</tr>
																
																{% if ninea.ninStatut and ninea.ninStatut == "2" %}
																		<tr>
																			<td style="width: 40%;">
																				<label  id="labelmere" for="basicpill-firstname-input" class=" TXT"> <b><u>NINEA mère :</u></b>  <span style="color:red;">*</span>
																				</label>
																			</td>
																			<td style="width: 60%;">
																			<input type="text"id="inputmere" name="nineamere" value="" class="form-control form-control-sm" oninput="this.value = this.value.replace(/[^0-9,]/g, '');">
																			<span style="color: red;" id="nineamere"></span>
																			</td>
																		</tr>
																		
																{% endif %}
							
																{% if ninea.statut == "r" %}
																<tr>
																	<td>
																		<label for="" > <b><u>Motif rejet :</u></b>	</label>
																	</td>
																	<td> 
																		<label for="" class="TXT">{{ninea.ninRemarque}}</label>
																		
																	</td>
																</tr>
															{% endif %}
															</table>
														</div>
							
														<div class="col-lg-7">
															<table style="width: 100%;">
																
																{# controle sur les formes juridiques #}
															{% if ninea.formeJuridique.id == 26  or ninea.formeJuridique.id == 96 or ninea.formeJuridique.id == 99 %}
																{% if ninea.formeJuridique.id != 99 %}

																	<tr>
																		<td style="width: 30%;">
																			<label for="basicpill-firstname-input"> <b><u>Enseigne : </u></b></label>
																		</td>
																		<td style="width: 70%;">
																			<input type="text"id="idninEnseigne" name="ninEnseigne" onkeyup="this.value=this.value.toUpperCase()" value="{{ninea.ninEnseigne}}" class="form-control form-control-sm">						
																		</td>
																	</tr>
																{% endif %}

																{% if ninea.ninTitrefoncier != "" %}
																	<tr>
																		<td style="width: 30%;">
																			<label for=""> <b><u> Titre foncier:</u></b> </label>
																		</td>
																		<td style="width: 70%;">
																			<input type="text" id="idtitrefoncier" name="nintitrefoncier" value=" {{ni_nineaproposition.ninTitrefoncier}}"
																				class="form-control form-control-sm">
																		</td>
																	</tr>
																
																{% else %}
																	{% if  ninea.ninBail != ""  %}
																		<tr>
																			<td style="width: 30%;">
																				<label for=""> <b><u> Bail:</u></b> </label>
																			</td>
																			<td style="width: 70%;">
																				<input type="text" id="idbail" name="ninbail" value=" {{ninea.ninBail}}"
																					class="form-control form-control-sm">
																			</td>
																		</tr>
																	{% else  %}
																	{% if  ninea.ninPermisoccuper != ""  %}
																		<tr>
																			<td style="width: 30%;">
																				<label for=""> <b><u> Permis d'occuper:</u></b> </label>
																			</td>
																			<td style="width: 70%;">
																				<input type="text" id="inputpermisoccuper" name="inputpermisoccuper" value=" {{ninea.ninPermisoccuper}}"
																					class="form-control form-control-sm">
																			</td>
																		</tr>
																	{% endif %}
																{% endif %}
															{% endif %}
																	
																	
																	
																{% elseif ninea.formeJuridique.id == 98 or  ninea.formeJuridique.id == 94 %}
																
																{% elseif ninea.formeJuridique.id == "90" %}
																	<tr>
																		<td style="width: 30%;">
																			<label for="basicpill-firstname-input"> <b><u>Enseigne : </u></b></label>
																		</td>
																		<td style="width: 70%;">
																			<input type="text"id="idninEnseigne" name="ninEnseigne" value="{{ninea.ninEnseigne}}" class="form-control form-control-sm">						
																		</td>
																	</tr>
																	<tr>
																		<td style="width: 30%;">
																			<label for=""> <b><u> Accord:</u></b> </label>
																		</td>
																		<td style="width: 70%;">
																			<input type="text" id="idaccord" name="accord" value=" {{ninea.ninAccord}}"
																				class="form-control form-control-sm">
																		</td>
																	</tr>

																	{% elseif ninea.formeJuridique.id == 92 %}
																		<tr>
																			<td style="width: 30%;">
																				<label for="basicpill-firstname-input"> <b><u>Enseigne : </u></b></label>
																			</td>
																			<td style="width: 70%;">
																				<input type="text"id="idninEnseigne" name="ninEnseigne" value="{{ninea.ninEnseigne}}" class="form-control form-control-sm">						
																			</td>
																		</tr>
																		<tr>
																			<td style="width: 30%;">
																				<label for=""> <b><u> Bordereau:</u></b> </label>
																			</td>
																			<td style="width: 70%;">
																				<input type="text" id="idbordereau" name="bordereau" value=" {{ninea.ninBordereau}}"
																					class="form-control form-control-sm">
																			</td>
																		</tr>
																	{% elseif ninea.formeJuridique.id == 29  or ninea.formeJuridique.id == 91	 %}
																		<tr>
																			<td style="width: 30%;">
																				<label for="basicpill-firstname-input"> <b><u>Enseigne : </u></b></label>
																			</td>
																			<td style="width: 70%;">
																				<input type="text"id="idninEnseigne" name="ninEnseigne" value="{{ni_nineaproposition.ninEnseigne}}" class="form-control form-control-sm">						
																			</td>
																		</tr>	
																	{% if ninea.ninRegcom != "" %}
																		<tr>
																			<td style="width: 30%;">
																				<label for=""> <b><u>Régistre de commerce :</u></b> </label>
																			</td>
																			<td style="width: 70%;">
																				<input type="text" id="ni_nineaproposition_ninRegcom" name="ni_nineaproposition_ninRegcom"
																					value="{{ ninea.ninRegcom }}" class="form-control form-control-sm">
																				<span style="color: red;" id="ninregcom"></span>
																			</td>
																		</tr>
																		<tr>
																			<td style="width: 30%;">
																				<label for=""> <b><u>Date de régistre :</u></b> </label>
																			</td>
																			<td style="width: 70%;">
																				<input type="date" id="idninDatreg" name="ninDatreg" value="  {{ninea.ninDatreg != null ? ninea.ninDatreg | date('Y-m-d') : ""}}"
																					class="form-control form-control-sm" required>
																			</td>
																		</tr>
																	{% else %}
																		
																		<tr>
																			<td style="width: 30%;">
																				<label for=""> <b><u> Bordereau:</u></b> </label>
																			</td>
																			<td style="width: 70%;">
																				<input type="text" id="idbordereau" name="bordereau" value=" {{ninea.ninBordereau}}"
																					class="form-control form-control-sm">
																			</td>
																		</tr>
																	{% endif %}
																		
																		

																		{% elseif ninea.formeJuridique.id == 27	%}
																			<tr>
																				<td style="width: 30%;">
																					<label for="basicpill-firstname-input"> <b><u>Enseigne : </u></b></label>
																				</td>
																				<td style="width: 70%;">
																					<input type="text"id="idninEnseigne" name="ninEnseigne" value="{{ninea.ninEnseigne}}" class="form-control form-control-sm">						
																				</td>
																			</tr>

																		{% if ninea.ninRegcom != "" %}
																			<tr>
																				<td style="width: 30%;">
																					<label for=""> <b><u>Régistre de commerce :</u></b> </label>
																				</td>
																				<td style="width: 70%;">
																					<input type="text" id="ni_nineaproposition_ninRegcom" name="ni_nineaproposition_ninRegcom"
																						value="{{ ninea.ninRegcom }}" class="form-control form-control-sm">
																					<span style="color: red;" id="ninregcom"></span>
																				</td>
																			</tr>
																			<tr>
																				<td style="width: 30%;">
																					<label for=""> <b><u>Date de régistre :</u></b> </label>
																				</td>
																				<td style="width: 70%;">
																					<input type="date" id="idninDatreg" name="ninDatreg" value="{{ninea.ninDatreg|date('Y-m-d')}}"
																						class="form-control form-control-sm" required>
																				</td>
																			</tr>
																		{% else %}
																			<tr>
																				<td style="width: 30%;">
																					<label for=""> <b><u> Agrément:</u></b> </label>
																				</td>
																				<td style="width: 70%;">
																					<input type="text" id="idagrement" name="agrement" value=" {{ninea.ninAgrement}}"
																						class="form-control form-control-sm">
																				</td>
																			</tr>
																		{% endif %}
																		

																	{% elseif ninea.formeJuridique.id == "44"  or ninea.formeJuridique.id == "48" %}
																		<tr>
																			<td style="width: 30%;">
																				<label for="basicpill-firstname-input"> <b><u>Enseigne : </u></b></label>
																			</td>
																			<td style="width: 70%;">
																				<input type="text"id="idninEnseigne" name="ninEnseigne" value="{{ninea.ninEnseigne}}" class="form-control form-control-sm">						
																			</td>
																		</tr>
																		<tr>
																			<td style="width: 30%;">
																				<label for=""> <b><u> Agrément:</u></b> </label>
																			</td>
																			<td style="width: 70%;">
																				<input type="text" id="idagrement" name="agrement" value=" {{ninea.ninAgrement}}"
																					class="form-control form-control-sm">
																			</td>
																		</tr>
																		
																		{% elseif ninea.formeJuridique.id == 50  or ninea.formeJuridique.id == 51 or ninea.formeJuridique.id == 52
																			or ninea.formeJuridique.id == 54 or ninea.formeJuridique.id == 55 or ninea.formeJuridique.id == 59 %}
																			<tr>
																				<td style="width: 30%;">
																					<label for="basicpill-firstname-input"> <b><u>Enseigne : </u></b></label>
																				</td>
																				<td style="width: 70%;">
																					<input type="text"id="idninEnseigne" name="ninEnseigne" value="{{ninea.ninEnseigne}}" class="form-control form-control-sm">						
																				</td>
																			</tr>
																			<tr>
																				<td style="width: 30%;">
																					<label for=""> <b><u> Récépissé:</u></b> </label>
																				</td>
																				<td style="width: 70%;">
																					<input type="text" id="idrecepisse" name="recepisse" value=" {{ninea.ninRecepisse}}"
																						class="form-control form-control-sm">
																				</td>
																			</tr>
																		
																		{% elseif ninea.formeJuridique.id == 32  or ninea.formeJuridique.id == 40 or ninea.formeJuridique.id == 41
																				or ninea.formeJuridique.id == 42 or ninea.formeJuridique.id == 43 or ninea.formeJuridique.id == 45 or ninea.formeJuridique.id == 46 
																				or ninea.formeJuridique.id == 47 or ninea.formeJuridique.id == 56 or ninea.formeJuridique.id == 97 or ninea.formeJuridique.id == 95 %}
																				<tr>
																					<td style="width: 30%;">
																						<label for="basicpill-firstname-input"> <b><u>Enseigne : </u></b></label>
																					</td>
																					<td style="width: 70%;">
																						<input type="text"id="idninEnseigne" name="ninEnseigne" value="{{ninea.ninEnseigne}}" class="form-control form-control-sm">						
																					</td>
																				</tr>
																				<tr>
																					<td style="width: 30%;">
																						<label for=""> <b><u> Arrêté ou decret ou loi:</u></b> </label>
																					</td>
																					<td style="width: 70%;">
																						<input type="text" id="idarrete" name="arrete" value=" {{ ninea.ninArrete }}"
																							class="form-control form-control-sm">
																					</td>
																				</tr>

																{% else %}
																	<tr>
																		<td style="width: 30%;">
																			<label for="basicpill-firstname-input"> <b><u>Enseigne : </u></b></label>
																		</td>
																		<td style="width: 70%;">
																			<input type="text"id="idninEnseigne" name="ninEnseigne" value="{{ninea.ninEnseigne}}" class="form-control form-control-sm">						
																		</td>
																	</tr>
																	<tr>
																		<td style="width: 30%;">
																			<label for=""> <b><u>Régistre de commerce :</u></b> </label>
																		</td>
																		<td style="width: 70%;">
																			<input type="text" id="ni_nineaproposition_ninRegcom" name="ni_nineaproposition_ninRegcom"
																				value="{{ ninea.ninRegcom }}" class="form-control form-control-sm">
																			<span style="color: red;" id="ninregcom"></span>
																		</td>
																	</tr>
																		<tr>
																			<td style="width: 30%;">
																				<label for=""> <b><u>Date de régistre :</u></b> </label>
																			</td>
																			<td style="width: 70%;">
																				<input type="date" id="idninDatreg" name="ninDatreg" value="{{ninea.ninDatreg|date('Y-m-d')}}"
																					class="form-control form-control-sm" required>
																			</td>
																		</tr>
																		
																{% endif %}
																	

															</table>
														</div>
													</div>
												</fieldset>
												<br>
											</div>
											
										</div>
									</div>
									
									</div>
								</div>
							</div>
						</div>
						
					</div>
					<!-- end accordion -->
				</div>
			</div>
			<!-- end col -->
			
		</div>

	
	    <div class="card" style=" margin: 0%;padding: 0%;-webkit-box-shadow:0 1rem 3rem rgba(0,0,0,.175);box-shadow:0 1rem 3rem rgba(0,0,0,.175)">
		
			<div class="col-lg-12">
				<div class="tab " role="tabpanel">
					<ul class="nav nav-tabs nav-fill "  >

						<li class="nav-item ">
							<a class="nav-link active  " id="idpersonne" data-bs-toggle="tab"  href="#personne" role="tab"  >
								<span class="d-block d-sm-none">
									<i class="fas fa-home"></i>
								</span>
								<span class="d-none d-sm-block">
									{% if ninea.formeJuridique.niFormeunite.id == 11 %} Personne physique 
									{% else %}
										{% if ninea.formeJuridique.niFormeunite.id == 21 %}
											Personne morale
										{% else %}
											{% if ninea.formeJuridique.niFormeunite.id == 12 %}
												Autres personnes physiques imposables
											{% else %}
												{% if ninea.formeJuridique.niFormeunite.id == 22 %}
													Autres personnes morales
												{% endif %}	
											{% endif %}
										{% endif %}
									{% endif %}

								</span>
							</a>
						</li>
						<li class="nav-item">
							<a class="nav-link  disabled"  id="idcoordonnee" data-bs-toggle="tab" href="#coordonnees" role="tab" >
								<span class="d-block d-sm-none">
									<i class="fas fa-home"></i>
								</span>
								<span class="d-none d-sm-block">Coordonnées de l'établissement
								</span>
							</a>
						</li>

						<li class="nav-item">
							<a class="nav-link disabled" id="idactivite" data-bs-toggle="tab" href="#activites" role="tab" >
								<span class="d-block d-sm-none">
									<i class="fas fa-home"></i>
								</span>
								<span class="d-none d-sm-block">Activités et produits</span>
							</a>
						</li>

						<li class="nav-item">
							<a class="nav-link disabled" id="idactiviteEconomique" data-bs-toggle="tab" href="#activiteEconomiques" role="tab">
								<span class="d-block d-sm-none">
									<i class="fas fa-home"></i>
								</span>
								<span class="d-none d-sm-block">Activité économique
								</span>
							</a>
						</li>

						{% if (ninea.formeJuridique.niFormeunite.id == 21 or ninea.formeJuridique.niFormeunite.id == 22) %} 

							<li class="nav-item">
								<a class="nav-link inactive_tab1" id="iddirigeant" data-bs-toggle="tab" href="#dirigeants" role="tab">
									<span class="d-block d-sm-none">
										<i class="fas fa-home"></i>
									</span>
									<span class="d-none d-sm-block">Dirigeants et associés</span>
								</a>
							</li>
						{% endif %}
					</ul>


					<div class="tab-content p-3 text-muted tabs" style="border: 3px solid #eeeeee;">
						
						<div	class="tab-pane active" id="personne" role="tabpanel">

							
							{% if ninea.niPersonne is not null  %} 
								<fieldset class=" border  p-2 ">
											{% if (ninea.formeJuridique.niFormeunite.id == 11) or  (ninea.formeJuridique.niFormeunite.id == 12) %}
												<div id="idPPhysique">
													<div class="row">
														<div class="col-lg-6 ">
															<fieldset class="border p-2">
															<legend class="w-auto float-none p-2">Anciennes données</legend>	
																<table style="width: 100%;">
																	<tr>
																		<td style="width: 50%;">
																			<label for="" class="TXT mt-2"><b><u>Civilité : </u></b></label>
																			<span style="color: red;">*</span>
																		</td>
																		<td style="width: 40%;">
																			<select disabled class="form-control form-control-sm classselect mt-2" name="civilite" id="idCivilite" required>
																				<option value=""  selected>Sélectionner ...			</option>
																				{% for tagciv in civilites %}
																					{% if tagciv.id == ninea.niPersonne.civilite.id %}
																							<option value="{{ tagciv.id}}" selected>	{{ tagciv.civlibelle}}</option>
																						{% else %}
																							<option value="{{ tagciv.id}}" >	{{ tagciv.civlibelle}}</option>
																					{% endif %}
																				{% endfor %}
																			</select>
																			<span style="color: red;" id="nincivil"></span>
																		</td>
																	</tr>
										
																	<tr>
																		<td style="width: 30%;">
																			<label for="" class="TXT mt-2"><b><u>Prénom : </u></b></label>
																			<span style="color: red;">*</span>
																		</td>
																		<td style="width: 70%;">
																			<input type="text" disabled name="prenom" maxlength="100" id="prenom" required value="{{ninea.niPersonne.ninPrenom}}" {% if tempninea.tempNiPersonnes[0].ninPrenom != ninea.niPersonne.ninPrenom %} style="background-color:green ; color : white" {% endif %} class="form-control form-control-sm classselect mt-2"
																				onkeyup="this.value=this.value.toUpperCase()">
																			<span style="color: red;" id="ninprenom"></span>
																		</td>
																	</tr>
										
																	<tr>
																		<td style="width: 30%;">
																			<label for="" class="TXT mt-2"><b><u>Nom : </u></b></label>
																			<span style="color: red;">*</span>
																		</td>
																		<td style="width: 70%;">
																			<input type="text" disabled name="nom" {% if tempninea.tempNiPersonnes[0].ninNom != ninea.niPersonne.ninNom %} style="background-color:green ; color : white" {% endif %} id="idnom" maxlength="100" class="form-control form-control-sm mt-2" required value="{{ninea.niPersonne.ninNom}}">
																			<span style="color: red;" id="ninnom"></span>
																		</td>
																	</tr>
										
																	<tr>
																		<td style="width: 30%;">
																			<label for=""  class="TXT mt-2"><b><u>Sexe : </u></b></label>
																			<span style="color: red;">*</span>
																		</td>
																		<td style="width: 70%;">
																			<select  disabled class="form-control  form-control-sm classselect mt-2" name="sexe" id="idsexe" aria-readonly="true">
																				{% for tags in sexes %}
																					{% if tags.id == ninea.niPersonne.ninSexe.id %}
																						<option value="{{ tags.id }}" selected > {{ tags.libelle}}</option>
																					{% else %}
																						<option value="0" > Sélectionner ...</option>
																					{% endif %}
																				{% endfor %}														
																			</select>
																			<span style="color: red;" id="ninsexe"></span>
										
																		</td>
																	</tr>
										
																	<tr>
																		<td style="width: 30%;">
																			<label for="" class="TXT mt-2"><b><u>Date de naissance : </u></b></label>
																			<span style="color: red;">*</span>
																		</td>
																		<td style="width: 70%;">
																			<input  disabled type="date" name="datenais" id="idDatenais"  min="1900-01-01" required value="{{ninea.niPersonne.ninDateNaissance|date("Y-m-d")}}" class="form-control form-control-sm mt-2">
																			<span style="color: red;" id="nindatenais"></span>
																		</td>
																	</tr>
										
																	<tr>
																		<td style="width: 30%;">
																			<label for="" class="TXT mt-2"><b><u>Lieu de naissance : </u></b></label>
																			<span style="color: red;">*</span>

																		</td>
																		<td style="width: 70%;">
																			<input type="text" disabled name="lieunais" id="idlieunais" maxlength="100"  value="{{ninea.niPersonne.ninLieuNaissance}}"  class="form-control form-control-sm mt-2" required>
																			<span style="color: red;" id="ninlieunais"></span>
																		</td>
																	</tr>
																	
																</table>
																<table style="width: 100%;" class="mt-2">
																	<tr>
																		<td style="width: 50%;">
																			<label for="" class="TXT"> <b><u>Nationalité : </u></b>  </label>
																			<span style="color: red;">*</span>
																		</td>
																		<td style="width: 70%;">
																			<select disabled class="form-control form-control-sm select2 classselect" name="nationalite"   id="idnationalite_personne" required>
																				<option value="" selected>
																					Sélectionner</option>
																				{% for tags in nationalites %}
																				   {% if tempninea.tempNiPersonnes[0].nationalite.id == tags.id %}
																					<option value="{{tags.id}}"  selected >
																						{{tags.id}}-{{ tags.libelle}}</option>
																					{% else %}
																					  <option value="{{tags.id}}" >
																						{{tags.id}}-{{ tags.libelle}}</option>
																					{% endif %}
																				{% endfor %}
																			</select>
																			<span style="color: red;" id="ninationalite"></span>
																		</td>
																	</tr>
																</table>
										
																<div id="tableCni_personne" class="mt-2">
																	<table  style="width: 100%;">
																		<tr id="trcni">
																			<td style="width: 50%;">
																				<label for="" class="TXT"> <b><u>CNI : </u></b></label>
																				<span style="color: red;">*</span>
																			</td>
																			<td style="width: 50%;" >
																				<input disabled  type="password" readonly onfocus="this.removeAttribute('readonly');" name="cni" id="idcni" value="{{tempninea.tempNiPersonnes[0].ninCNI}}" maxlength = '14'  required
																					oninput="this.value = this.value.replace(/[^A-Za-z0-9]/g, '');" onkeyup="this.value=this.value.toUpperCase()" onselectstart="return false" onpaste="return false;" onCopy="return false" onCut="return false" onDrag="return false" onDrop="return false"
																					 class="form-control  form-control-sm">
																				<span style="color: red;" id="nincni"></span>
																			</td>
																		</tr>
																		
																		<tr >
																			<td style="width: 30%;">
																				<label for="" class="TXT mt-2" id="labelconfirmcni"> <b><u>Confirmation CNI : </u></b></label>
																				<span style="color: red;">*</span>
																			</td>
																			<td style="width: 50%;" >
																				<input disabled type="text" name="confirm_cni" id="idConfirmcni" required class="form-control form-control-sm  mt-2" 
																					maxlength = '14'  onkeyup="this.value=this.value.toUpperCase()" onselectstart="return false" onpaste="return false;" onCopy="return false" onCut="return false" onDrag="return false" onDrop="return false"
																					oninput="this.value = this.value.replace(/[^A-Za-z0-9]/g, '');" value="{{tempninea.tempNiPersonnes[0].ninCNI}}" >
																				<span style="color: red;" id="ninconfcni"></span>
																			</td>
																		</tr>
																		<tr id="trcni" class="mt-2">
																			<td style="width: 30%;">
																				<label for="" class="TXT mt-2"><b><u>Date de délivrance  : </u></b></label>
																				<span style="color: red;">*</span>
																			</td>
																			<td style="width: 70%;" >
																				<input disabled type="date" name="datecni" id="idDatecni" value="{{tempninea.tempNiPersonnes[0].ninDateCNI|date("Y-m-d") }}" min="1901-01-01" class="form-control form-control-sm mt-2">
																				<span style="color: red;" id="ninDatecni"></span>
																			</td>
																		</tr>
																	</table>
																</div>
																<div  id="tablePassport_personne" class="mt-2"> 
																	<table style="width: 100%;">
																		<tr id="trPassport">
																			<td style="width: 50%;">
																				<label for="" class="TXT ">	<b><u>Passport : </u></b></label>
																				<span style="color: red;">*</span>
																			</td>
																			<td style="width: 70%;">
																				<input type="password" name="passport" id="idpassport" maxlength = '14' oninput="this.value = this.value.replace(/[^A-Za-z0-9]/g, '');" 
																				class="form-control form-control-sm classselect" onkeyup="this.value=this.value.toUpperCase()"  onselectstart="return false" onpaste="return false;" onCopy="return false" onCut="return false" onDrag="return false" onDrop="return false"
																				readonly onfocus="this.removeAttribute('readonly');">
																				<span style="color: red;" id="ninpassport"></span>
																			</td>
																		</tr>
																		<tr >
																			<td style="width: 30%;">
																				<label for="" class="TXT mt-2" id="labelconfirmpassport"> <b><u>Confirmation PP : </u></b></label>
																				<span style="color: red;">*</span>
																			</td>
																			<td style="width: 70%;" >
																				<input type="text" name="confirm_passport" id="idConfirmpassport"  onselectstart="return false" onpaste="return false;" onCopy="return false" onCut="return false" onDrag="return false" onDrop="return false"
																					class="form-control form-control-sm  mt-2" 
																					maxlength = '14'  onkeyup="this.value=this.value.toUpperCase()"
																					oninput="this.value = this.value.replace(/[^A-Za-z0-9]/g, '');" value="" >
																				<span style="color: red;" id="ninconfpassport"></span>
																			</td>
																		</tr>
																		<tr id="trDatePassport">
																			<td style="width: 30%;">
																				<label for="" class="TXT mt-2"><b><u>Date du passport  : </u></b></label>
																			</td>
																			<td style="width: 70%;">
																				<input type="date"  name="datepassport" id="idDatepassport" min="1901-01-01" class="form-control form-control-sm mt-2 classselect">
																				<span style="color: red;" id="nindatepassport"></span>
																			</td>
																		</tr>
																	</table>
																</div>
																
																<table style="width:100% ;" class="mt-2">
																	<tr>
																		<td style="width: 50%;">
																			<label for="" class="TXT"><b><u>Téléphone : </u></b></label>
																			<span style="color: red;">*</span>

																		</td>
																		<td style="width: 70%;">
																			<input type="text" disabled name="telephone" maxlength = '9' id="idtelpersonne"  value="{{ninea.niPersonne.ninTelephone}}" class="form-control form-control-sm mt-2" required
																			  'oninput="this.value = this.value.replace(/[^0-9,]/g, '');" '>
																			<span style="color: red;" id="nintelpersonne"></span>
																		</td>
																	</tr>
																	<tr>
																		<td style="width: 30%;">
																			<label for="" class="TXT mt-2"><b><u>Email : </u></b></label>
																		</td>
																		<td style="width: 70%;">
																			<input type="email" disabled name="email" id="idemailpersonne"  value="{{ninea.niPersonne.ninEmailPersonnel}}" class="form-control form-control-sm">
																			<span style="color: red;" id="ninemail_personne"></span>
																		</td>
																	</tr>
										
																</table>

                                                                <hr class="dotted">
                                                                <table style="width: 100%;">
																	<tr>
																		<td style="width: 50%;">
																			<label for="" class="TXT"> <b><u>Type Voie : </u></b> </label>
																		</td>
										
																		<td style="width: 50%;">
																			<select disabled class="form-control form-control-sm classselect" name="typevoie" value="" id="idtypevoie" >
																				<option value="" selected >	Sélectionner</option>
																				{% for tagv in typevoies %}
																				     {% if ninea.niPersonne.ninTypevoie is not null %}
																						{% if tagv.id == ninea.niPersonne.ninTypevoie.id %}
																							<option value="{{ tagv.id }}" selected> {{ tagv.tyvlibelle}}</option>
																						{% else %}
																							<option value="{{ tagv.id }}" > {{ tagv.tyvlibelle}}</option>
																						{% endif %}
																					{% else %}
																							<option value="{{ tagv.id }}" > {{ tagv.tyvlibelle}}</option>
																						{% endif %}
																						
																				{% endfor %}
																			</select>
																			<span style="color: red;" id="nintypevoie"></span>
																		</td>
																	</tr>
										
																	<tr>
																		<td style="width: 50%;">
																			<label for="" class="TXT"><b><u>Voie : </u></b>  </label>

																		</td>
																		<td style="width: 50%;">
																			<input disabled type="text" name="voie" maxLength="50" id="idvoie" value="{{ ninea.niPersonne.ninVoie}}" 
																			onkeyup="this.value=this.value.toUpperCase()"
																			class="form-control form-control-sm " >
																		</td>
																	</tr>
																	<tr>
																		<td style="width: 50%;">
																			<label for="numvoie" class="TXT"> <b><u>Numero de la voie : </u></b> </label>
																		</td>
																		<td style="width: 50%;">
																			<input disabled type="text" maxLength="5" name="numvoie" id="idNumvoie" value="{{ ninea.niPersonne.numVoie}}" oninput="this.value = this.value.replace(/[^0-9,]/g, '');" class="form-control form-control-sm" >
																		</td>
																	</tr>
																	<tr>
																		<td style="width: 50%;">
																			<label for="numvoie" class="TXT"><b><u>Région : </u></b></label>
																			<span style="color: red;">*</span>
																		</td>
																		<td style="width: 50%;">
																			<select disabled class="form-control form-control-sm classselect  " name="region" id="region" style="width: 100%;">
																				<option>Sélectionner ...</option>
																				{% for tagr in regions %}
																					{% if tagr.id == ninea.niPersonne.ninQvh.qvhCACRID.cacrCAVID.cavDEPID.depRegCD.id %}
																						<option value="{{ tagr.id }}" selected> {{ tagr.libelle}}</option>
																					{% else %}
																						<option value="{{ tagr.id }}" > {{ tagr.libelle}}</option>
																					{% endif %}

																				{% endfor %}
																				</select>
																				<span style="color: red;" id="ninregion"></span>
																			</td>
																		</td>
																	</tr>
																	<tr>
																		<td>
																			<label for="numvoie" class="TXT"><b><u>Département : </u></b></label>
																			<span style="color: red;">*</span>
																		</td>
																		<td>
																			<select disabled class="form-control form-control-sm classselect " name="departement" id="departement" style="width: 100%;">
																				{% if ninea.niPersonne.ninQvh.qvhCACRID.cacrCAVID.cavDEPID %}
																					<option value="{{ ninea.niPersonne.ninQvh.qvhCACRID.cacrCAVID.cavDEPID.id }}" selected> {{ ninea.niPersonne.ninQvh.qvhCACRID.cacrCAVID.cavDEPID.description}}</option>
																				{% else %}
																						<option value="" ></option>
																				{% endif %}
																			</select>
																			<span style="color: red;" id="nindepartement"></span>
																		</td>
																	</tr>
																	<tr>
																		<td>
																			<label for="numvoie" class="TXT"><b><u>Commune/Ville/Arrondissement : </u></b></label>
																			<span style="color: red;">*</span>
																		</td>
																		<td>
																			<select disabled class="form-control form-control-sm classselect" name="cav" id="cav" style="width: 100%;">
																					{% if ninea.niPersonne.ninQvh.qvhCACRID.cacrCAVID %}
																						<option value="{{ ninea.niPersonne.ninQvh.qvhCACRID.cacrCAVID.id }}" selected> {{ ninea.niPersonne.ninQvh.qvhCACRID.cacrCAVID.libelle}}</option>
																					{% else %}
																							<option value="" ></option>
																					{% endif %}
																			</select>
																			<span style="color: red;" id="nincav"></span>
																		</td>
																	</tr>
										
																	<tr>
																		<td>
																			<label for="basicpill-firstname-input" class="TXT">	<b><u>Com d'arr/Communauté rurale : </u></b></label>
																			<span style="color: red;">*</span>
																		</td>
																		<td>
																			<select disabled class="form-control form-control-sm classselect" name="cacr" id="cacr" style="width: 100%;">
																					{% if ninea.niPersonne.ninQvh.qvhCACRID %}
																						<option value="{{ ninea.niPersonne.ninQvh.qvhCACRID.id }}" selected> {{ ninea.niPersonne.ninQvh.qvhCACRID.libelle}}</option>
																					{% else %}
																							<option value="" ></option>
																					{% endif %}
																			</select>
																			<span style="color: red;" id="nincacr"></span>
																		</td>
																	</tr>
																	<tr>
										
																		<td style="width: 30%;">
																			<label for="basicpill-firstname-input" class="TXT">
																				<b><u>Quartier/Village/Hameau : </u></b></label>
																			<span style="color: red;">*</span>
																		</td>
																		<td style="width: 70%;">
																			<select disabled class="form-control form-control-sm classselect"  required="true" name="qvh" id="qvh" style="width: 100%;">
																					{% if ninea.niPersonne.ninQvh %}
																						<option value="{{ ninea.niPersonne.ninQvh.id }}" selected> {{ ninea.niPersonne.ninQvh.libelle}}</option>
																					{% else %}
																							<option value="" ></option>
																					{% endif %}
																			</select>
																			<span style="color: red;" id="ninqvh"></span>
																		</td>
																	</tr>	
																	<tr>				
																		<td style="width: 30%;">
																			<label for="basicpill-firsAdresse complète:tname-input" class="TXT">
																				<b><u>Adresse domicile : </u></b></label>
																			<span style="color: red;">*</span>
																		</td>
																		<td style="width: 70%;">
																			<input disabled type="text" name="adresse" id="idadresse" value="{{ ninea.niPersonne.adresse}}"class="form-control form-control-sm"
																			onkeyup="this.value=this.value.toUpperCase()">
																			<span style="color: red;" id="ninadresse"></span>
																		</td>
																	</tr>

																</table>
																		
															</fieldset>
															
														</div>
										
														<div class="col-lg-6">
															<fieldset class="border p-2">	
															   <legend class="w-auto float-none p-2">Nouvelles données</legend>									
																<table style="width: 100%;">
																	<tr>
																		<td style="width: 50%;">
																			<label for="" class="TXT mt-2"><b><u>Civilité : </u></b></label>
																			<span style="color: red;">*</span>
																		</td>
																		<td style="width: 50%;">
																			<select class="form-control form-control-sm classselect mt-2" name="civilite_modif" id="idCivilite_modif" required>
																				<option value="" selected>Sélectionner ...			</option>
																				{% for tagciv in civilites %}
																					{% if tagciv.id == ninea.niPersonne.civilite.id %}
																							<option value="{{ tagciv.id}}" selected>	{{ tagciv.civlibelle}}</option>
																						{% else %}
																							<option value="{{ tagciv.id}}" >	{{ tagciv.civlibelle}}</option>
																					{% endif %}
																				{% endfor %}
																			</select>
																			<span style="color: red;" id="nincivil_modif"></span>
																		</td>
																	</tr>
										
																	<tr>
																		<td style="width: 30%;">
																			<label for="" class="TXT mt-2"><b><u>Prénom : </u></b></label>
																			<span style="color: red;">*</span>
																		</td>
																		<td style="width: 50%;">
																			<input type="text" name="prenom_modif" maxlength="100" id="prenom_modif" required value="{{tempninea.tempNiPersonnes[0].ninPrenom}}" {% if tempninea.tempNiPersonnes[0].ninPrenom != ninea.niPersonne.ninPrenom %} style="background-color:green ; color : white" {% endif %}  class="form-control form-control-sm classselect mt-2"
																				onkeyup="this.value=this.value.toUpperCase()">
																			<span style="color: red;" id="ninprenom_modif"></span>
																		</td>
																	</tr>
										
																	<tr>
																		<td style="width: 30%;">
																			<label for="" class="TXT mt-2"><b><u>Nom : </u></b></label>
																			<span style="color: red;">*</span>
																		</td>
																		<td style="width: 50%;">
																			<input type="text" onkeyup="this.value=this.value.toUpperCase()" name="nom_modif" id="idnom_modif"   maxlength="100" class="form-control form-control-sm mt-2" required value="{{tempninea.tempNiPersonnes[0].ninNom }}"  {% if tempninea.tempNiPersonnes[0].ninNom != ninea.niPersonne.ninNom %} style="background-color:green ; color : white" {% endif %}>
																			<span style="color: red;" id="ninnom_modif"></span>
																		</td>
																	</tr>
										
																	<tr>
																		<td style="width: 30%;">
																			<label for="" class="TXT mt-2"><b><u>Sexe : </u></b></label>
																			<span style="color: red;">*</span>
																		</td>
																		<td style="width: 50%;">
																			<select class="form-control form-control-sm classselect mt-2" {% if tempninea.tempNiPersonnes[0].ninSexe.id != ninea.niPersonne.ninSexe.id %} style="background-color:green ; color : white" {% endif %}  name="sexe_modif" id="idsexe_modif" aria-readonly="true">
																				{% for tags in sexes %}
																					{% if tags.id == tempninea.tempNiPersonnes[0].ninSexe.id %}
																						<option value="{{ tags.id }}" selected > {{ tags.libelle}}</option>
																					{% else %}
																						<option value="0" > Sélectionner ...</option>
																					{% endif %}
																				{% endfor %}														
																			</select>
																			<span style="color: red;" id="ninsexe_modif"></span>
										
																		</td>
																	</tr>
										
																	<tr>
																		<td style="width: 30%;">
																			<label for="" class="TXT mt-2"><b><u>Date de naissance : </u></b></label>
																			<span style="color: red;">*</span>
																		</td>
																		<td style="width: 50%;">
																			<input type="date" name="datenais_modif" id="idDatenais_modif"  min="1900-01-01" required value="{{tempninea.tempNiPersonnes[0].ninDateNaissance|date("Y-m-d")}}"  {% if tempninea.tempNiPersonnes[0].ninDateNaissance != ninea.niPersonne.ninDateNaissance %} style="background-color:green ; color : white" {% endif %} class="form-control form-control-sm mt-2">
																			<span style="color: red;" id="nindatenais_modif"></span>
																		</td>
																	</tr>
										
																	<tr>
																		<td style="width: 30%;">
																			<label for="" class="TXT mt-2"><b><u>Lieu de naissance : </u></b></label>
																			<span style="color: red;">*</span>

																		</td>
																		<td style="width: 70%;">
																			<input type="text" name="lieunais_modif" id="idlieunais_modif" maxlength="100"  value="{{tempninea.tempNiPersonnes[0].ninLieuNaissance}}" {% if tempninea.tempNiPersonnes[0].ninLieuNaissance != ninea.niPersonne.ninLieuNaissance %}  style="background-color:green ; color : white" {% endif %} class="form-control form-control-sm mt-2" required>
																			<span style="color: red;" id="ninlieunais_modif"></span>
																		</td>
																	</tr>
																	
																</table>
																<table style="width: 100%;" class="mt-2">
																	<tr>
																		<td style="width: 50%;">
																			<label for="" class="TXT"> <b><u>Nationalité : </u></b>  </label>
																			<span style="color: red;">*</span>
																		</td>
																		<td style="width: 70%;">
																			<select class="form-control form-control-sm select2 classselect" name="nationalite_modif"  {% if tempninea.tempNiPersonnes[0].nationalite.id != ninea.niPersonne.nationalite.id %}  style="background-color:green ; color : white" {% endif %}  id="idnationalite_personne_modif" required>
																				<option value="" selected>
																					Sélectionner</option>
																				{% for tags in nationalites %}
																				   {% if tempninea.tempNiPersonnes[0].nationalite.id == tags.id %}
																					<option value="{{tags.id}}"  selected >
																						{{tags.id}}-{{ tags.libelle}}</option>
																					{% else %}
																					  <option value="{{tags.id}}" >
																						{{tags.id}}-{{ tags.libelle}}</option>
																					{% endif %}
																				{% endfor %}
																			</select>
																			<span style="color: red;" id="ninationalite_modif"></span>
																		</td>
																	</tr>
																</table>
										
																<div id="tableCni_personne_modif" class="mt-2">
																	<table  style="width: 100%;">
																		<tr id="trcni">
																			<td style="width: 50%;">
																				<label for="" class="TXT"> <b><u>CNI : </u></b></label>
																				<span style="color: red;">*</span>
																			</td>
																			<td style="width: 50%;" >
																				<input  type="password" readonly onfocus="this.removeAttribute('readonly');" name="cni_modif" id="idcni_modif" value="{{tempninea.tempNiPersonnes[0].ninCNI}}" {% if tempninea.tempNiPersonnes[0].ninCNI != ninea.niPersonne.ninCNI %}  style="background-color:green ; color : white" {% endif %} maxlength = '14'  required
																					oninput="this.value = this.value.replace(/[^A-Za-z0-9]/g, '');" onkeyup="this.value=this.value.toUpperCase()" onselectstart="return false" onpaste="return false;" onCopy="return false" onCut="return false" onDrag="return false" onDrop="return false"
																					 class="form-control  form-control-sm">
																				<span style="color: red;" id="nincni_modif"></span>
																			</td>
																		</tr>
																		
																		<tr >
																			<td style="width: 30%;">
																				<label for="" class="TXT mt-2" id="labelconfirmcni"> <b><u>Confirmation CNI : </u></b></label>
																				<span style="color: red;">*</span>
																			</td>
																			<td style="width: 50%;" >
																				<input type="text" name="confirm_cni_modif" id="idConfirmcni_modif" required class="form-control form-control-sm  mt-2" 
																					maxlength = '14'  onkeyup="this.value=this.value.toUpperCase()" onselectstart="return false" onpaste="return false;" onCopy="return false" onCut="return false" onDrag="return false" onDrop="return false"
																					oninput="this.value = this.value.replace(/[^A-Za-z0-9]/g, '');" value="{{tempninea.tempNiPersonnes[0].ninCNI}}" {% if tempninea.tempNiPersonnes[0].ninCNI != ninea.niPersonne.ninCNI %} style="background-color:green ; color : white" {% endif %} >
																				<span style="color: red;" id="ninconfcni"></span>
																			</td>
																		</tr>
																		<tr id="trcni" class="mt-2">
																			<td style="width: 30%;">
																				<label for="" class="TXT mt-2"><b><u>Date de délivrance  : </u></b></label>
																				<span style="color: red;">*</span>
																			</td>
																			<td style="width: 70%;" >
																				<input type="date" name="datecni_modif" id="idDatecni_modif" value="{{tempninea.tempNiPersonnes[0].ninDateCNI|date("Y-m-d") }}"  {% if tempninea.tempNiPersonnes[0].ninDateCNI != ninea.niPersonne.ninDateCNI %} style="background-color:green ; color : white" {% endif %} min="1901-01-01" class="form-control form-control-sm mt-2">
																				<span style="color: red;" id="ninDatecni_modif"></span>
																			</td>
																		</tr>
																	</table>
																</div>
																<div  id="tablePassport_personne_modif" class="mt-2"> 
																	<table style="width: 100%;">
																		<tr id="trPassport">
																			<td style="width: 50%;">
																				<label for="" class="TXT ">	<b><u>Passport : </u></b></label>
																				<span style="color: red;">*</span>
																			</td>
																			<td style="width: 50%;">
																				<input type="password" value="{{tempninea.tempNiPersonnes[0].ninCNI}}" {% if tempninea.tempNiPersonnes[0].ninCNI != ninea.niPersonne.ninCNI %} style="background-color:green ; color : white" {% endif %} name="passport_modif" id="idpassport_modif" maxlength = '14' oninput="this.value = this.value.replace(/[^A-Za-z0-9]/g, '');" 
																				class="form-control form-control-sm classselect" onkeyup="this.value=this.value.toUpperCase()"  onselectstart="return false" onpaste="return false;" onCopy="return false" onCut="return false" onDrag="return false" onDrop="return false"
																				readonly onfocus="this.removeAttribute('readonly');">
																				<span style="color: red;" id="ninpassport_modif"></span>
																			</td>
																		</tr>
																		<tr >
																			<td style="width: 50%;">
																				<label for="" class="TXT mt-2" id="labelconfirmpassport"> <b><u>Confirmation PP : </u></b></label>
																				<span style="color: red;">*</span>
																			</td>
																			<td style="width: 50%;" >
																				<input type="text" name="confirm_passport_modif" value="{{tempninea.tempNiPersonnes[0].ninCNI}}" {% if tempninea.tempNiPersonnes[0].ninCNI != ninea.niPersonne.ninCNI %} style="background-color:green ; color : white" {% endif %} id="idConfirmpassport_modif"  onselectstart="return false" onpaste="return false;" onCopy="return false" onCut="return false" onDrag="return false" onDrop="return false"
																					class="form-control form-control-sm  mt-2" 
																					maxlength = '14'  onkeyup="this.value=this.value.toUpperCase()"
																					oninput="this.value = this.value.replace(/[^A-Za-z0-9]/g, '');" value="" >
																				<span style="color: red;" id="ninconfpassport_modif"></span>
																			</td>
																		</tr>
																		<tr id="trDatePassport">
																			<td style="width: 50%;">
																				<label for="" class="TXT mt-2"><b><u>Date du passport  : </u></b></label>
																			</td>
																			<td style="width: 70%;">
																				<input type="date" value="{{tempninea.tempNiPersonnes[0].ninDateCNI|date("Y-m-d") }}"  {% if tempninea.tempNiPersonnes[0].ninDateCNI != ninea.niPersonne.ninDateCNI %} style="background-color:green ; color : white" {% endif %}  name="datepassport_modif" id="idDatepassport_modif" min="1901-01-01" class="form-control form-control-sm mt-2 classselect">
																				<span style="color: red;" id="nindatepassport_modif"></span>
																			</td>
																		</tr>
																	</table>
																</div>
																
																<table style="width:100% ;" class="mt-2">
																	<tr>
																		<td style="width: 50%;">
																			<label for="" class="TXT"><b><u>Téléphone : </u></b></label>
																			<span style="color: red;">*</span>

																		</td>
																		<td style="width: 70%;">
																			<input type="text" name="telephone_modif" maxlength = '9' id="idtelpersonne_modif"  value="{{ninea.niPersonne.ninTelephone}}" class="form-control form-control-sm mt-2" required
																			  'oninput="this.value = this.value.replace(/[^0-9,]/g, '');" '>
																			<span style="color: red;" id="nintelpersonne_modif"></span>
																		</td>
																	</tr>
																	<tr>
																		<td style="width: 30%;">
																			<label for="" class="TXT mt-2"><b><u>Email : </u></b></label>
																		</td>
																		<td style="width: 70%;">
																			<input type="email" name="email" id="idemailpersonne_modif"  value="{{ninea.niPersonne.ninEmailPersonnel}}" class="form-control form-control-sm">
																			<span style="color: red;" id="ninemail_personne_modif"></span>
																		</td>
																	</tr>
										
																</table>

                                                                <hr class="dotted">
                                                                <table style="width: 100%;">
																	  <tr>
																		<td style="width: 50%;">
																			<label for="" class="TXT"> <b><u>Type Voie : </u></b> </label>
																		</td>
										
																		<td style="width: 50%;">
																			<select class="form-control form-control-sm classselect" name="typevoie_modif" value="" id="idtypevoie_modif" >
																				<option value="" selected >	Sélectionner</option>
																				{% for tagv in typevoies %}
																				     {% if ninea.niPersonne.ninTypevoie is not null %}
																						{% if tagv.id == ninea.niPersonne.ninTypevoie.id %}
																							<option value="{{ tagv.id }}" selected> {{ tagv.tyvlibelle}}</option>
																						{% else %}
																							<option value="{{ tagv.id }}" > {{ tagv.tyvlibelle}}</option>
																						{% endif %}
																					{% else %}
																							<option value="{{ tagv.id }}" > {{ tagv.tyvlibelle}}</option>
																						{% endif %}
																						
																				{% endfor %}
																			</select>
																			<span style="color: red;" id="nintypevoie_modif"></span>
																		</td>
																	</tr>
										
																	<tr>
																		<td style="width: 50%;">
																			<label for="" class="TXT"><b><u>Voie : </u></b>  </label>

																		</td>
																		<td style="width: 50%;">
																			<input type="text" name="voie_modif" maxLength="50" id="idvoie_modif" value="{{ ninea.niPersonne.ninVoie}}" 
																			onkeyup="this.value=this.value.toUpperCase()"
																			class="form-control form-control-sm " >
																		</td>
																	</tr>
																	<tr>
																		<td style="width: 50%;">
																			<label for="numvoie" class="TXT"> <b><u>Numero de la voie : </u></b> </label>
																		</td>
																		<td style="width: 50%;">
																			<input type="text" maxLength="5" name="numvoie_modif" id="idNumvoie_modif" value="{{ ninea.niPersonne.numVoie}}" oninput="this.value = this.value.replace(/[^0-9,]/g, '');" class="form-control form-control-sm" >
																		</td>
																	</tr>
																	<tr>
																		<td style="width: 50%;">
																			<label for="numvoie" class="TXT"><b><u>Région : </u></b></label>
																			<span style="color: red;">*</span>
																		</td>
																		<td style="width: 50%;">
																			<select class="form-control form-control-sm classselect  " name="region_modif" id="region_modif" style="width: 100%;">
																				<option>Sélectionner ...</option>
																				{% for tagr in regions %}
																					{% if tagr.id == ninea.niPersonne.ninQvh.qvhCACRID.cacrCAVID.cavDEPID.depRegCD.id %}
																						<option value="{{ tagr.id }}" selected> {{ tagr.libelle}}</option>
																					{% else %}
																						<option value="{{ tagr.id }}" > {{ tagr.libelle}}</option>
																					{% endif %}

																				{% endfor %}
																				</select>
																				<span style="color: red;" id="ninregion_modif"></span>
																			</td>
																		</td>
																	</tr>
																	<tr>
																		<td>
																			<label for="numvoie" class="TXT"><b><u>Département : </u></b></label>
																			<span style="color: red;">*</span>
																		</td>
																		<td>
																			<select class="form-control form-control-sm classselect " name="departement_modif" id="departement_modif" style="width: 100%;">
																				{% if ninea.niPersonne.ninQvh.qvhCACRID.cacrCAVID.cavDEPID %}
																					<option value="{{ ninea.niPersonne.ninQvh.qvhCACRID.cacrCAVID.cavDEPID.id }}" selected> {{ ninea.niPersonne.ninQvh.qvhCACRID.cacrCAVID.cavDEPID.description}}</option>
																				{% else %}
																						<option value="" ></option>
																				{% endif %}
																			</select>
																			<span style="color: red;" id="nindepartement_modif"></span>
																		</td>
																	</tr>
																	<tr>
																		<td>
																			<label for="numvoie" class="TXT"><b><u>Commune/Ville/Arrondissement : </u></b></label>
																			<span style="color: red;">*</span>
																		</td>
																		<td>
																			<select class="form-control form-control-sm classselect" name="cav_modif" id="cav_modif" style="width: 100%;">
																					{% if ninea.niPersonne.ninQvh.qvhCACRID.cacrCAVID %}
																						<option value="{{ ninea.niPersonne.ninQvh.qvhCACRID.cacrCAVID.id }}" selected> {{ ninea.niPersonne.ninQvh.qvhCACRID.cacrCAVID.libelle}}</option>
																					{% else %}
																							<option value="" ></option>
																					{% endif %}
																			</select>
																			<span style="color: red;" id="nincav_modif"></span>
																		</td>
																	</tr>
										
																	<tr>
																		<td>
																			<label for="basicpill-firstname-input" class="TXT">	<b><u>Com d'arr/Communauté rurale : </u></b></label>
																			<span style="color: red;">*</span>
																		</td>
																		<td>
																			<select class="form-control form-control-sm classselect" name="cacr_modif" id="cacr_modif" style="width: 100%;">
																					{% if ninea.niPersonne.ninQvh.qvhCACRID %}
																						<option value="{{ ninea.niPersonne.ninQvh.qvhCACRID.id }}" selected> {{ ninea.niPersonne.ninQvh.qvhCACRID.libelle}}</option>
																					{% else %}
																							<option value="" ></option>
																					{% endif %}
																			</select>
																			<span style="color: red;" id="nincacr_modif"></span>
																		</td>
																	</tr>
																	<tr>
										
																		<td style="width: 30%;">
																			<label for="basicpill-firstname-input" class="TXT">
																				<b><u>Quartier/Village/Hameau : </u></b></label>
																			<span style="color: red;">*</span>
																		</td>
																		<td style="width: 70%;">
																			<select class="form-control form-control-sm classselect"  required="true" name="qvh_modif" id="qvh_modif" style="width: 100%;">
																					{% if ninea.niPersonne.ninQvh %}
																						<option value="{{ ninea.niPersonne.ninQvh.id }}" selected> {{ ninea.niPersonne.ninQvh.libelle}}</option>
																					{% else %}
																							<option value="" ></option>
																					{% endif %}
																			</select>
																			<span style="color: red;" id="ninqvh"></span>
																		</td>
																	</tr>	
																	<tr>				
																		<td style="width: 30%;">
																			<label for="basicpill-firsAdresse complète:tname-input" class="TXT">
																				<b><u>Adresse domicile : </u></b></label>
																			<span style="color: red;">*</span>
																		</td>
																		<td style="width: 70%;">
																			<input type="text" name="adresse_modif" id="idadresse_modif" value="{{ ninea.niPersonne.adresse}}"class="form-control form-control-sm"
																			onkeyup="this.value=this.value.toUpperCase()">
																			<span style="color: red;" id="ninadresse_modif"></span>
																		</td>
																	</tr>

																</table>
															</fieldset>
										
														</div>
													</div>

												</div>
											{% else %}
												{% if (ninea.formejuridique.niFormeunite.id == 21) or  (ninea.formejuridique.niFormeunite.id == 22) %}
													<div id="idMorale"  class="col-lg-8 " >
														<fieldset class="border p-2" >
														<center>	
															<table style="width: 100%;">
																<tr >
																	<td style="width: 20%;">
																		<label for="" class="TXT"><b><u>Raison sociale : </u></b></label>
																		<span style="color: red;">*</span>
																	</td>
																	<td style="width: 80%;" >
																		<textarea name="raison"  id="idraison" cols="10" rows="5" class="form-control form-control-sm" onkeyup="this.value=this.value.toUpperCase()" required value=""  >{{ninea.niPersonne.ninRaison}}  </textarea>
																		<span style="color: red;" id="ninraison"></span>
																	</td>
																</tr>

																<tr >
																	<td style="width: 20%;">
																		<label for="" class="TXT mt-2"><b><u>Sigle : </u></b></label>
																	</td>
																	<td style="width: 80%;" >
																		<input type="text" style=" width:40%;" name="sigle" id="idSigle"onkeyup="this.value=this.value.toUpperCase()" class="form-control form-control-sm mt-2" value="{{ninea.niPersonne.ninSigle}}">
																		<span style="color: red;" id="ninsigle"></span>
																	</td>
																</tr>
															</table>
														</center>
														</fieldset>
													</div>
												{% endif %}
											{% endif %}

											<div class="row mt-3">
												<div class="col-lg-8">		</div>
												<div class="col-lg-4" align="right">
													<input type="button" value="Suivant" name="edit" id="btnSuivantPersonne" class="boutonsm ">
												</div>
											</div>	
							    </fieldset>
							

							{% endif %}
							
						</div>

						
						<div class="tab-pane " id="coordonnees" role="tabpanel">
			
							<div class="row">
								<div class="col-lg-6">
				
									<fieldset class="border p-2">	
									   <legend class="w-auto float-none p-2">Anciennes données</legend>												
										<table style="width: 100%;">
											<tr>
												<td style="width: 60%;">
													<label for="" class="TXT"> <b><u>Type Voie : </u></b> </label>
													<span style="color: red;">*</span>
												</td>
				
												<td style="width: 40%;">
													<select disabled class="form-control form-control-sm" name="typevoie_coordonnees" value="" id="idtypevoie_coordonnees" required>
														<option value="" selected >	Sélectionner</option>
														
															{% for tagv in typevoies %}
																{% if lastcoordoonnee.ninTypevoie is not null %}
																	{% if tagv.id == lastcoordoonnee.ninTypevoie.id %}
																		<option value="{{ tagv.id }}" selected> {{ tagv.tyvlibelle}}</option>
																	{% else %}
																		<option value="{{ tagv.id }}" > {{ tagv.tyvlibelle}}</option>
																	{% endif %}
																{% else %}
																	<option value="{{ tagv.id }}" > {{ tagv.tyvlibelle}}</option>
																{% endif %}
															{% endfor %}
													</select>
													<span style="color: red;" id="nintypevoie_c"></span>
												</td>
											</tr>
				
											<tr>
												<td style="width: 60%;">
													<label for="" class="TXT"><b><u>Voie : </u></b>  </label>
													<span style="color: red;">*</span>

												</td>
												<td style="width: 40%;">
													<input disabled type="text" name="voiecoordonnees" id="idvoiecoordonnees" value="{{ lastcoordoonnee.ninVoie}}" class="form-control form-control-sm">
												</td>
											</tr>
											<tr>
												<td style="width: 60%;">
													<label for="numvoie" class="TXT"> <b><u>Numero de la voie : </u></b> </label>
				
												</td>
												<td style="width: 40%;">
													<input disabled type="text" name="numvoiecoordonnees" id="idNumvoiecoordonnees" value="{{lastcoordoonnee.ninnumVoie}}" class="form-control form-control-sm">
												</td>
											</tr>
											<tr>
												<td style="width: 50%;">
													<label for="numvoie" class="TXT"> <b><u>Région : </u></b> </label>
													<span style="color: red;">*</span>
												</td>
												<td style="width: 40%;">
													<select disabled class="form-control select2 form-control-sm  " name="regioncoordonnees" required id="regioncoordonnees" style="width: 100%;">
														<option>Sélectionner ...</option>
															{% for tagr in regions %}
																{% if tagr.id == lastcoordoonnee.qvh.qvhCACRID.cacrCAVID.cavDEPID.depRegCD.id %}
																	<option value="{{ tagr.id }}" selected> {{ tagr.libelle}}</option>
																{% else %}
																	<option value="{{ tagr.id }}" > {{ tagr.libelle}}</option>
																{% endif %}

															{% endfor %}
														</select>
														<span style="color: red;" id="ninregion"></span>
													</td>
												</td>
											</tr>
											<tr>
												<td style="width: 50%;">
													<label for="numvoie" class="TXT"> <b><u> Département : </u></b> </label>
													<span style="color: red;">*</span>
												</td>
												<td style="width: 40%;">
													<select disabled class="form-control form-control-sm   select2" name="departementcoordonnees" required id="departementcoordonnees" style="width: 100%;">
														{% if lastcoordoonnee.qvh.qvhCACRID.cacrCAVID.cavDEPID %}
															<option value="{{ lastcoordoonnee.qvh.qvhCACRID.cacrCAVID.cavDEPID.id }}" selected> {{ lastcoordoonnee.qvh.qvhCACRID.cacrCAVID.cavDEPID.description}}</option>
														{% else %}
																<option value="" >Sélectionner ...</option>
														{% endif %}
													</select>
													<span style="color: red;" id="nindepartementcoordonnees"></span>
												</td>
											</tr>
											<tr>
												<td style="width: 50%;">
													<label for="numvoie" class="TXT"><b><u>CAV : </u></b></label>
													<span style="color: red;">*</span>
												</td>
												<td style="width: 40%;">
													<select disabled class="form-control form-control-sm   select2" name="cavcoordonnees" required id="cavcoordonnees" style="width: 100%;">
														{% if lastcoordoonnee.qvh.qvhCACRID.cacrCAVID %}
															<option value="{{ lastcoordoonnee.qvh.qvhCACRID.cacrCAVID.id }}" selected> {{ lastcoordoonnee.qvh.qvhCACRID.cacrCAVID.libelle}}</option>
														{% else %}
															<option value="" ></option>
														{% endif %}												
													</select>
													<span style="color: red;" id="nincavcoordonnees"></span>
												</td>
											</tr>
				
											<tr>
												<td>
													<label for="basicpill-firstname-input" class="TXT"><b><u>CACR : </u></b>           </label>
													<span style="color: red;">*</span>
												</td>
												<td>
													<select disabled class="form-control form-control-sm   select2" name="cacrcoordonnees" id="cacr_coordonneescoordonnees" required style="width: 100%;">
														{% if lastcoordoonnee.qvh.qvhCACRID %}
																	<option value="{{ lastcoordoonnee.qvh.qvhCACRID.id }}" selected> {{ lastcoordoonnee.qvh.qvhCACRID.libelle}}</option>
																{% else %}
																		<option value="" ></option>
																{% endif %}
													</select>
													<span style="color: red;" id="nincacrcoordonnees"></span>
												</td>
											</tr>
											<tr>
				
												<td style="width: 30%;">
													<label for="basicpill-firstname-input" class="TXT"><b><u>Quartier/Village/Hameau : </u></b></label>
													<span style="color: red;">*</span>
												</td>
												<td style="width: 70%;">
													<select disabled class="form-control form-control-sm  select2" name="qvhcoordonnees" id="qvhcoordonnees" required style="width: 100%;">
														{% if lastcoordoonnee.qvh %}
																<option value="{{ lastcoordoonnee.qvh.id }}" selected> {{ lastcoordoonnee.qvh.libelle}}</option>
															{% else %}
																<option value="" ></option>
															{% endif %}
													</select>
													<span style="color: red;" id="ninqvhcoordonnees"></span>
												</td>
											</tr>
				
										</table>
										<table style="width: 100%;">
											<tr>
												<td style="width: 60%;">
													<label for=""><b><u>Adresse de l'établissement : </u></b></label>
													<span style="color: red;">*</span>
				
												</td>
												<td style="width: 40%;">
													<input disabled type="text" name="adresse1coordonnees" id="idadresse1coordonnees" value="{{lastcoordoonnee.ninadresse1}}	" required class="form-control form-control-sm">
												</td>
											</tr>
											
											<tr>
												<td style="width: 60%;">
													<label for=""><b><u>Téléphone portable : </u></b></label>
													<span style="color: red;">*</span>
				
												</td>
												<td style="width: 40%;">
													<input disabled type="text" name="telephone1coordonnees" id="idtelephone1coordonnees" value="{{lastcoordoonnee.ninTelephon1}}" required class="form-control form-control-sm">
												</td>
											</tr>
											<tr>
												<td style="width: 60%;">
													<label for=""><b><u>Téléphone fixe : </u></b></label>
												</td>
												<td style="width: 40%;">
													<input disabled type="text" name="telephone2coordonnees" id="idtelephone2coordonnees" value="{{lastcoordoonnee.nintelephon2}}" 
													oninput="this.value.replace(/[^0-9,]/g, '');" class="form-control form-control-sm">
												</td>
											</tr>
											<tr>
												<td style="width: 50%;">
													<label for=""><b><u>Email : </u></b></label>
												</td>
												<td style="width: 40%;">
													<input disabled type="text" name="emailcoordonnees" id="idemailcoordonnees" value="{{lastcoordoonnee.ninEmail}}" class="form-control form-control-sm">
												</td>
											</tr>
				
											<tr>
												<td style="width: 50%;">
													<label for=""><b><u>Boite postale : </u></b></label>
												</td>
												<td style="width: 40%;">
													<input disabled type="text" name="bpcoordonnees" id="idbpcoordonnees" value="{{lastcoordoonnee.ninBP}}" class="form-control form-control-sm">
												</td>
											</tr>
											<tr>
												<td style="width: 30%;">
													<label for=""><b><u>URL : </u></b></label>
												</td>
												<td style="width: 70%;">
													<input disabled type="text" name="urlcoordonnees" id="idurlcoordonnees" value="{{lastcoordoonnee.ninUrl}}" class="form-control form-control-sm">
												</td>
											</tr>
										</table>
				
									</fieldset>
								</div>
				
								<div class="col-lg-6">
									<fieldset class="border p-2">
									   <legend class="w-auto float-none p-2">Nouvelles données</legend>													
										<table style="width: 100%;">
											<tr>
												<td style="width: 40%;">
													<label for="" class="TXT"> <b><u>Type Voie : </u></b> </label>
													<span style="color: red;"></span>
												</td>
				
												<td style="width: 40%;">
													<select class="form-control form-control-sm" name="typevoie_coordonnees_modif"  id="idtypevoie_coordonnees_modif" >
														<option value="" selected >	Sélectionner</option>
														
															{% for tagv in typevoies %}
																{% if lastcoordoonnee.ninTypevoie is not null %}
																	{% if tagv.id == lastcoordoonnee.ninTypevoie.id %}
																		<option value="{{ tagv.id }}" selected> {{ tagv.tyvlibelle}}</option>
																	{% else %}
																		<option value="{{ tagv.id }}" > {{ tagv.tyvlibelle}}</option>
																	{% endif %}
																{% else %}
																	<option value="{{ tagv.id }}" > {{ tagv.tyvlibelle}}</option>
																{% endif %}
															{% endfor %}
													</select>
													<span style="color: red;" id="nintypevoie_coordonnees"></span>
												</td>
											</tr>
				
											<tr>
												<td style="width: 40%;">
													<label for="" class="TXT"><b><u>Voie : </u></b>  </label>
													<span style="color: red;"></span>

												</td>
												<td style="width: 40%;">
													<input type="text" name="voie_coordonnees_modif" id="idvoie_coordonnees_modif" value="{{ lastcoordoonnee.ninVoie}}" class="form-control form-control-sm">
												</td>
											</tr>
											<tr>
												<td style="width: 40%;">
													<label for="numvoie" class="TXT"> <b><u>Numero de la voie : </u></b> </label>
				
												</td>
												<td style="width: 40%;">
													<input type="text" name="numvoie_coordonnees_modif" id="idNumvoie_coordonnees_modif" value="{{lastcoordoonnee.ninnumVoie}}" class="form-control form-control-sm">
												</td>
											</tr>
											<tr>
												<td style="width: 40%;">
													<label for="numvoie" class="TXT"> <b><u>Région : </u></b> </label>
													<span style="color: red;">*</span>
												</td>
												<td style="width: 40%;">
													<select class="form-control select2 form-control-sm  " name="region_coordonnees_modif" required id="region_coordonnees_modif" style="width: 100%;">
														<option>Sélectionner ...</option>
															{% for tagr in regions %}
																{% if tagr.id == lastcoordoonnee.qvh.qvhCACRID.cacrCAVID.cavDEPID.depRegCD.id %}
																	<option value="{{ tagr.id }}" selected> {{ tagr.libelle}}</option>
																{% else %}
																	<option value="{{ tagr.id }}" > {{ tagr.libelle}}</option>
																{% endif %}

															{% endfor %}
														</select>
														<span style="color: red;" id="ninregion_coordonnees_modif"></span>
													</td>
												</td>
											</tr>
											<tr>
												<td style="width: 40%;">
													<label for="numvoie" class="TXT"> <b><u> Département : </u></b> </label>
													<span style="color: red;">*</span>
												</td>
												<td style="width: 40%;">
													<select class="form-control form-control-sm   select2" name="departement_coordonnees_modif" required id="departement_coordonnees_modif" style="width: 100%;">
														{% if lastcoordoonnee.qvh.qvhCACRID.cacrCAVID.cavDEPID %}
															<option value="{{ lastcoordoonnee.qvh.qvhCACRID.cacrCAVID.cavDEPID.id }}" selected> {{ lastcoordoonnee.qvh.qvhCACRID.cacrCAVID.cavDEPID.description}}</option>
														{% else %}
																<option value="" >Sélectionner ...</option>
														{% endif %}
													</select>
													<span style="color: red;" id="nindepartement_coordonnees_modif"></span>
												</td>
											</tr>
											<tr>
												<td style="width: 40%;">
													<label for="numvoie" class="TXT"><b><u>CAV : </u></b></label>
													<span style="color: red;">*</span>
												</td>
												<td style="width: 40%;">
													<select class="form-control form-control-sm   select2" name="cav_coordonnees_modif" required id="cav_coordonnees_modif" style="width: 100%;">
														{% if lastcoordoonnee.qvh.qvhCACRID.cacrCAVID %}
															<option value="{{ lastcoordoonnee.qvh.qvhCACRID.cacrCAVID.id }}" selected> {{ lastcoordoonnee.qvh.qvhCACRID.cacrCAVID.libelle}}</option>
														{% else %}
															<option value="" ></option>
														{% endif %}												
													</select>
													<span style="color: red;" id="nincav_coordonnees_modif"></span>
												</td>
											</tr>
				
											<tr>
												<td>
													<label for="basicpill-firstname-input" class="TXT"><b><u>CACR : </u></b>           </label>
													<span style="color: red;">*</span>
												</td>
												<td>
													<select class="form-control form-control-sm   select2" name="cacr_coordonnees_modif" id="cacr_coordonnees_modif" required style="width: 100%;">
														{% if lastcoordoonnee.qvh.qvhCACRID %}
																	<option value="{{ lastcoordoonnee.qvh.qvhCACRID.id }}" selected> {{ lastcoordoonnee.qvh.qvhCACRID.libelle}}</option>
																{% else %}
																		<option value="" ></option>
																{% endif %}
													</select>
													<span style="color: red;" id="nincacr"></span>
												</td>
											</tr>
											<tr>
				
												<td style="width: 40%;">
													<label for="basicpill-firstname-input" class="TXT"><b><u>Quartier/Village/Hameau : </u></b></label>
													<span style="color: red;">*</span>
												</td>
												<td style="width: 40%;">
													<select class="form-control form-control-sm  select2" name="qvh_coordonnees_modif" id="qvh_coordonnees_modif" required style="width: 100%;">
														{% if lastcoordoonnee.qvh %}
																<option value="{{ lastcoordoonnee.qvh.id }}" selected> {{ lastcoordoonnee.qvh.libelle}}</option>
															{% else %}
																<option value="" ></option>
															{% endif %}
													</select>
													<span style="color: red;" id="ninqvh"></span>
												</td>
											</tr>
				
										</table>
										<table style="width: 100%;">
											<tr>
												<td style="width: 40%;">
													<label for=""><b><u>Adresse de l'établissement : </u></b></label>
													<span style="color: red;">*</span>
				
												</td>
												<td style="width: 40%;">
													<input type="text" name="adresse1_coordonnees_modif" id="idadresse1_coordonnees_modif" value="{{lastcoordoonnee.ninadresse1}}	" required class="form-control form-control-sm">
												</td>
											</tr>
											
											<tr>
												<td style="width: 40%;">
													<label for=""><b><u>Téléphone portable : </u></b></label>
													<span style="color: red;">*</span>
				
												</td>
												<td style="width: 40%;">
													<input type="text" name="telephone1_coordonnees_modif" id="idtelephone1_coordonnees_modif" value="{{lastcoordoonnee.ninTelephon1}}" required class="form-control form-control-sm">
												</td>
											</tr>
											<tr>
												<td style="width: 40%;">
													<label for=""><b><u>Téléphone fixe : </u></b></label>
												</td>
												<td style="width: 40%;">
													<input type="text" name="telephone2_coordonnees_modif" id="idtelephone2_coordonnees_modif" value="{{lastcoordoonnee.nintelephon2}}" 
													oninput="this.value.replace(/[^0-9,]/g, '');" class="form-control form-control-sm">
												</td>
											</tr>
											<tr>
												<td style="width: 40%;">
													<label for=""><b><u>Email : </u></b></label>
												</td>
												<td style="width: 40%;">
													<input type="text" name="email_coordonnees_modif" id="idemail_coordonnees_modif" value="{{lastcoordoonnee.ninEmail}}" class="form-control form-control-sm">
												</td>
											</tr>
				
											<tr>
												<td style="width: 40%;">
													<label for=""><b><u>Boite postale : </u></b></label>
												</td>
												<td style="width: 40%;">
													<input type="text" name="bp_coordonnees_modif" id="idbp_coordonnees_modif" value="{{lastcoordoonnee.ninBP}}" class="form-control form-control-sm">
												</td>
											</tr>
											<tr>
												<td style="width: 40%;">
													<label for=""><b><u>URL : </u></b></label>
												</td>
												<td style="width: 0%;">
													<input type="text" name="url_coordonnees_modif" id="idurl_coordonnees_modif" value="{{lastcoordoonnee.ninUrl}}" class="form-control form-control-sm">
												</td>
											</tr>
										</table>
				
									</fieldset>
								</div>
									<div class="row">
											<div class="col-lg-12">
												<div class="mb-3 row">
													<label class="col-md-8" for="basicpill-firstname-input"></label>
													<div class="col-md-4 mr-0 mt-4">
														<input type="button"  value="Précédant" name="editer" id="idBtnPrecedantCoordonnees" class="boutonsm">
														<input type="button"  value="Suivant" name="editer" id="idBtnSuivantCoordonnees" class="boutonsm">
													</div>
													
												</div>
											</div>
									</div>
							</div>
						</div>
						<div class="tab-pane" id="activites" role="tabpanel">							
                            <fieldset class="fieldcolor p-2 mb-3">
							 	<legend class="w-auto float-none p-2">Anciennes données</legend>
								<div class="row justify-content-center">
										<div class="col-lg-10">
											<table width="100%" >
												<tr>
													<td width="20%">
														<label for="" > <b><u> Libellé de l'ativité</u></b> </label>
													</td>
													<td width="80%">
														<textarea name="libelleactiviteglobale" id="txtLibelleact" onkeyup="this.value=this.value.toUpperCase()" cols="5" rows="3" value="" class="form-control form-control-sm classselect"
													required style="font-weight: bold; padding: 0;">{{ activiteglobale  }}</textarea>
													<span id="ninLibelleact" style="color: red;"></span>
													</td>
												</tr>
											</table>
											
										</div>
								</div>
                                <div class="row">
                              		<div class="col-lg-12">
										<table id="idtab" class="table table-bordered dt-responsive table-hover nowrap w-100 ">
										<thead class="tr_entete" >
										
											<tr>
												<th>Libelle</th>
												<th>NAEMA</th>
												<th>Produits</th>
												<th>Debut</th>
												<th>Fin</th>
												<th>Action</th>
											</tr>
										</thead>
										<tbody id="idActivities"></tbody>
										{% set nb=0 %}
											
										{% for tagact in ninactivites %}
											{% set nb=nb+1 %}
											<tr>
												<td style="width: 20%;">
													<input type="text" {% if tagact.statActivprincipale==1 %} readonly {% endif %} name="ninAutact{{ nb }}" id="idninAutact{{ nb }}" value="{{tagact.ninAutact}}" class="form-control form-control-sm " required>
													{% if nb==1 %}
														<input type="hidden" name="nbActivites" id="idnbActivites">
													{% endif %}
												</td>
												<td style="width: 40%;">				                      
													<select readonly class="form-control form-control-sm select2" name="refNaema{{ nb }}"   id="idrefNaema{{ nb }}" required>
														{% for tagN in naemas %}
															{% if tagN.id == tagact.refnaema.id %}
																<option value="{{tagN.id}}" selected> {{tagN.id}}-{{ tagN.libelle}}</option>
															{% endif %}
														{% endfor %}
													</select>
												</td>
												<td style="width: 40%;">
													<select readonly class="select2 form-control select2-multiple" name="refProduit{{ nb }}[]"   id="idrefProduit{{ nb }}"
															multiple="multiple" data-placeholder="Selectionner...">
														{% for tagP in ninproduits %}
															{% if tagP.refproduits.naema.id == tagact.refnaema.id %}
																<option value="{{tagP.refproduits.id}}" selected> {{tagP.refproduits.id}}-{{ tagP.refproduits.libelle}}</option>
															{% endif %}
														{% endfor %}


													</select>
												</td>
												<td>
													{% if tagact.statActivprincipale!=1 %}
														<input  id="idBtnSupprimerActivite{{ nb }}"  type="submit" onclick="suppActiviteEtProduitsHisto('{{tagact.id}}');" value="Supprimer" >
													{% endif %}
												</td>
											</tr>
											{% endfor %}
											{% if nb==0 %}
												<tr>
												<td style="width: 20%;">
													<input type="text" name="cvninAutact1t" id="cvt" class="form-control form-control-sm " required>
													<input type="hidden" name="nbActivites" id="idnbActivites">
												</td>
												<td style="width: 40%;">				                      
													<select class="form-control form-control-sm select2" name="refNaema1"   id="idrefNaema1" required>
														<option value="" selected>
															Sélectionner...</option>
														{% for tag in naemas %}
															<option value="{{tag.id}}"> {{tag.id}}-{{ tag.libelle}}</option>
														{% endfor %}
													</select>
												</td>
												<td style="width: 40%;">
													<select class="select2 form-control select2-multiple" name="refProduit1[]"   id="idrefProduit1"
															multiple="multiple" data-placeholder="Selectionner...">
													</select>
												</td>
												
											</tr>
											{% endif %}
										</tbody>
										</table>
									</div>
								</div>
                            </fieldset>

							<fieldset class="fieldcolor p-2 mb-3">
							 	<legend class="w-auto float-none p-2">Nouvelle données</legend>
								<div class="row justify-content-center">
									<div class="col-lg-10">
										<table width="100%" >
											<tr>
												<td width="20%">
													<label for="" > <b><u> Libellé de l'ativité</u></b> </label>
												</td>
												<td width="80%">
													<textarea name="libelleactiviteglobale_modif" id="txtLibelleact_modif" onkeyup="this.value=this.value.toUpperCase()" cols="5" rows="3" value="" class="form-control form-control-sm classselect"
												required style="font-weight: bold; padding: 0;">{{ activiteglobale  }}</textarea>
												<span id="ninLibelleact" style="color: red;"></span>
												</td>
											</tr>
										</table>
									</div>
								</div>
								<label for="basicpill-address-input">
									<button type="button" id="btnAjouterActivities_modif"  class="btn btn-primary waves-effect waves-light btn-sm"><i class="fas fa-plus-circle"></i> Ajouter
									</button>
								</label>

                              <div class="row">
									<div class="col-lg-12">
											<table id="idtab" class="table table-bordered dt-responsive table-hover nowrap w-100 ">
													<thead class="tr_entete" >
													
														<tr>
															<th>Libelle</th>
															<th>NAEMA</th>
															<th>Produits</th>
															<th>Debut</th>
															<th>Fin</th>
															<th>Action</th>
														</tr>
													</thead>
												<tbody id="idActivities_modif">
														{% set nb=0 %}
															
														{% for tagact in ninactivites %}
															{% set nb=nb+1 %}
															<tr>
																<td style="width: 20%;">
																	<input type="text" {% if tagact.statActivprincipale==1 %} readonly {% endif %} name="ninAutact{{ nb }}" id="idninAutact{{ nb }}" value="{{tagact.ninAutact}}" class="form-control form-control-sm " required>
																	{% if nb==1 %}
																		<input type="hidden" name="nbActivites_modif" id="idnbActivites_modif">
																	{% endif %}
																</td>
																<td style="width: 40%;">				                      
																	<select readonly class="form-control form-control-sm select2" name="refNaemaModif{{ nb }}"   id="idrefNaemaModif{{ nb }}" required>
																		{% for tagN in naemas %}
																			{% if tagN.id == tagact.refnaema.id %}
																				<option value="{{tagN.id}}" selected> {{tagN.id}}-{{ tagN.libelle}}</option>
																			{% endif %}
																		{% endfor %}
																	</select>
																</td>
																<td style="width: 40%;">
																	<select readonly class="select2 form-control select2-multiple" name="refProduitModif{{ nb }}[]"   id="idrefProduitModif{{ nb }}"
																			multiple="multiple" data-placeholder="Selectionner...">
																		{% for tagP in ninproduits %}
																			{% if tagP.refproduits.naema.id == tagact.refnaema.id %}
																				<option value="{{tagP.refproduits.id}}" selected> {{tagP.refproduits.id}}-{{ tagP.refproduits.libelle}}</option>
																			{% endif %}
																		{% endfor %}


																	</select>
																</td>
																<td>
																	{% if tagact.statActivprincipale!=1 %}
																		<input  id="idBtnSupprimerActiviteModif{{ nb }}"  type="submit" onclick="suppActiviteEtProduitsHistoModif('{{tagact.id}}');" value="Supprimer" >
																	{% endif %}
																</td>
															</tr>
															{% endfor %}
															{% if nb==0 %}
																<tr>
																<td style="width: 20%;">
																	<input type="text" name="ninAutact1Modif" id="idninAutactModif" class="form-control form-control-sm " required>
																	<input type="hidden" name="nbActivitesModif" id="idnbActivitesModif">
																</td>
																<td style="width: 40%;">				                      
																	<select class="form-control form-control-sm select2" name="refNaema1Modif"   id="idrefNaema1Modif" required>
																		<option value="" selected>
																			Sélectionner...</option>
																		{% for tag in naemas %}
																			<option value="{{tag.id}}"> {{tag.id}}-{{ tag.libelle}}</option>
																		{% endfor %}
																	</select>
																</td>
																<td style="width: 40%;">
																	<select class="select2 form-control select2-multiple" name="refProduit1Modif[]"   id="idrefProduit1Modif"
																			multiple="multiple" data-placeholder="Selectionner...">
																	</select>
																</td>
																
															</tr>
															{% endif %}
														</tbody>
											</table>
									</div>
								</div>
			

                            </fieldset>
				           <div class="row">
											<div class="col-lg-12">
												<div class="row">
													<label class="col-md-8" for="basicpill-firstname-input"></label>
													<div class="col-md-4 mr-0 mt-4">
														<input type="button"  value="Précédant" name="editer" id="idBtnPrecedantActivite" class="boutonsm">
														<input type="button"  value="Suivant" name="editer" id="idBtnSuivantActivite" class="boutonsm">
													</div>
													
												</div>
											</div>
							</div>
						</div>


						<div class="tab-pane" id="activiteEconomiques" role="tabpanel"> 
							 <div class="col-lg-12"> 
                     <fieldset class=" p-2 fieldcolor ">
                        <div class="row">
								
									<div class="col-lg-6">
									<fieldset class="border p-2">	
									   <legend class="w-auto float-none p-2">Anciennes données</legend>	
											<table style="width: 100%;">
													<tr>
														<td style="width: 50%;">
															<label for="" class="TXT"> <b><u>Chiffre d'affaires : </u></b>   </label>	
														</td>
														<td style="width: 50%;">
															<input  disabled type="text" name="ninAffaire" id="idninAffaire" value="{{lastactiviteEco.ninAffaire}}" class="form-control form-control-sm">
														</td>
													</tr>

													<tr>
														<td style="width: 50%;">
															<label for="" class="TXT"> <b><u> Capital : </u></b>   </label>	
														</td>
														<td style="width: 50%;">
															<input disabled type="text" name="ninCapital" id="idninCapital" value="{{lastactiviteEco.ninCapital}}" class="form-control form-control-sm">
														</td>
													</tr>

													<tr>
														<td style="width: 50%;">
															<label for="" class="TXT"> <b><u>Effectif permanent : </u></b>   </label>	
														</td>
														<td style="width: 50%;">
															<input disabled type="text" name="ninEffectif" id="idninEffectif" value="{{lastactiviteEco.ninEffectif}}" class="form-control form-control-sm">
														</td>
													</tr>

													<tr>
														<td style="width: 50%;">
															<label for="" class="TXT"> <b><u>Effectif permanent féminin:</u></b>   </label>	
														</td>
														<td style="width: 50%;">
															<input disabled type="text" name="ninEffectifFem" id="idninEffectifFem" value="{{lastactiviteEco.ninEffectifFem}}" class="form-control form-control-sm">
														</td>
													</tr>
											</table>
											<table style="width: 100%;">
											<tr>
												<td style="width: 50%;">
													<label for="" class="TXT"> <b><u>Année du chiffres d'affaires :</u></b>   </label>	
												</td>
												<td style="width: 50%;">
													<input disabled type="text" name="ninAnneeCa" id="idninAnneeCa" value="{{lastactiviteEco.ninAnneeCa}}" class="form-control form-control-sm">
												</td>
											</tr>

											<tr>
												<td style="width: 50%;">
													<label for="" class="TXT"> <b><u>Effectif temporaire : </u></b>   </label>	
												</td>
												<td style="width: 50%;">
												<input disabled type="text" name="ninEffect1" id="idninEffect1" value="{{lastactiviteEco.ninEffect1}}" class="form-control form-control-sm">
												</td>
											</tr>

											<tr>
												<td style="width: 50%;">
													<label for="" class="TXT"> <b><u>Effectif temporaire féminin : </u></b>   </label>	
												</td>
												<td style="width: 50%;">
													<input disabled type="text" name="ninEffectifFemSAIS" id="idninEffectifFemSAIS" value="{{lastactiviteEco.ninEffectifFemSAIS}}" class="form-control form-control-sm">
												</td>
											</tr>

										</table>
										</fieldset>
						 			</div>
									<div class="col-lg-6">
									  <fieldset class="border p-2">	
									   <legend class="w-auto float-none p-2">Nouvelles données</legend>	
													<table style="width: 100%;">
													<tr>
														<td style="width: 50%;">
															<label for="" class="TXT"> <b><u>Chiffre d'affaires : </u></b>   </label>	
														</td>
														<td style="width: 50%;">
															<input  type="text" name="ninAffaire_modif" id="idninAffaire_modif" value="{{lastactiviteEco.ninAffaire}}" class="form-control form-control-sm">
														</td>
													</tr>

													<tr>
														<td style="width: 50%;">
															<label for="" class="TXT"> <b><u> Capital : </u></b>   </label>	
														</td>
														<td style="width: 50%;">
															<input type="text" name="ninCapital_modif" id="idninCapital_modif" value="{{lastactiviteEco.ninCapital}}" class="form-control form-control-sm">
														</td>
													</tr>

													<tr>
														<td style="width: 50%;">
															<label for="" class="TXT"> <b><u>Effectif permanent : </u></b>   </label>	
														</td>
														<td style="width: 50%;">
															<input type="text" name="ninEffectif_modif" id="idninEffectif_modif" value="{{lastactiviteEco.ninEffectif}}" class="form-control form-control-sm">
														</td>
													</tr>

													<tr>
														<td style="width: 50%;">
															<label for="" class="TXT"> <b><u>Effectif permanent féminin:</u></b>   </label>	
														</td>
														<td style="width: 50%;">
															<input type="text" name="ninEffectifFem_modif" id="idninEffectifFem_modif" value="{{lastactiviteEco.ninEffectifFem}}" class="form-control form-control-sm">
														</td>
													</tr>
											</table>
											<table style="width: 100%;">
											<tr>
												<td style="width: 50%;">
													<label for="" class="TXT"> <b><u>Année du chiffres d'affaires :</u></b>   </label>	
												</td>
												<td style="width: 50%;">
													<input type="text" name="ninAnneeCa_modif" id="idninAnneeCa_modif" value="{{lastactiviteEco.ninAnneeCa}}" class="form-control form-control-sm">
												</td>
											</tr>

											<tr>
												<td style="width: 50%;">
													<label for="" class="TXT"> <b><u>Effectif temporaire : </u></b>   </label>	
												</td>
												<td style="width: 50%;">
												<input type="text" name="ninEffect1_modif" id="idninEffect1_modif" value="{{lastactiviteEco.ninEffect1}}" class="form-control form-control-sm">
												</td>
											</tr>

											<tr>
												<td style="width: 50%;">
													<label for="" class="TXT"> <b><u>Effectif temporaire féminin : </u></b>   </label>	
												</td>
												<td style="width: 50%;">
													<input type="text" name="ninEffectifFemSAIS_modif" id="idninEffectifFemSAIS_modif" value="{{lastactiviteEco.ninEffectifFemSAIS}}" class="form-control form-control-sm">
												</td>
											</tr>

										</table>
										</fieldset>
									</div>
							</div>
							</fieldset>
							<div class="row">
											<div class="col-lg-12">
												<div class="row">
													<label class="col-md-8" for="basicpill-firstname-input"></label>
													<div class="col-md-4 mr-0 mt-4">
														<input type="button"  value="Précédant" name="editer" id="idBtnPrecedantActiviteEconomique" class="boutonsm">
														<input type="submit"  value="Sauvegarder" name="sauvegarder" id="id_sauvegarder" class="boutonsm">
													</div>
													
												</div>
											</div>
							</div>
            	    </div>

						</div>


						<div class="tab-pane" id="dirigeants" role="tabpanel">
							
						</div>

					</div>
				</div>
			</div>


			
        </div>
	
	</form>

<!-- end card -->
{% endblock %}


{% block javascript %}
    <script src="{{ asset('admin/dist/assets/libs/sweetalert2/sweetalert2.min.js')}}"></script>
    <script src="{{ asset( 'admin/dist/assets/libs/select2/js/select2.min.js')}} "></script>
	<script src="{{ asset('admin/dist/assets/js/pages/form-mask.init.js')}}"></script>
	<script src="{{ asset('admin/dist/assets/libs/inputmask/min/jquery.inputmask.bundle.min.js')}}"></script>
	<script src="{{ asset('admin/dist/assets/js/multiselect.min.js')}}"></script>
    <script>
        $(document).ready(function() {
			$("#idnationalite_personne_modif").select2();
			var formeunite = "{{  ninea.formeJuridique.niFormeunite.id }}"
			if (formeunite == 11 || formeunite == 12){
				if ($('#idnationalite_personne').val() == "SN") {
					document.getElementById("tablePassport_personne").style.display = "none";
				}else{
					document.getElementById("tableCni_personne").style.display = "none";
				}
			}

			if (formeunite == 11 || formeunite == 12){
				if ($('#idnationalite_personne_modif').val() == "SN") {
					document.getElementById("tablePassport_personne_modif").style.display = "none";
				}else{
					document.getElementById("tableCni_personne_modif").style.display = "none";
				}
			}
			$('#btnSuivantPersonne').click(function () {
					
				let formeunite = "{{ ninea.formeJuridique.niFormeunite.id }}"
				if (formeunite == 11 || formeunite == 12)
				{
					if(document.getElementById("idCivilite_modif").value!="" ){
						if(document.getElementById("prenom_modif").value!="" ){
							if(document.getElementById("idnom_modif").value!="" ){
								if(document.getElementById("idDatenais_modif").value!="" ){
									if(document.getElementById("idlieunais_modif").value!="" ){ 
										if ($('#idnationalite_personne_modif').val() == "SN") {
											if(document.getElementById("idcni_modif").value!="" ){  
											  
												
												//verifier si nationalite==SN  idConfirmpassport
													if(document.getElementById("idConfirmcni_modif").value!="" ){
														if(document.getElementById("idDatecni_modif").value!="" ){
															if(document.getElementById("idtelpersonne_modif").value!="" ){
																if(document.getElementById("qvh_modif").value!="" ){
																	if(document.getElementById("idadresse_modif").value !="" ){

																			let idlieunais = document.getElementById("idlieunais_modif").value;
																			if (idlieunais.match(/^[0-9]+$/)!=null){
																				Swal.fire("Le lieu de naissance ne peut pas contenir que des chiffres.");
																						
																			}else{
																				let prenom = document.getElementById("prenom_modif").value;
																				if (prenom.match(/^[0-9]+$/)!=null){
																					Swal.fire("Le prénom ne peut pas contenir que des chiffres.");
																							
																				}
																				else{
																				let nom = document.getElementById("idnom_modif").value;
																				if (nom.match(/^[0-9]+$/)!=null){
																					Swal.fire("Nom ne peut pas contenir que des chiffres.");			
																				}
																				else{
																					let datenais = new Date($('#idDatenais_modif').val());
																					var dateDuJour = new Date();
																					let yearsDiff = dateDuJour.getFullYear() - datenais.getFullYear();
																					//console.log(yearsDiff);
																					var dateinf=new Date("1900-01-01");
																					if(datenais>dateinf){	
																						if (yearsDiff < 18 && (formeunite==11 ||formeunite==12 ))
																						{
																							$("#idDatenais_modif").addClass("has_error");
																							document.getElementById("nindatenais_modif").innerHTML = "L'âge ne doit pas être inférieur à 18 ans";
																							Swal.fire("L'âge ne doit pas être inférieur à 18 ans")

																						}else
																						{ 
																							$("#idDatenais_modif").removeClass("has_error");
																								document.getElementById("nindatenais_modif").innerHTML = "";

																								let cni = $("#idcni_modif").val();
																								let confirmationCNI = $("#idConfirmcni_modif").val();
																							if (cni.length == 13 || cni.length == 14)
																							{

																								
																									document.getElementById("nincni_modif").innerHTML = "";	
																									$("#idcni_modif").removeClass("has_error");	

																									if(cni != confirmationCNI)
																									{
																										document.getElementById("nincni_modif").innerHTML = "Les deux CNI ne sont pas conformes.";
																										Swal.fire("Les deux CNI ne sont pas conformes.");						
																										
																									}
																									else
																									{																						
																										document.getElementById("nincni_modif").innerHTML = "";
																										if (document.getElementById("idCivilite_modif").value == "2") {
																																																	
																											if (cni.startsWith("2"))
																											{
																												
																												
																																																		
																											}
																											else
																											{
																												Swal.fire("Attention! la CNI commmence par 1, donc non conforme avec la civilité Madame.");
																					
																											}
																											
																										}
																										else 
																										{
																																																		
																											if ( cni.startsWith("1"))
																											{
																											
																												
																												$('#idpersonne').removeClass('active ');
																												$('#personne').removeClass('active ');

																												$('#idcoordonnee').removeClass('disabled');
																												$('#coordonnees').addClass('active ');
																												$('#idcoordonnee').attr('href', '#coordonnees');
																												$('#idcoordonnee').addClass('active');
																												
																											}
																											else
																											{
																												Swal.fire("Attention! la CNI commmence par 2, donc non conforme avec la civilité Monsieur");
																					
																											}
																											
																					
																										}
																										
				
																									}
																								
												
																							}else{
																								
																									$("#idcni_modif").addClass("has_error");
																									document.getElementById("nincni_modif").innerHTML = "Le nombre de caractères de la CNI ne doit pas être inférieur à 13 ou 14 caractères.";
																								
																							}
																							
																								
																						}
																					}else{
																						$("#idDatenais_modif").addClass("has_error");
																							
																							Swal.fire('La date de naissance   ne doit pas être antérieure à la date 01-01-1900.');
																							
																					}
																				}		
																					
																			}
																			}

																		
																		
																	
																	}else{
																		Swal.fire("L'adresse complète ne peut pas être vide.");
																	}
																}else{
																	Swal.fire("L'adresse(QVH) ne peut pas être vide.");
																}	
															}else{
																Swal.fire("Le téléphone ne peut pas être vide.");
															}			
														}else{
															Swal.fire("La date  de délivrance de la CNI  ne peut pas être vide.");
														}
													}else{
														Swal.fire("La confirmation de la CNI  ne peut pas être vide.");
													}
												
											}else{
													Swal.fire("La CNI  ne peut pas être vide.");
												}

										}else{
											if(document.getElementById("idpassport_modif").value!="" ){  
												
													if(document.getElementById("idDatepassport_modif").value!="" ){
														if(document.getElementById("idtelpersonne_modif").value!="" ){
															if(document.getElementById("qvh_modif").value!="" ){
																if(document.getElementById("idadresse_modif").value!="" ){
																	let idlieunais = document.getElementById("idlieunais_modif").value;
																	if (idlieunais.match(/^[0-9]+$/)!=null){
																		Swal.fire("Le lieu de naissance ne peut pas contenir que des chiffres.");
																				
																	}else{
																			let prenom = document.getElementById("prenom_modif").value;
																			if (prenom.match(/^[0-9]+$/)!=null){
																				Swal.fire("Le prénom ne peut pas contenir que des chiffres.");
																						
																			}
																			else{
																			let nom = document.getElementById("idnom_modif").value;
																			if (nom.match(/^[0-9]+$/)!=null){
																				Swal.fire("Nom ne peut pas contenir que des chiffres.");			
																			}
																			else{
																				let datenais = new Date($('#idDatenais_modif').val());
																				var dateDuJour = new Date();
																				let yearsDiff = dateDuJour.getFullYear() - datenais.getFullYear();
																				//console.log(yearsDiff);
																				var dateinf=new Date("1900-01-01");
																				if(datenais>dateinf)
																				{	
																					if (yearsDiff < 18 && formejuridique == 10)
																					{
																						$("#idDatenais_modif").addClass("has_error");
																						document.getElementById("nindatenais_modif").innerHTML = "L'âge ne doit pas être inférieur à 18 ans";
																						Swal.fire("L'âge ne doit pas être inférieur à 18 ans")

																					}else
																					{ 
																							let passport = document.getElementById("idpassport_modif").value;
																						


																								let confirmationCNI = $("#idConfirmpassport_modif").val();
																									if(passport != confirmationCNI)
																									{
																										//$("#idmodif_confirmcni").focus();
																										$('#idConfirmpassport_modif').addClass('has_error');
																										document.getElementById("ninconfpassport_modif").innerHTML="Les deux numéros ne sont pas conformes.";
																										$('#idConfirmpassport_modif').focus();

																										Swal.fire("Les deux numéros ne sont pas conformes.");				   

																									}
																									else
																									{
																										//document.getElementById("btnSuivant").removeAttribute("disabled");
																										$('#idConfirmpassport_modif').removeClass('has_error');
																										document.getElementById("ninconfpassport_modif").innerHTML="";

																										$('#idpersonne').removeClass('active ');
																										$('#personne').removeClass('active ');

																										$('#idcoordonnee').removeClass('disabled');
																										$('#coordonnees').addClass('active ');
																										$('#idcoordonnee').attr('href', '#coordonnees');
																										$('#idcoordonnee').addClass('active');
																									}

																					}
																				}else{
																						
																						Swal.fire('La date du passport   ne doit pas être antérieure à la date 01-01-1900.');
																						
																				}
																			}		
																				
																		}
																	}
																
																}else{
																	Swal.fire("L'adresse complète ne peut pas être vide.");
																}
															}else{
																Swal.fire("L'adresse(QVH) ne peut pas être vide.");
															}	
														}else{
															Swal.fire("Le téléphone ne peut pas être vide.");
														}			
													}else{
														Swal.fire("La date du passport ne peut pas être vide.");
													}
												
											}else{
												Swal.fire("Le passport  ne peut pas être vide.");
											}
										}
									}else{
										Swal.fire("Le lieu de naissance ne peut pas être vide.");
									}
								}else{
									Swal.fire("La date de naissance ne peut pas être vide.");
								}
							}else{
								Swal.fire("Le nom ne peut pas être vide.");
							}
				
						}else{
							Swal.fire("Le prénom ne peut pas être vide.");
						}
					}else{
						Swal.fire("La civilité ne peut pas être vide.");
					}
				}
				else
				{
					if ($("#idraison_modif").val() != "")
					{
						
						$('#idpersonne').removeClass('active ');
						$('#personne').removeClass('active ');

						$('#idcoordonnee').removeClass('disabled');
						$('#coordonnees').addClass('active ');
						$('#idcoordonnee').attr('href', '#coordonnees');
						$('#idcoordonnee').addClass('active');
						
					}
					else
					{
						
						Swal.fire("La raison sociale ne doit pas être vide.");

					}

					
				}

			});

			$('#idBtnPrecedantCoordonnees').click(function () {
					$('#coordonnees').removeClass('active ');
					$('#idcoordonnee').removeClass('active ');
					$('#idpersonne').addClass('active ');

					$('#personne').attr('href', '#personnes');
					$('#personne').addClass('active');
			});
			
			$('#idBtnSuivantCoordonnees').click(function () {
				
					if(document.getElementById("qvh_coordonnees_modif").value!="" ){
						if(document.getElementById("idadresse1_coordonnees_modif").value!="" ){
							if(document.getElementById("idtelephone1_coordonnees_modif").value!="" ){
                                $('#coordonnees').removeClass('active ');
								$('#idcoordonnee').removeClass('active ');
								$('#activites').addClass('active ');
								$('#idactivite').removeClass('disabled');
								$('#idactivite').attr('href', '#activites');
								$('#idactivite').addClass('active');
							}else{
								Swal.fire("L'adresse ne peut pas être vide.");
							}

						}else{
							Swal.fire("L'adresse ne peut pas être vide.");
						}
					}else{
						Swal.fire("Le QVH ne peut pas être vide.");
					}
					
			});

			
			$('#idBtnSuivantActivite').click(function () {
					$('#activites').removeClass('active ');
					$('#idactivite').removeClass('active ');
					$('#activiteEconomiques').addClass('active ');
					$('#idactiviteEconomique').removeClass('disabled');

					$('#idactiviteEconomique').attr('href', '#activiteEconomiques');
					$('#idactiviteEconomique').addClass('active');
			});

			$('#idBtnPrecedantActivite').click(function () {
					$('#activites').removeClass('active ');
					$('#idactivite').removeClass('active ');
					$('#coordonnees').addClass('active ');
					$('#idcoordonnee').attr('href', '#coordonnees');
					$('#idcoordonnee').addClass('active');
			});
		
			$('#idBtnPrecedantActiviteEconomique').click(function () {
					$('#activiteEconomiques').removeClass('active ');
					$('#idactiviteEconomique').removeClass('active ');
					$('#activites').addClass('active ');
					$('#idactivite').attr('href', '#activites');
					$('#idactivite').addClass('active');
			});

		    $('#idCivilite_modif').change(function () {
					//alert(document.getElementById("idcni").value);
					//on recupère le pays (SN)
					let cni = $("#idcni_modif").val();
					
					if (document.getElementById("idCivilite_modif").value == "2") {
						var sexe = document.getElementById("idsexe_modif");
						sexe.innerHTML = "";
						var opt = document.createElement('option');
						opt.innerHTML = "Féminin";
						opt.value = 2;
						sexe.add(opt);
						if(!cni){

						}else{
						
							if (cni.startsWith("2"))
							{
								
								$('#idCivilite_modif').removeClass('has_error');
								$('#idcni_modif').removeClass('has_error');
								document.getElementById('nincni_modif').innerHTML = "";
								document.getElementById('nincivil_modif').innerHTML = "";
							}
							else
							{
								document.getElementById('nincivil_modif').innerHTML = "La civilité Madame non conforme avec la CNI";
								$('#idCivilite_modif').addClass('has_error');
								$('#idcni_modif').addClass('has_error');
								document.getElementById('nincni_modif').innerHTML = "La CNI commence par 1 et non conforme avec la civilite Madame.";

	
							}
						}
					}
					else {
						var sexe = document.getElementById("idsexe_modif");
						sexe.innerHTML = "";
						var opt = document.createElement('option');
						opt.innerHTML = "Masculin";
						opt.value = 1;
						sexe.add(opt);

						if(!cni){

						}else{
						
							if ( cni.startsWith("1"))
							{
								document.getElementById('nincni_modif').innerHTML = "";
								document.getElementById('nincivil_modif').innerHTML = "";
								$('#idcni_modif').removeClass('has_error');
							}
							else
							{
								$("#nincivil_modif").val("La civilité Monsieur non conforme avec la CNI .");
								$('#idcni_modif').addClass('has_error');
								document.getElementById('nincni_modif').innerHTML = "La CNI commence par 2 et non conforme avec la civilite Monsieur.";
	
							}
						}
					}
		    }); 

			$("#prenom_modif").blur(function() {
					let prenom = $("#prenom_modif").val();
					
					if (prenom.match(/^[0-9]+$/)!=null)
					{
						
						document.getElementById("ninprenom_modif").innerHTML = "Le prénom ne peut pas contenir que des chiffres.";
					}
					else
					{
						
						document.getElementById("ninprenom_modif").innerHTML = "";
					
					}
					
			});

			$("#idnom_modif").change(function() {
					let nom = document.getElementById("idnom_modif").value;
					
					if (nom.match(/^[0-9]+$/)!=null)
					{
						//document.getElementById("btnSuivant").setAttribute("disabled", true);
						document.getElementById("ninnom_modif").innerHTML = "Le nom ne peut pas contenir que des chiffres.";
					}
					else
					{
						//document.getElementById("btnSuivant").removeAttribute("disabled");
						document.getElementById("ninnom_modif").innerHTML = "";
					
					}
			});

			$("#idDatenais_modif").blur(function() {
				var datenais =  new Date($('#idDatenais_modif').val());
				var dateDuJour = new Date();
				let yearsDiff = dateDuJour.getFullYear() - datenais.getFullYear();
				let formejuridique = "{{ ninea.formeJuridique.niFormeunite.id }}";
				if (yearsDiff < 18 && formejuridique == 11|| formejuridique == 12)
				{
					Swal.fire("L'âge ne doit pas être inférieur à 18 ans")
				
				}else{
					var dateCNI = new Date($('#idDatecni_modif').val());
					
					if (datenais >= dateCNI)
					{
						document.getElementById("idDatenais_modif").value = new Date("");
						$("#idDatenais_modif").hasClass("has_error");
						document.getElementById("nindatenais_modif").innerHTML= "La date de naissance ne doit pas être postérieure  à la date de délivrance de la CNI.";
						Swal.fire('La date de naissance ne doit pas être postérieure  ou égale à la date de délivrance de la CNI.');

					} else
					{
						$("#idDatenais_modif").removeClass("has_error");
						document.getElementById("nindatenais_modif").innerHTML= "";
					}
				}

			});

			$('#idnationalite_personne_modif').change(function () {
			
				if ($('#idnationalite_personne_modif').val() == "SN") {
					document.getElementById("tableCni_personne_modif").style.display = "block";
					document.getElementById("tablePassport_personne_modif").style.display = "none";
			
				} else {
					document.getElementById("tableCni_personne_modif").style.display = "none";
					document.getElementById("tablePassport_personne_modif").style.display = "block";
					
				}
			});

			$('#idDatecni_modif').blur(function () {
				var dateCNI = new Date($('#idDatecni_modif').val());
				var dateDuJour = new Date();
				if (dateCNI > dateDuJour) {
					Swal.fire('La date de délivrance du CNI  ne doit pas être postérieure à la date du jour.');
				}
				var datenais =  new Date($('#idDatenais_modif').val());
				if (datenais >= dateCNI)
				{
					Swal.fire('La date de naissance ne doit pas être postérieure ou égale  à la date de délivrance de la CNI.');
					document.getElementById("idDatecni_modif").value = new Date("");
				}
				else if (dateCNI < new Date("1901-01-01") )
					{
						$('#idDatecni_modif').val("");
						$('#idDatecni_modif').hasClass("has_error");
						document.getElementById("ninDatecni_modif").innerHTML = "La date de délivrance ne doit pas être inférieure à l'année 1900.";
					}
					else
					{
						document.getElementById("ninDatecni_modif").innerHTML = "";
						$('#idDatecni_modif').removeClass("has_error");

					}

			});
			

			$('#idDatepassport_modif').blur(function () {
				var datepassport = new Date($('#idDatepassport_modif').val());
				var datenais =  new Date($('#idDatenais_modif').val());
				var dateDuJour = new Date();
				if (datepassport > dateDuJour) {
					Swal.fire('La date du passport ne doit pas être postérieure à la date du jour.');
					document.getElementById("idDatepassport_modif").value = new Date("");
				}
				else
				{
					if (datepassport <= datenais)
					{
						Swal.fire('La date du passport ne doit pas être antérieure ou égale à la date de naissance.');
						document.getElementById("idDatepassport_modif").value = new Date("");

					}
				}

			});

			// QVH POUR personnes
			$('#region_modif').change(function () {

				let route = "{{ path('departementsRegion') }}" + "/" + $('#region_modif').val();
				$.ajax({
						type: 'GET',
						url: route,
						dataType: "json",
						success: function (data) {
						
							let departement = document.getElementById("departement_modif");
							departement.innerHTML = "";
							
							let opt = document.createElement('option');
							opt.innerHTML = "Selectionner ...";
							opt.value = '';
							departement.add(opt);
							for (var i = data.length - 1; i >= 0; i--) 
							{
								let opt = document.createElement('option');
								opt.value = data[i][0];
								opt.innerHTML = data[i][1];
								departement.add(opt);
							
							}

						},
						error: function (error) {
						
						
						}
				})
			});
				
			$('#departement_modif').change(function () {
			
				let route = "{{ path('cavDepartement') }}" + "/" + $('#departement_modif').val();
				$.ajax({
						type: 'GET',
						url: route,
						dataType: "json",
						success: function (data) {
								
								let cav = document.getElementById("cav_modif");
								cav.innerHTML = "";
								
								let opt = document.createElement('option');
								opt.innerHTML = "Selectionner ...";
								opt.value = '';
								cav.add(opt);
								for (var i = data.length - 1; i >= 0; i--) {
								let opt = document.createElement('option');
								opt.value = data[i][0];
								opt.innerHTML = data[i][1];
								cav.add(opt);		
								
								}
						},
						error: function (error) {
						
						}
				})
			});
		
		
			$('#cav_modif').change(function () {
			
				let route = "{{ path('cacrCav') }}" + "/" + $('#cav_modif').val();
				$.ajax({
						type: 'GET',
						url: route,
						dataType: "json",
						success: function (data) {
						
						let cacr = document.getElementById("cacr_modif");
						cacr.innerHTML = "";
						
						let opt = document.createElement('option');
						opt.innerHTML = "Selectionner ...";
						opt.value = '';
						cacr.add(opt);
						for (var i = data.length - 1; i >= 0; i--) {
						let opt = document.createElement('option');
						opt.value = data[i][0];
						opt.innerHTML = data[i][1];
						cacr.add(opt);
						
						
						}
						},
						error: function (error) {
						console.log(error);
						}
				})
			});
			
			$('#cacr_modif').change(function () {
			
				let route = "{{ path('qvhCacr') }}" + "/" + $('#cacr_modif').val();
				$.ajax({
						type: 'GET',
						url: route,
						dataType: "json",
						success: function (data) {
						
						let qvh = document.getElementById("qvh_modif");
						qvh.innerHTML = "";
						
						let opt = document.createElement('option');
						opt.innerHTML = "Selectionner ...";
						opt.value = '';
						qvh.add(opt);
						for (var i = data.length - 1; i >= 0; i--) {
						let opt = document.createElement('option');
						opt.value = data[i][0];
						opt.innerHTML = data[i][1];
						qvh.add(opt);
						

						}
						},
						error: function (error) {
						console.log(error);
						}
				})
			});

			//QVH Cordonnées 

			$('#region_coordonnees_modif').change(function () {

				let route = "{{ path('departementsRegion') }}" + "/" + $('#region_coordonnees_modif').val();
				$.ajax({
						type: 'GET',
						url: route,
						dataType: "json",
						success: function (data) {
						
							let departement = document.getElementById("departement_coordonnees_modif");
							departement.innerHTML = "";
							let qvh = document.getElementById("qvh_coordonnees_modif");
						    qvh.innerHTML = "";
							
							let opt = document.createElement('option');
							opt.innerHTML = "Selectionner ...";
							opt.value = '';
							departement.add(opt);
							for (var i = data.length - 1; i >= 0; i--) 
							{
								let opt = document.createElement('option');
								opt.value = data[i][0];
								opt.innerHTML = data[i][1];
								departement.add(opt);
							
							}

						},
						error: function (error) {
						
						
						}
				})
			});

			$('#departement_coordonnees_modif').change(function () {
			
				let route = "{{ path('cavDepartement') }}" + "/" + $('#departement_coordonnees_modif').val();
				$.ajax({
						type: 'GET',
						url: route,
						dataType: "json",
						success: function (data) {
								
								let cav = document.getElementById("cav_coordonnees_modif");
								cav.innerHTML = "";
								
								let opt = document.createElement('option');
								opt.innerHTML = "Selectionner ...";
								opt.value = '';
								cav.add(opt);
								for (var i = data.length - 1; i >= 0; i--) {
								let opt = document.createElement('option');
								opt.value = data[i][0];
								opt.innerHTML = data[i][1];
								cav.add(opt);		
								
								}
						},
						error: function (error) {
						
						}
				})
			});
			$('#cav_coordonnees_modif').change(function () {
			
				let route = "{{ path('cacrCav') }}" + "/" + $('#cav_coordonnees_modif').val();
				$.ajax({
						type: 'GET',
						url: route,
						dataType: "json",
						success: function (data) {
						
						let cacr = document.getElementById("cacr_coordonnees_modif");
						cacr.innerHTML = "";
						
						let opt = document.createElement('option');
						opt.innerHTML = "Selectionner ...";
						opt.value = '';
						cacr.add(opt);
						for (var i = data.length - 1; i >= 0; i--) {
						let opt = document.createElement('option');
						opt.value = data[i][0];
						opt.innerHTML = data[i][1];
						cacr.add(opt);
						
						
						}
						},
						error: function (error) {
						console.log(error);
						}
				})
			});
			$('#cacr_coordonnees_modif').change(function () {
			
				let route = "{{ path('qvhCacr') }}" + "/" + $('#cacr_coordonnees_modif').val();
				$.ajax({
						type: 'GET',
						url: route,
						dataType: "json",
						success: function (data) {
						
						let qvh = document.getElementById("qvh_coordonnees_modif");
						qvh.innerHTML = "";
						
						let opt = document.createElement('option');
						opt.innerHTML = "Selectionner ...";
						opt.value = '';
						qvh.add(opt);
						for (var i = data.length - 1; i >= 0; i--) {
						let opt = document.createElement('option');
						opt.value = data[i][0];
						opt.innerHTML = data[i][1];
						qvh.add(opt);
						

						}
						},
						error: function (error) {
						console.log(error);
						}
				})
			});


		});



			
    </script>
{% endblock %}
