{% extends 'base.html.twig' %}

{% block title %}New Bilan{% endblock %}
{% block stylesheets %}
 <link href="{{ asset('admin/dist/assets/libs/sweetalert2/sweetalert2.min.css')}}" rel="stylesheet" type="text/css" />

  <!-- Responsive Table css -->
        <link href="{{ asset('admin/dist/assets/libs/admin-resources/rwd-table/rwd-table.min.css')}}" rel="stylesheet" type="text/css" />


<style type="text/css">
   

    .has_error{
       background-color: #E8F0FE;
       border-color: red;
      
    }
    .larger{

        width: 100%;

    }

    .table_wrapper {
        display: block;
        overflow: scroll;
        overflow-x: auto;
        white-space: nowrap;
        overflow-x:scroll;
        width: 100%;
    }
 </style>


         
{% endblock %}
{% block body %}

    {% for message in app.flashes('notice') %}
            <div class="alert alert-success alert-dismissible fade show" role="alert">
                    <i class="mdi mdi-alert-outline me-2"></i>
                    {{ message }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
    {% endfor %}


        <!-- start page title -->
    <div class="row">
        <div class="col-12">
            <div class="page-title-box d-sm-flex align-items-center justify-content-between">
                <div class=" p-2">
                    <a href="{{ path('bilan_new') }}" class="btn btn-secondary waves-effect waves-light btn-sm">Bilan <i class="mdi mdi-arrow-right ms-1"></i></a>
                </div>
                <div class=" p-2">
                    <a href="{{ path('compte_de_resultats_new') }}" class="btn btn-secondary waves-effect waves-light btn-sm">Compte résultat <i class="mdi mdi-arrow-right ms-1"></i></a>
                </div>
                <div class=" p-2">
                    <a href="{{ path('flux_des_tresoreries_new') }}" class="btn btn-secondary waves-effect waves-light btn-sm">Flux des trésoreries<i class="mdi mdi-arrow-right ms-1"></i></a>
                </div>
                <div class=" p-2">
                    <a href="{{ path('immo_brut_new') }}" class="btn btn-secondary waves-effect waves-light btn-sm">Immobilisations brutes <i class="mdi mdi-arrow-right ms-1"></i></a>
                </div>
                <div class=" p-2">
                    <a href="{{ path('cuci_immo_plus_new') }}" class="btn btn-secondary waves-effect waves-light btn-sm">Immobilisations: Plus-value et moins-value de cession <i class="mdi mdi-arrow-right ms-1"></i></a>
                </div>
                <div class=" p-2">
                    <a href="{{ path('app_effectifs_new') }}" class="btn btn-primary waves-effect waves-light btn-sm">Effectifs, masse salariale et personnel exterieur <i class="mdi mdi-arrow-right ms-1"></i></a>
                </div>
                <div class=" p-2">
                    <a href="{{ path('app_production_de_exercice_new') }}" class="btn btn-secondary waves-effect waves-light btn-sm">Production de l'exercice <i class="mdi mdi-arrow-right ms-1"></i></a>
                </div>
                <div class=" p-2">
                    <a href="{{ path('achat_production_new') }}" class="btn btn-secondary waves-effect waves-light btn-sm">Achats destinés à la production <i class="mdi mdi-arrow-right ms-1"></i></a>
                </div>
            </div>
        </div>
         <span style="font-size:14px; color:#60b9c7;border-bottom: 1px solid #60b9c7; width:100%;" >Effectifs, masse salariale et personnel exterieur</span>
    </div>
        <!-- end page title -->


 <br>
<!-- end page title -->
<div class="card" style=" margin: 0%;padding: 0%;-webkit-box-shadow:0 1rem 3rem rgba(0,0,0,.175);box-shadow:0 1rem 3rem rgba(0,0,0,.175)">
    <div class="card-title">
         <ul class="nav nav-tabs" role="tablist">
            <li class="nav-item">
                <a class="nav-link active" data-bs-toggle="tab" href="#home" role="tab">
                    <span class="d-block d-sm-none"><i class="fas fa-home"></i></span>
                    <span class="d-none d-sm-block">Effectif et masse salariale</span>    
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" data-bs-toggle="tab" href="#profile" role="tab">
                    <span class="d-block d-sm-none"><i class="far fa-user"></i></span>
                    <span class="d-none d-sm-block">Personnel extérieur</span>    
                </a>
            </li>
            
        </ul>
        
    </div>
    <div class="card-body " style="margin: 0%;padding: 0%;">
       
        <div class="tab-content text-muted" style="margin-top: 0px;">
            <div class="tab-pane active" id="home" role="tabpanel">
                <form method="post" action="{{path('app_effectifs_new')}}" id="idformefffectif" name="idformefffectif" style="margin: 0px; padding: 0px;">
                            <div class="row" style="margin-top: 0px; padding: 0px;">
                                <div class="col-xl-12" > 
                                      
                                    <table class="table table-bordered " style="margin-top: 0px; padding: 0px;">
                                                             <tr style="margin-top:0px;">
                                                              
                                                              <td  style="width: 12%; color: #495057;" >Numéro d'identification :<span style="color:red">*</span></td><td style="width: 10%;">
                                                                  <input readonly type="text"  class="form-control form-control-sm" name="codecuci" id="idcuci" ></td>
                                                              <td style="text-align: right; width: 13%;">Désignation entité :<span style="color:red">*</span></td><td  style="width: 20%;">
                                                                  <input type="text" disabled class="form-control form-control-sm" name="" id="denomination"></td>
                                                              <td style="text-align: right; width: 12%;">Année financière :<span style="color:red">*</span></td><td  style="width: 8%;">
                                                                  <input readonly type="text" class="form-control form-control-sm input-mask" name="annee" id="annee"  data-inputmask="'mask': '9999'"></td>
                                                             </tr>
                                                            
                                    </table>
                                             
                                    <div class="card">
                                     <div class="card-body">
                        
                                         <div class="d-flex flex-wrap gap-2 justify-content-center">
                                             <button type="button" class="btn btn-secondary waves-effect waves-light resetBtn">
                                                 <i class="bx bx-error font-size-16 align-middle me-2"></i> Effacer les données
                                             </button>
                                            
                                             <a  type="button" class="btn btn-success waves-effect waves-light sauvegarderEff">
                                                 <i class="bx bx-check-double font-size-16 align-middle me-2"></i>
                                                 Sauvegarder
                                             </a>
                                             <button id="valider" type="button" class="btn btn-dark bt-soft waves-effect waves-light valider">
                                                 <i class="bx bx-block font-size-16 align-middle me-2"></i> Valider la saisie
                                             </button>


                                            <div class="sele" id="sele" style="margin-left: 1%">
                                                <select id="formrow-inputState" name="formrow-inputState" class="form-select inputState" required>
                                                    <option selected="true" disabled="disabled" value="">Choisir une unité...</option>
                                                    <option value="Millier de CFA">Millier de CFA</option>
                                                    <option value="CFA">CFA</option>
                                                </select>
                                            </div>




                                         </div>
                                     </div>
                                    </div>
                                 </div>

                            
                            
                            
                            
                            
                            <div class="col-12"  style="width:1800px;overflow-y:hidden;overflow-x:scroll;white-space: nowrap;-webkit-overflow-scrolling: touch;background-color: #ffffff;">
                                <div id="table-wrapper" class="table_wrapper table-responsive mb-0 fixed-solution" data-pattern="priority-columns" style="width:1800px;overflow-y:hidden;overflow-x:scroll;white-space: nowrap;-webkit-overflow-scrolling: touch;">


                                    <table name="form1" id="form1" class="table table-striped table-bordered " style="max-width: none;" >
                                                
                                                    <thead style="background: #008000; color:white;">

                                                    <!-- t header remplacer ///////////////////////////// -->
                                                        <tr class=" opacity-65" style="background: #008000;">
                                                            <th scope="col" colspan="5" class="text-center ">
                                                                <span style="color:orange; font-size:10px;">Numéro d'identification : </span><span style="color:orange; font-size:10px;" id="txtcuci-eff"></span> 
                                                            </th>
                                                            <th colspan="5" scope="col" class="text-center ">

                                                                  <span style="color:orange; font-size:10px;">Désignation entité : </span><span style="color:orange; font-size:10px;" id="txtdesignation-eff"></span>  
                                                            </th>
                                                            <th colspan="5" scope="col" class="text-center ">
                                                                 <span style="color:orange; font-size:10px;">Année financière : </span><span style="color:orange; font-size:10px;" id="txtfinanciere-eff"></span>
                                                            </th>
                                                        </tr>
                                                        <tr class=" opacity-65" style="background: #008000;">
                                                            <th ></th>
                                                            <th colspan="7" scope="col" class="text-center " style="font-size:10px;">Effectifs</th>
                                                            <th colspan="7" scope="col" class="text-center " style="font-size:10px;"> 
                                                                Masse salariale
                                                                    <!--<div class="" style="margin-left: 10%">
                                                                        <select id="formrow-inputState" name="formrow-inputState" class="form-select inputState" required>
                                                                            <option selected="true" disabled="disabled" value="">Choisir une unité...</option>
                                                                            <option value="mcfa">Millier de CFA</option>
                                                                            <option value="cfa">CFA</option>
                                                                        </select>
                                                                    </div>-->
                                                            </th>
                                                        </tr>
                                                    <!-- //////////////////////////////////// t header remplacer -->
                                            
                                                        <tr>
                                                            <th scope="row" colspan="" class="text-center ">
                                                            </th>
                                                            <th scope="col" colspan="2" class="text-center " style="font-size:10px;">
                                                                    Nationaux
                                                            </th>
                                                            <th scope="col" colspan="2" class="text-center " style="font-size:10px;">
                                                                    UEMOA
                                                            </th>
                                                            <th scope="col" colspan="2" class="text-center " style="font-size:10px;">
                                                                    Hors UEMOA
                                                            </th>


                                                            <th scope="col" colspan="1" class="text-center ">
                                                            </th>

                                                            <th scope="col" colspan="2" class="text-center " style="font-size:10px;">
                                                                    Nationaux
                                                            </th>
                                                            <th scope="col" colspan="2" class="text-center " style="font-size:10px;">
                                                                    UEMOA
                                                            </th>
                                                            <th scope="col" colspan="2" class="text-center " style="font-size:10px;">
                                                                    Hors UEMOA
                                                            </th>
                                                            <th scope="col" colspan="" class="text-center ">
                                                            </th>
                                                        </tr>
                                                        <tr class="opacity-65" >
                                                            <th scope="" rowspan="3" class="text-center " style="font-size:10px;">
                                                                Qualifications                                                            
                                                            </th>
                                                            <th scope="col" colspan="" class="text-center ">
                                                                <span class="text font-size-6" id="annee1" style="font-size:10px;">
                                                                   M
                                                                </span>
                                                            </th>
                                                            <th colspan="" scope="col" class="text-center ">
                                                                <span class="text font-size-6" id="annee1" style="font-size:10px;">
                                                                   F
                                                                </span> 
                                                            </th>
                                                            <th colspan="" scope="col" class="text-center">
                                                                <span class="text" id="annee1" style="font-size:10px;">
                                                                    M
                                                                </span> 
                                                            </th>
                                                            <th colspan="" scope="col" class="text-center" style="font-size:10px;">
                                                                <span class="text" id="annee1">
                                                                    F
                                                                </span> 
                                                            </th>                                                
                                                            <th scope="col" colspan="" class="text-center ">
                                                                <span class="text" id="annee1" style="font-size:10px;">
                                                                    M
                                                                </span> 
                                                            </th>
                                                            <th scope="col" colspan="" class="text-center">
                                                                <span class="text" id="annee1" style="font-size:10px;" >
                                                                    F
                                                                </span>                                                          
                                                            </th>
                                                            <th scope="col" colspan="" class="text-center">
                                                                <span class="text" id="annee1" style="font-size:10px;" >
                                                                    Total
                                                                </span> 
                                                            </th>
                                                            <!--end efectif add total  -->

                                                            <!--end efectif add total cote masse salariale -->
                                                            <th scope="col" colspan="" class="text-center" >
                                                                <span class="text" id="annee1" style="font-size:10px;">
                                                                    M
                                                                </span> 
                                                            </th>
                                                            <th scope="col" colspan="" class="text-center" >
                                                                <span class="text" id="annee1" style="font-size:10px;">
                                                                    F
                                                                </span> 
                                                            </th>
                                                            <th colspan="" scope="col" class="text-center" >
                                                                <span class="text" id="annee" style="font-size:10px;">
                                                                    M
                                                                </span> 
                                                            </th>
                                                            <th colspan="" scope="col" class="text-center" >
                                                                <span class="text" id="annee1" style="font-size:10px;">
                                                                    F
                                                                </span> 
                                                            </th>
                                                            <th colspan="" scope="col" class="text-center" >
                                                                <span class="text" id="annee1" style="font-size:10px;">
                                                                    M
                                                                </span> 
                                                            </th>
                                                            <th colspan="" scope="col" class="text-center" >
                                                                <span class="text" id="annee1" style="font-size:10px;">
                                                                    F
                                                                </span> 
                                                            </th>
                                                            
                                                            <th scope="col" colspan="" class="text-center" >
                                                                <span class="text" id="annee1" style="font-size:10px;" >
                                                                    Total
                                                                </span> 
                                                            </th>                                              
                                                        </tr>
                                                    </thead>

                                        <!-- debut tbody inputs -->
                                        <tbody id="tbody">
                                    
                                        
                                        
                                        </tbody>
                                        <!-- end tbody -->
                                    </table>

                                </div>
                                                        

                            </div>
                                     <br>
                                     <br>


                             <div class="d-flex flex-wrap gap-2 justify-content-center">

                                         <button type="button" class="btn btn-secondary waves-effect waves-light resetBtn">
                                             <i class="bx bx-error font-size-16 align-middle me-2"></i> Effacer les données
                                         </button>
                                        
                                         <a type="button" class="btn btn-success waves-effect waves-light sauvegarderEff">
                                             <i class="bx bx-check-double font-size-16 align-middle me-2"></i>
                                             Sauvegarder
                                         </a>
                                         <button id="valider2" type="button" class="btn btn-dark bt-soft waves-effect waves-light valider">
                                             <i class="bx bx-block font-size-16 align-middle me-2"></i> Valider la saisie
                                         </button>
                                         
                                        <input name="submited" id="submited" type="submit" value="1" style="display:none;"/>
                                        <input name="notsubmited" id="notsubmited" type="submit" value="0" style="display:none;"/>
                                     </div>           

                            </div>

                  
                </form>
            </div>
        <!--///////end effectif masse salariale form tab//////-->


        <!--///////ici debute le formulaire personnel ext//////-->
                                        <!-- ///////////////////////////////////////////////////////////////////
                                        ///// debut de la tab personnel exterieur  /////////////////////////
                                        //////////////////////////////////////////////////////////////////-->
            <div class="tab-pane" id="profile" role="tabpanel">
                <form method="post" action="{{path('app_effectifs_new')}}" id="formPersonnel" name="formPersonnel">
                            <div class="row">
                                                <div class="col-xl-12"> 
                                              
                                                        <table id="tech-companies-1" class="table table-striped">
                                                                 <tr>
                                                                  <td style="width: 15%;">Numéro d'identification :<span style="color:red">*</span></td><td style="width: 10%;">
                                                                      <input readonly type="text"  class="form-control form-control-sm" name="codecuciPersonext" id="codecuciPersonext"></td>
                                                                  <td style="text-align: right; width: 15%;">Désignation entité :<span style="color:red">*</span></td>
                                                                  <td  style="width: 20%;">
                                                                      <input type="text" disabled class="form-control form-control-sm" name="denominationPersonext" id="denominationPersonext"></td>
                                                                      <td  style=" text-align: right;width: 10%;">            
                                                                       Année financière :<span style="color:red">*</span></td>
                                                                       <td  style="width: 5%;">
                                                                      <input readonly type="text" class="form-control form-control-sm input-mask" name="anneePersonext" id="anneePersonext"  data-inputmask="'mask': '9999'"></td>
                                                                 </tr>
                                                        </table>
                                                 
                                                        <div class="card">
                                                         <div class="card-body">

                                                             <div class="d-flex flex-wrap gap-2 justify-content-center">
                                                                 <button type="button" class="btn btn-secondary waves-effect waves-light resetBtn2">
                                                                     <i class="bx bx-error font-size-16 align-middle me-2"></i> Effacer les données
                                                                 </button>
                                                                 <a type="button" class="btn btn-success waves-effect waves-light sauvegarderPersonnel">
                                                                     <i class="bx bx-check-double font-size-16 align-middle me-2"></i> Sauvegarder
                                                                 </a>
                                                                 <button type="button" class="btn btn-dark bt-soft waves-effect waves-light validerPersonext"
                                                                  id="validerPersonext">
                                                                     <i class="bx bx-block font-size-16 align-middle me-2"></i> Valider la saisie
                                                                 </button>
                                                                 
                                                             </div>
                                                         </div>
                                                        </div>
                                                </div>

                                        <div class="col-12">
                                            <div class="table-responsive">
                                                <table name="form2" id="form2" class="table table-striped table-bordered " >
                                                            
                                                    
                                                    <thead style="background: #008000; color:white; ">

                                                    <!-- t header remplacer ///////////////////////////// -->
                                                        <tr class=" opacity-65" style="background: #008000;">
                                                            <th scope="col" colspan="3" class="text-center ">
                                                                <span style="color:orange; font-size:10px;">Numéro d'identification : </span><span style="color:orange; font-size:10px;" id="txtcuci-eff2"></span> 
                                                            </th>
                                                            <th colspan="4" scope="col" class="text-center ">

                                                                  <span style="color:orange; font-size:10px;">Désignation entité : </span><span style="color:orange; font-size:10px;" id="txtdesignation-eff2"></span>  
                                                            </th>
                                                            <th colspan="3" scope="col" class="text-center ">
                                                                 <span style="color:orange; font-size:10px;">Année financière : </span><span style="color:orange; font-size:10px;" id="txtfinanciere-eff2"></span>
                                                            </th>
                                                        </tr>
                                                    <!-- //////////////////////////////////// t header remplacer -->

                                                    
                                                        <tr class=" opacity-65" style="background: #008000;">
                                                            <th ></th>
                                                            <th colspan="7" scope="col" class="text-center ">Effectifs</th>
                                                            <th colspan="2" scope="col" class="text-center "> 
                                                                Surfacturation
                                                                 
                                                            </th>
                                                        </tr>
                                            
                                                        <tr>
                                                            <th scope="row" colspan="" class="text-center ">
                                                            </th>
                                                            <th scope="col" colspan="2" class="text-center ">
                                                                    Nationaux
                                                            </th>
                                                            <th scope="col" colspan="2" class="text-center ">
                                                                    UEMOA
                                                            </th>
                                                            <th scope="col" colspan="2" class="text-center ">
                                                                    Hors UEMOA
                                                            </th>


                                                            <th scope="col" colspan="1" class="text-center ">
                                                            </th>

                                                            <th scope="col" colspan="2" class="text-center ">
                                                                    Facturation
                                                            </th>
                                                            <!--<th scope="col" colspan="" class="text-center ">
                                                            </th>-->
                                                        </tr>
                                                        <tr class="opacity-65" >
                                                            <th scope="col" colspan="" class="text-center ">
                                                                Qualifications                                                            
                                                            </th>
                                                            <th scope="col" colspan="" class="text-center">
                                                                <span class="text" id="annee1">
                                                                   M
                                                                </span>
                                                            </th>
                                                            <th colspan="" scope="col" class="text-center">
                                                                <span class="text" id="annee1">
                                                                   F
                                                                </span> 
                                                            </th>
                                                            <th colspan="" scope="col" class="text-center">
                                                                <span class="text" id="annee1">
                                                                    M
                                                                </span> 
                                                            </th>
                                                            <th colspan="" scope="col" class="text-center">
                                                                <span class="text" id="annee1">
                                                                    F
                                                                </span> 
                                                            </th>                                                
                                                            <th scope="col" colspan="" class="text-center ">
                                                                <span class="text" id="annee1">
                                                                    M
                                                                </span> 
                                                            </th>
                                                            <th scope="col" colspan="" class="text-center">
                                                                <span class="text" id="annee1">
                                                                    F
                                                                </span>                                                          
                                                            </th>
                                                            <th scope="col" colspan="" class="text-center">
                                                                <span class="text" id="annee1">
                                                                    Total
                                                                </span> 
                                                            </th>
                                                            <!--end efectif add total  -->

                                                            <!--end efectif add total cote masse salariale -->
                                                            <th scope="col" colspan="" class="text-center">
                                                                <span class="text" id="annee1">
                                                                    M
                                                                </span> 
                                                            </th>
                                                            <th scope="col" colspan="" class="text-center">
                                                                <span class="text" id="annee1">
                                                                    F
                                                                </span> 
                                                            </th>
                                                            
                                                            <!--<th scope="col" colspan="" class="text-center">
                                                                <span class="text" id="annee1">
                                                                    Total
                                                                </span> 
                                                            </th> -->                                             
                                                        </tr>
                                                    </thead>

                                                            <!-- debut tbody inputs -->
                                                            <tbody id="tbodyPersonext">
                                                        
                                                            
                                                            
                                                            </tbody>
                                                            <!-- end tbody -->
                                                        </table>
                                                        <br>
                                                        <br>
                                                        <br>
                                                         <div class="d-flex flex-wrap gap-2 justify-content-center">
                                                                 <button type="button" class="btn btn-secondary waves-effect waves-light resetBtn2">
                                                                     <i class="bx bx-error font-size-16 align-middle me-2"></i> Effacer les données
                                                                 </button>
                                                                 <a type="button" class="btn btn-success waves-effect waves-light sauvegarderPersonnel">
                                                                     <i class="bx bx-check-double font-size-16 align-middle me-2"></i> Sauvegarder
                                                                 </a>
                                                                 <button type="button" class="btn btn-dark bt-soft waves-effect waves-light validerPersonext"
                                                                  id="validerPersonext2">
                                                                     <i class="bx bx-block font-size-16 align-middle me-2"></i> Valider la saisie
                                                                 </button>

                                                                 <input name="submitedPassif" id="submitedPassif" type="submit" value="1" style="display:none;"/>
                                                                 <input name="notsubmitedPassif" id="notsubmitedPassif" type="submit" value="0" style="display:none;"/>
                                                             </div>
                                                    </div>
                                            </div>
                                                
                                        </div>
                  
                </form>
            </div>

        </div>

    </div>
</div>



    
{% endblock %}



{% block javascript %}
  <!-- Sweet alert init js-->
<script src="{{ asset('admin/dist/assets/libs/sweetalert2/sweetalert2.min.js')}}"></script>
<script src="{{ asset('admin/dist/assets/js/pages/sweet-alerts.init.js')}}"></script>

<script src="{{ asset('admin/dist/assets/libs/admin-resources/rwd-table/rwd-table.min.js')}}"></script>

<script src="{{ asset('admin/dist/assets/js/freeze-table.min.js')}}"></script>
        <!-- form mask init -->
<script src="{{ asset('admin/dist/assets/libs/inputmask/min/jquery.inputmask.bundle.min.js')}}"></script>
<script src="{{ asset('admin/dist/assets/js/pages/form-mask.init.js')}}"></script>



<script type="text/javascript">

    
    $(document).ready(function(){



     // Numeric only control handler
        jQuery.fn.ForceNumericOnly = function(){
            return this.each(function()
                {
                    $(this).keydown(function(e)
                    {
                        var key = e.charCode || e.keyCode || 0;
                        // allow backspace, tab, delete, enter, arrows, numbers and keypad numbers ONLY
                        // home, end, period, and numpad decimal
                        return (
                            key == 8 || 
                            key == 9 ||
                            key == 13 ||
                            key == 46 ||
                            key == 110 ||
                            key == 190 ||
                            (key >= 35 && key <= 40) ||
                            (key >= 48 && key <= 57) ||
                            (key >= 96 && key <= 105) || console.log(key));
                    });
            });
        };

        {% if app.request.get('routpersonext')  is defined and  app.request.get('routpersonext')==2 %}
            $('[href="#profile"]').tab('show');
        {% endif %}


        {% if app.session.get("codeCuci")!=""%}
  
            var value='{{app.session.get("codeCuci")}}';

            document.getElementById('idcuci').setAttribute('value',value);

            document.getElementById('codecuciPersonext').setAttribute('value',value);

            document.getElementById('txtcuci-eff').innerHTML=value;
            document.getElementById('txtcuci-eff2').innerHTML=value;


            var route="{{path('nineaNumEffectif')}}"+"/"+ value;
            $.ajax({
                type: 'GET',
                url : route,
                dataType : "json",
                success: function(data){
                    
                    let denomination=document.getElementById("denomination");
                    let denominationPersonext=document.getElementById("denominationPersonext");
                    document.getElementById('txtdesignation-eff').innerHTML=data;
                    document.getElementById('txtdesignation-eff2').innerHTML=data;
                    
                    denomination.value=data;
                    denominationPersonext.value=data;
                  
                } ,
                error : function(error){
                    console.log(error);
                }
            })

            {% if app.session.get("annee")!=""%}
          

            var route="{{path('effectifpluspersonnel')}}"+"/"+'{{app.session.get("annee")}}';

            document.getElementById('txtfinanciere-eff').innerHTML='{{app.session.get("annee")}}';
            document.getElementById('txtfinanciere-eff2').innerHTML='{{app.session.get("annee")}}';

            var form = $(this).closest("form");
            $.ajax({
                type: 'GET',
                url : route,
                dataType : "json",
                async : false,
                success: function(tab){
                    var tbody=document.getElementById("tbody");
                    var ann=document.getElementById("annee");
                    tbody.innerHTML="";
                    ann.innerHTML="";
                    
                    document.getElementById("annee").value=$('#anneePersonext').val();

                    console.log(tab[2]);                   

                    var newselect = document.getElementById("formrow-inputState");


                    if(tab[2]){
                        newselect.innerHTML = "";
                        // newselect.setAttribute("style", "display:none");

                        //var inputsSelect= document.createElement("select");
                        //var myParent = document.getElementById("sele"); //$("sele");

                        //Create array of options to be added
                        var array = [tab[2]];

                        //Create and append select list
                        //inputsSelect.id = "formrow-inputStates";
                        //myParent.appendChild(inputsSelect);


                        //Create and append the options
                        for (var i = 0; i < array.length; i++) {
                            var option = document.createElement("option");
                            option.value = array[i];
                            option.text = array[i];
                            newselect.appendChild(option);
                        }

                        //inputsSelect.setAttribute('class', "form-select inputStates");                        
                        //inputsSelect.setAttribute('name', "formrow-inputStates");                        
                        


                    }


                    //$("#formrow-inputState").val()=tab[2];
                    //$("#select option[value='"+tab[2]+"']").prop('selected', 'selected');                
                    //$("#formrow-inputState option[value="+tab[2]+"]").attr('selected', 'selected');                         

                    
                    var data=tab[0];
                    for (var i = 0; i < data[2].length; i++) {
 


                        var tr=document.createElement('tr');
                        tr.setAttribute('class'," opacity-65");   
                      

                        if (data[1][i][4]==true) {
                             tr.setAttribute('class'," opacity-65");
                              tr.setAttribute('style',"background: #82C46C;color:white;border:#ced4da;");

                        }else
                            tr.setAttribute('style',"border:#ced4da;");


                        

                        var td1=document.createElement('td'); //refCode
                        var td2=document.createElement('td'); // qualification

                        var td3=document.createElement('td');
                        var td4=document.createElement('td');

                        var td5=document.createElement('td');
                        var td6=document.createElement('td');

                        var td7=document.createElement('td');
                        var td8=document.createElement('td');

                        var td9=document.createElement('td'); // total effec

                        var td10=document.createElement('td');
                        var td11=document.createElement('td');

                        var td12=document.createElement('td');
                        var td13=document.createElement('td');

                        var td14=document.createElement('td');
                        var td15=document.createElement('td');

                        var td16=document.createElement('td'); // total masse

                        td1.setAttribute('scope',"col"); 
                        td1.setAttribute('class',"text-left form");
                               
                             
                        td1.innerHTML=  data[2][i][0];
                        //tr.appendChild(td1) ;

                        td2.setAttribute('scope',"col"); 
                        td2.setAttribute('class',"text-left form");
                        td2.setAttribute('style',"font-size: 9px;"); 

                                   
                        td2.innerHTML=  data[2][i][1];
                        tr.appendChild(td2) ;

                        td3.setAttribute('scope',"col"); 
                        td3.setAttribute('class',"text-center"); 


                        var input3=document.createElement('input'); 
                        if (data[1][i][4]==true)
                            input3.setAttribute('style','font-weight: bold;'); 
                        input3.setAttribute('class','form-control form-control-sm calcul'); 
                        input3.setAttribute('type','text'); 
                        input3.setAttribute('name',data[2][i][0]+"Eff3");
                        input3.setAttribute('id',data[2][i][0]+"Eff3");
                        input3.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 

                        // to force numeric value
                        if(data[0][data[2][i][0]]){
                          input3.setAttribute('value',data[0][data[2][i][0]][0]);
                        }



                        td3.appendChild(input3);
                        tr.appendChild(td3) ; 

                        td4.setAttribute('scope',"col"); 
                        td4.setAttribute('class',"text-center");           
                       
                        var input4=document.createElement('input');  
                        if (data[1][i][4]==true)
                            input4.setAttribute('style','font-weight: bold;');
                        input4.setAttribute('class','form-control form-control-sm calcul');
                        input4.setAttribute('style','width: 100%;');
                        input4.setAttribute('type','text'); 
                        input4.setAttribute('name',data[2][i][0]+"Eff4");
                        input4.setAttribute('id',data[2][i][0]+"Eff4");
                        input4.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 

                        if(data[0][data[2][i][0]]){
                          input4.setAttribute('value',data[0][data[2][i][0]][1]);
                        } 
                        td4.appendChild(input4);
                        tr.appendChild(td4) ;
                       


                        td5.setAttribute('scope',"col"); 
                        td5.setAttribute('class',"text-center");
                        var input5=document.createElement('input'); 
                        if (data[1][i][4]==true)
                            input5.setAttribute('style','font-weight: bold;');
                        input5.setAttribute('type','text'); 
                        input5.setAttribute('name',data[2][i][0]+"Eff5"); 
                        input5.setAttribute('id',data[2][i][0]+"Eff5"); 
                        input5.setAttribute('class','form-control form-control-sm calcul');
                        input5.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                        if(data[0][data[2][i][0]]){
                          input5.setAttribute('value',data[0][data[2][i][0]][2]);
                        } 
                        td5.appendChild(input5);

                        tr.appendChild(td5) ;
                        
                       


                        td6.setAttribute('scope',"col"); 
                        td6.setAttribute('class',"text-center");           
                        var input6=document.createElement('input'); 
                        input6.setAttribute('type','text'); 
                        input6.setAttribute('name',data[2][i][0]+"Eff6");
                        if (data[1][i][4]==true)
                            input6.setAttribute('style','font-weight: bold;');

                        input6.setAttribute('id',data[2][i][0]+"Eff6"); 
                        input6.setAttribute('class','form-control form-control-sm calcul'); 
                        input6.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                        
                        if(data[0][data[2][i][0]]){
                          input6.setAttribute('value',data[0][data[2][i][0]][3]);
                        }
                        td6.appendChild(input6);
                        tr.appendChild(td6) ;
                        
                        
                        td7.setAttribute('scope',"col"); 
                        td7.setAttribute('class',"text-center");           
                        var input7=document.createElement('input'); 
                        input7.setAttribute('type','text'); 
                        if (data[1][i][4]==true)
                            input7.setAttribute('style','font-weight: bold;');
                        input7.setAttribute('name',data[2][i][0]+"Eff7"); 
                        input7.setAttribute('id',data[2][i][0]+"Eff7"); 
                        input7.setAttribute('class','form-control form-control-sm calcul'); 
                        input7.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                        
                        if(data[0][data[2][i][0]]){
                          input7.setAttribute('value',data[0][data[2][i][0]][4]);
                        }
                        td7.appendChild(input7);
                        tr.appendChild(td7) ;


                        td8.setAttribute('scope',"col"); 
                        td8.setAttribute('class',"text-center");           
                        var input8=document.createElement('input'); 
                        input8.setAttribute('type','text'); 
                        input8.setAttribute('name',data[2][i][0]+"Eff8"); 
                        input8.setAttribute('id',data[2][i][0]+"Eff8"); 
                        if (data[1][i][4]==true)
                            input8.setAttribute('style','font-weight: bold;');
                        input8.setAttribute('class','form-control form-control-sm calcul'); 

                        input8.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                        
                        if(data[0][data[2][i][0]]){
                          input8.setAttribute('value',data[0][data[2][i][0]][5]);
                        }
                        td8.appendChild(input8);
                        tr.appendChild(td8) ;


                        td9.setAttribute('scope',"col"); 
                        td9.setAttribute('class',"text-center");           
                        var input9=document.createElement('input'); 
                        input9.setAttribute('type','text'); 
                        input9.setAttribute('name',data[2][i][0]+"TotalEff9"); 
                        if (data[1][i][4]==true)
                            input9.setAttribute('style','font-weight: bold;');
                        input9.setAttribute('id',data[2][i][0]+"TotalEff9"); 
                        input9.setAttribute('class','form-control form-control-sm calcul'); 

                        input9.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                        
                        if(data[0][data[2][i][0]]){
                          input9.setAttribute('value',data[0][data[2][i][0]][6]);
                        }
                        td9.appendChild(input9);
                        tr.appendChild(td9) ;
                        
                        
                        td10.setAttribute('scope',"col"); 
                        td10.setAttribute('class',"text-center");           
                        var input10=document.createElement('input'); 
                        input10.setAttribute('type','text');
                        if (data[1][i][4]==true)
                            input10.setAttribute('style','font-weight: bold;'); 
                        input10.setAttribute('name',data[2][i][0]+"Eff10"); 
                        input10.setAttribute('id',data[2][i][0]+"Eff10"); 
                        input10.setAttribute('class','form-control form-control-sm calcul'); 

                        input10.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                        
                        if(data[0][data[2][i][0]]){
                          input10.setAttribute('value',data[0][data[2][i][0]][7]);
                        }
                        td10.appendChild(input10);
                        tr.appendChild(td10) ;
                        
                        
                        td11.setAttribute('scope',"col"); 
                        td11.setAttribute('class',"text-center");           
                        var input11=document.createElement('input'); 
                        input11.setAttribute('type','text'); 
                        if (data[1][i][4]==true)
                            input11.setAttribute('style','font-weight: bold;');
                        input11.setAttribute('name',data[2][i][0]+"Eff11"); 
                        input11.setAttribute('id',data[2][i][0]+"Eff11"); 
                        input11.setAttribute('class','form-control form-control-sm calcul'); 


                        input11.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                        
                        if(data[0][data[2][i][0]]){
                          input11.setAttribute('value',data[0][data[2][i][0]][8]);
                        }
                        td11.appendChild(input11);
                        tr.appendChild(td11) ;
                        
                        
                        td12.setAttribute('scope',"col"); 
                        td12.setAttribute('class',"text-center");           
                        var input12=document.createElement('input'); 
                        if (data[1][i][4]==true)
                            input12.setAttribute('style','font-weight: bold;');
                        input12.setAttribute('type','text'); 
                        input12.setAttribute('name',data[2][i][0]+"Eff12"); 
                        input12.setAttribute('id',data[2][i][0]+"Eff12"); 
                        input12.setAttribute('class','form-control form-control-sm calcul'); 

                        input12.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 

                        if(data[0][data[2][i][0]]){
                          input12.setAttribute('value',data[0][data[2][i][0]][9]);
                        }
                        td12.appendChild(input12);
                        tr.appendChild(td12) ;
                        
                        
                        td13.setAttribute('scope',"col"); 
                        td13.setAttribute('class',"text-center");           
                        var input13=document.createElement('input'); 
                        input13.setAttribute('type','text'); 
                        if (data[1][i][4]==true)
                            input13.setAttribute('style','font-weight: bold;');
                        input13.setAttribute('name',data[2][i][0]+"Eff13"); 
                        input13.setAttribute('id',data[2][i][0]+"Eff13"); 
                        input13.setAttribute('class','form-control form-control-sm calcul'); 

                        input13.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 

                         
                        if(data[0][data[2][i][0]]){
                          input13.setAttribute('value',data[0][data[2][i][0]][10]);
                        }
                        td13.appendChild(input13);
                        tr.appendChild(td13) ;
                        
                        
                        td14.setAttribute('scope',"col"); 
                        td14.setAttribute('class',"text-center");           
                        var input14=document.createElement('input'); 
                        if (data[1][i][4]==true)
                            input14.setAttribute('style','font-weight: bold;');
                        input14.setAttribute('type','text'); 
                        input14.setAttribute('name',data[2][i][0]+"Eff14"); 
                        input14.setAttribute('id',data[2][i][0]+"Eff14");                         
                        input14.setAttribute('class','form-control form-control-sm calcul'); 

                        input14.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                        
                         
                        if(data[0][data[2][i][0]]){
                          input14.setAttribute('value',data[0][data[2][i][0]][11]);
                        }
                        td14.appendChild(input14);
                        tr.appendChild(td14) ;
                        
                        
                        td15.setAttribute('scope',"col"); 
                        td15.setAttribute('class',"text-center");           
                        var input15=document.createElement('input'); 
                        input15.setAttribute('type','text'); 
                        if (data[1][i][4]==true)
                            input15.setAttribute('style','font-weight: bold;');
                        input15.setAttribute('name',data[2][i][0]+"Eff15"); 
                        input15.setAttribute('id',data[2][i][0]+"Eff15"); 
                        input15.setAttribute('class','form-control form-control-sm calcul'); 

                        input15.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 

                         
                        if(data[0][data[2][i][0]]){
                          input15.setAttribute('value',data[0][data[2][i][0]][12]);
                        }
                        td15.appendChild(input15);
                        tr.appendChild(td15) ;
                        
                        
                        td16.setAttribute('scope',"col"); 
                        td16.setAttribute('class',"text-center");           
                        var input16=document.createElement('input'); 
                        input16.setAttribute('type','text'); 
                        if (data[1][i][4]==true)
                            input16.setAttribute('style','font-weight: bold;');
                        input16.setAttribute('name',data[2][i][0]+"TotalEff16"); 
                        input16.setAttribute('id',data[2][i][0]+"TotalEff16"); 
                        input16.setAttribute('class','form-control form-control-sm calcul'); 

                        input16.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                         
                        if(data[0][data[2][i][0]]){
                          input16.setAttribute('value',data[0][data[2][i][0]][13]);
                        }
                        td16.appendChild(input16);
                        tr.appendChild(td16) ;


                        tbody.appendChild(tr);  

                                
                            
                       
                    }



                    var tbody=document.getElementById("tbodyPersonext");

                    tbody.innerHTML="";


                    var dataPassif=tab[1];


                    for (var i = 0; i < dataPassif[1].length; i++) {
                        var tr=document.createElement('tr');
                        if (dataPassif[1][i][4]==true) {
                             tr.setAttribute('class'," opacity-65");
                              tr.setAttribute('style',"background: #82C46C;color:white;border:#ced4da;");

                        }else
                            tr.setAttribute('style',"border:#ced4da;");

                                  

                        var td1=document.createElement('td');
                        var td2=document.createElement('td');
                        var td3=document.createElement('td');
                        var td4=document.createElement('td');

                        var td5=document.createElement('td');
                        var td6=document.createElement('td');

                        var td7=document.createElement('td');
                        var td8=document.createElement('td');

                        var td9=document.createElement('td'); // total effec

                        var td10=document.createElement('td');
                        var td11=document.createElement('td');

                        var td12=document.createElement('td');
                        var td13=document.createElement('td');

                        var td14=document.createElement('td');
                        var td15=document.createElement('td');

                        var td16=document.createElement('td'); // total masse
                      

                        td1.setAttribute('scope',"col"); 
                        td1.setAttribute('class',"text-center form");
                               
                             
                        td1.innerHTML=  dataPassif[1][i][0];
                        //tr.appendChild(td1) ;

                        td2.setAttribute('scope',"col"); 
                        td2.setAttribute('style',"font-size: 9px;"); 
                                   
                        td2.innerHTML=  dataPassif[1][i][1];
                        tr.appendChild(td2) ;

                        td3.setAttribute('scope',"col"); 
                        td3.setAttribute('class',"text-center");
 


                        var input3=document.createElement('input');  
                        input3.setAttribute('class','form-control form-control-sm calculext'); 
                        input3.setAttribute('type','text'); 
                        input3.setAttribute('name',dataPassif[1][i][0]+"person3");
                        input3.setAttribute('id',dataPassif[1][i][0]+"person3");
                        input3.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]*$/g, '');"); 
                        if(dataPassif[0][dataPassif[1][i][0]]){
                          input3.setAttribute('value',dataPassif[0][dataPassif[1][i][0]][0]);
                        }


                        td3.appendChild(input3);
                        tr.appendChild(td3) ;

                      


                        td4.setAttribute('scope',"col"); 
                        td4.setAttribute('class',"text-center");           
                       
                        var input4=document.createElement('input');  
                        input4.setAttribute('class','form-control form-control-sm calculext');
                        input4.setAttribute('style','width: 100%;');
                        input4.setAttribute('type','text'); 
                        input4.setAttribute('name',dataPassif[1][i][0]+"person4");
                        input4.setAttribute('id',dataPassif[1][i][0]+"person4");
                        input4.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                        if(dataPassif[0][dataPassif[1][i][0]]){
                          input4.setAttribute('value',dataPassif[0][dataPassif[1][i][0]][1]);
                        } 
                        td4.appendChild(input4);
                        tr.appendChild(td4) ;

                        
                        td5.setAttribute('scope',"col"); 
                        td5.setAttribute('class',"text-center");
                        var input5=document.createElement('input'); 
                        input5.setAttribute('type','text'); 
                        input5.setAttribute('name',dataPassif[1][i][0]+"person5"); 
                        input5.setAttribute('id',dataPassif[1][i][0]+"person5"); 
                        input5.setAttribute('class','form-control form-control-sm calculext');
                        input5.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                        if(dataPassif[0][dataPassif[1][i][0]]){
                          input5.setAttribute('value',dataPassif[0][dataPassif[1][i][0]][2]);
                        } 
                        td5.appendChild(input5);

                        tr.appendChild(td5) ;
                        
                       


                        td6.setAttribute('scope',"col"); 
                        td6.setAttribute('class',"text-center");           
                        var input6=document.createElement('input'); 
                        input6.setAttribute('type','text'); 
                        input6.setAttribute('name',dataPassif[1][i][0]+"person6"); 
                        input6.setAttribute('id',dataPassif[1][i][0]+"person6"); 
                        input6.setAttribute('class','form-control form-control-sm calculext'); 
                        input6.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                        
                        if(dataPassif[0][dataPassif[1][i][0]]){
                          input6.setAttribute('value',dataPassif[0][dataPassif[1][i][0]][3]);
                        }
                        td6.appendChild(input6);
                        tr.appendChild(td6) ;
                        
                        
                        td7.setAttribute('scope',"col"); 
                        td7.setAttribute('class',"text-center");           
                        var input7=document.createElement('input'); 
                        input7.setAttribute('type','text'); 
                        input7.setAttribute('name',dataPassif[1][i][0]+"person7"); 
                        input7.setAttribute('id',dataPassif[1][i][0]+"person7"); 
                        input7.setAttribute('class','form-control form-control-sm calculext'); 
                        input7.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                        
                        if(dataPassif[0][dataPassif[1][i][0]]){
                          input7.setAttribute('value',dataPassif[0][dataPassif[1][i][0]][4]);
                        }
                        td7.appendChild(input7);
                        tr.appendChild(td7) ;


                        td8.setAttribute('scope',"col"); 
                        td8.setAttribute('class',"text-center");           
                        var input8=document.createElement('input'); 
                        input8.setAttribute('type','text'); 
                        input8.setAttribute('name',dataPassif[1][i][0]+"person8"); 
                        input8.setAttribute('id',dataPassif[1][i][0]+"person8"); 
                        input8.setAttribute('class','form-control form-control-sm calculext'); 

                        input8.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                        
                        if(dataPassif[0][dataPassif[1][i][0]]){
                          input8.setAttribute('value',dataPassif[0][dataPassif[1][i][0]][5]);
                        }
                        td8.appendChild(input8);
                        tr.appendChild(td8) ;


                        td9.setAttribute('scope',"col"); 
                        td9.setAttribute('class',"text-center");           
                        var input9=document.createElement('input'); 
                        input9.setAttribute('type','text'); 
                        input9.setAttribute('name',dataPassif[1][i][0]+"Totalperson9"); 
                        input9.setAttribute('id',dataPassif[1][i][0]+"Totalperson9"); 
                        input9.setAttribute('class','form-control form-control-sm calculext'); 

                        input9.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                        
                        if(dataPassif[0][dataPassif[1][i][0]]){
                          input9.setAttribute('value',dataPassif[0][dataPassif[1][i][0]][6]);
                        }
                        td9.appendChild(input9);
                        tr.appendChild(td9) ;
                        
                        
                        td10.setAttribute('scope',"col"); 
                        td10.setAttribute('class',"text-center");           
                        var input10=document.createElement('input'); 
                        input10.setAttribute('type','text'); 
                        input10.setAttribute('name',dataPassif[1][i][0]+"person10"); 
                        input10.setAttribute('id',dataPassif[1][i][0]+"person10"); 
                        input10.setAttribute('class','form-control form-control-sm calculext'); 

                        input10.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                        
                        if(dataPassif[0][dataPassif[1][i][0]]){
                          input10.setAttribute('value',dataPassif[0][dataPassif[1][i][0]][7]);
                        }
                        td10.appendChild(input10);
                        tr.appendChild(td10) ;
                        
                        
                        td11.setAttribute('scope',"col"); 
                        td11.setAttribute('class',"text-center");           
                        var input11=document.createElement('input'); 
                        input11.setAttribute('type','text'); 
                        input11.setAttribute('name',dataPassif[1][i][0]+"person11"); 
                        input11.setAttribute('id',dataPassif[1][i][0]+"person11"); 
                        input11.setAttribute('class','form-control form-control-sm calculext'); 

                        input11.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                        
                        if(dataPassif[0][dataPassif[1][i][0]]){
                          input11.setAttribute('value',dataPassif[0][dataPassif[1][i][0]][8]);
                        }
                        td11.appendChild(input11);
                        tr.appendChild(td11) ;
                        
                        
                        td12.setAttribute('scope',"col"); 
                        td12.setAttribute('class',"text-center");           
                        var input12=document.createElement('input'); 
                        input12.setAttribute('type','text'); 
                        input12.setAttribute('name',dataPassif[1][i][0]+"person12"); 
                        input12.setAttribute('id',dataPassif[1][i][0]+"person12"); 
                        input12.setAttribute('class','form-control form-control-sm calculext'); 

                        input12.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                        
                        //if(data[0][data[2][i][0]]){
                        //  input6.setAttribute('value',data[0][data[2][i][0]][4]);
                        //}
                        td12.appendChild(input12);
                       // tr.appendChild(td12) ;
                        
                        
                        td13.setAttribute('scope',"col"); 
                        td13.setAttribute('class',"text-center");           
                        var input13=document.createElement('input'); 
                        input13.setAttribute('type','text'); 
                        input13.setAttribute('name',dataPassif[1][i][0]+"person13"); 
                        input13.setAttribute('id',dataPassif[1][i][0]+"person13"); 
                        input13.setAttribute('class','form-control form-control-sm calculext'); 

                        input13.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 


                        //if(data[0][data[2][i][0]]){
                        //  input6.setAttribute('value',data[0][data[2][i][0]][4]);
                        //}
                        td13.appendChild(input13);
                        //tr.appendChild(td13) ;
                        
                        
                        td14.setAttribute('scope',"col"); 
                        td14.setAttribute('class',"text-center");           
                        var input14=document.createElement('input'); 
                        input14.setAttribute('type','text'); 
                        input14.setAttribute('name',dataPassif[1][i][0]+"person14"); 
                        input14.setAttribute('id',dataPassif[1][i][0]+"person14"); 
                        input14.setAttribute('class','form-control form-control-sm calculext');

                        input14.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                         
                        //if(data[0][data[2][i][0]]){
                        //  input6.setAttribute('value',data[0][data[2][i][0]][4]);
                        //}
                        td14.appendChild(input14);
                       // tr.appendChild(td14) ;
                        
                        
                        td15.setAttribute('scope',"col"); 
                        td15.setAttribute('class',"text-center");           
                        var input15=document.createElement('input'); 
                        input15.setAttribute('type','text'); 
                        input15.setAttribute('name',dataPassif[1][i][0]+"person15"); 
                        input15.setAttribute('id',dataPassif[1][i][0]+"person15"); 
                        input15.setAttribute('class','form-control form-control-sm calculext'); 

                        input15.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                        
                        //if(data[0][data[2][i][0]]){
                        //  input6.setAttribute('value',data[0][data[2][i][0]][4]);
                        //}
                        td15.appendChild(input15);
                        //tr.appendChild(td15) ;
                        
                        
                        td16.setAttribute('scope',"col"); 
                        td16.setAttribute('class',"text-center");           
                        var input16=document.createElement('input'); 
                        input16.setAttribute('type','text'); 
                        input16.setAttribute('name',dataPassif[1][i][0]+"Totalperson16"); 
                        input16.setAttribute('id',dataPassif[1][i][0]+"Totalperson16"); 
                        input16.setAttribute('class','form-control form-control-sm calculext'); 

                        input16.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                        
                        //if(data[0][data[2][i][0]]){
                        //  input6.setAttribute('value',data[0][data[2][i][0]][4]);
                        //}
                        td16.appendChild(input16);
                        //tr.appendChild(td16) ;



                        tbody.appendChild(tr);  

                                
                            
                       
                    }


                   
                } ,
                error : function(error){
                    console.log(error);
                }
            })




            ////////////////////////////////////////////////////////////////

            //////////////////// chargement auto formulaire Personnel ////////////////


            document.getElementById("annee").value='{{app.session.get("annee")}}';
            document.getElementById("anneePersonext").value='{{app.session.get("annee")}}';
            
            route="{{path('effectifpluspersonnel')}}"+"/"+'{{app.session.get("annee")}}';
            form = $(this).closest("form");
            $.ajax({
                type: 'GET',
                url : route,
                dataType : "json",
                success: function(tab){
                    var tbody=document.getElementById("tbody");
                    var ann=document.getElementById("annee");
                    tbody.innerHTML="";
                    ann.innerHTML="";
                    var data=tab[0];


                    /* console.log(tab[2]);                  

                    var newselect = document.getElementById("formrow-inputState");


                    if(tab[2]){
                        newselect.innerHTML = "";

                        var inputsSelect= document.createElement("select");
                        var myParent = document.getElementById("sele"); //$("sele");

                        //Create array of options to be added
                        var array = [tab[2]];

                        //Create and append select list
                        inputsSelect.id = "formrow-inputState";
                        myParent.appendChild(inputsSelect);

                        //Create and append the options
                        for (var i = 0; i < array.length; i++) {
                            var option = document.createElement("option");
                            option.value = array[i];
                            option.text = array[i];
                            inputsSelect.appendChild(option);
                        }

                        inputsSelect.setAttribute('class', "form-select inputState");                        
                                                


                    }*/



                    for (var i = 0; i < data[2].length; i++) {

                        var tr=document.createElement('tr');
                        tr.setAttribute('class'," opacity-65");   
                      

                        if (data[1][i][4]==true) {
                             tr.setAttribute('class'," opacity-65");
                              tr.setAttribute('style',"background: #82C46C;color:white;border:#ced4da;");

                        }else
                        
                        tr.setAttribute('style',"border:#ced4da;");


                        

                        var td1=document.createElement('td'); //refCode
                        var td2=document.createElement('td'); // qualification

                        var td3=document.createElement('td');
                        var td4=document.createElement('td');

                        var td5=document.createElement('td');
                        var td6=document.createElement('td');

                        var td7=document.createElement('td');
                        var td8=document.createElement('td');

                        var td9=document.createElement('td'); // total effec

                        var td10=document.createElement('td');
                        var td11=document.createElement('td');

                        var td12=document.createElement('td');
                        var td13=document.createElement('td');

                        var td14=document.createElement('td');
                        var td15=document.createElement('td');

                        var td16=document.createElement('td'); // total masse

                        td1.setAttribute('scope',"col"); 
                        td1.setAttribute('class',"text-left form");
                               
                             
                        td1.innerHTML=  data[2][i][0];
                        //tr.appendChild(td1) ;

                        td2.setAttribute('scope',"col"); 
                        td12.setAttribute('class',"text-left form");
                        td2.setAttribute('style',"font-size: 9px;"); 

                                   
                        td2.innerHTML=  data[2][i][1];
                        tr.appendChild(td2) ;

                        td3.setAttribute('scope',"col"); 
                        td3.setAttribute('class',"text-center"); 


                        var input3=document.createElement('input');  
                        input3.setAttribute('class','form-control form-control-sm calcul'); 
                        input3.setAttribute('type','text'); 
                        input3.setAttribute('name',data[2][i][0]+"Eff3");
                        input3.setAttribute('id',data[2][i][0]+"Eff3");
                        input3.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]*$/g, '');"); 
                        if(data[0][data[2][i][0]]){
                          input3.setAttribute('value',data[0][data[2][i][0]][0]);
                        }



                        td3.appendChild(input3);
                        tr.appendChild(td3) ;
                      


                        td4.setAttribute('scope',"col"); 
                        td4.setAttribute('class',"text-center");           
                       
                        var input4=document.createElement('input');  
                        input4.setAttribute('class','form-control form-control-sm calcul');
                        input4.setAttribute('style','width: 100%;');
                        input4.setAttribute('type','text'); 
                        input4.setAttribute('name',data[2][i][0]+"Eff4");
                        input4.setAttribute('id',data[2][i][0]+"Eff4");
                        input4.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                        if(data[0][data[2][i][0]]){
                          input4.setAttribute('value',data[0][data[2][i][0]][1]);
                        } 
                        td4.appendChild(input4);
                        tr.appendChild(td4) ;
                       


                        td5.setAttribute('scope',"col"); 
                        td5.setAttribute('class',"text-center");
                        var input5=document.createElement('input'); 
                        input5.setAttribute('type','text'); 
                        input5.setAttribute('name',data[2][i][0]+"Eff5"); 
                        input5.setAttribute('id',data[2][i][0]+"Eff5"); 
                        input5.setAttribute('class','form-control form-control-sm calcul');
                        input5.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                        if(data[0][data[2][i][0]]){
                          input5.setAttribute('value',data[0][data[2][i][0]][2]);
                        } 
                        td5.appendChild(input5);

                        tr.appendChild(td5) ;
                        
                       


                        td6.setAttribute('scope',"col"); 
                        td6.setAttribute('class',"text-center");           
                        var input6=document.createElement('input'); 
                        input6.setAttribute('type','text'); 
                        input6.setAttribute('name',data[2][i][0]+"Eff6"); 
                        input6.setAttribute('id',data[2][i][0]+"Eff6"); 
                        input6.setAttribute('class','form-control form-control-sm calcul'); 
                        input6.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                        if(data[0][data[2][i][0]]){
                          input6.setAttribute('value',data[0][data[2][i][0]][3]);
                        }
                        td6.appendChild(input6);
                        tr.appendChild(td6) ;
                        
                        
                        td7.setAttribute('scope',"col"); 
                        td7.setAttribute('class',"text-center");           
                        var input7=document.createElement('input'); 
                        input7.setAttribute('type','text'); 
                        input7.setAttribute('name',data[2][i][0]+"Eff7"); 
                        input7.setAttribute('id',data[2][i][0]+"Eff7"); 
                        input7.setAttribute('class','form-control form-control-sm calcul'); 
                        input7.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                        
                        if(data[0][data[2][i][0]]){
                          input7.setAttribute('value',data[0][data[2][i][0]][4]);
                        }
                        td7.appendChild(input7);
                        tr.appendChild(td7) ;


                        td8.setAttribute('scope',"col"); 
                        td8.setAttribute('class',"text-center");           
                        var input8=document.createElement('input'); 
                        input8.setAttribute('type','text'); 
                        input8.setAttribute('name',data[2][i][0]+"Eff8"); 
                        input8.setAttribute('id',data[2][i][0]+"Eff8"); 
                        input8.setAttribute('class','form-control form-control-sm calcul'); 

                        input8.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                        
                        if(data[0][data[2][i][0]]){
                          input8.setAttribute('value',data[0][data[2][i][0]][5]);
                        }
                        td8.appendChild(input8);
                        tr.appendChild(td8) ;


                        td9.setAttribute('scope',"col"); 
                        td9.setAttribute('class',"text-center");           
                        var input9=document.createElement('input'); 
                        input9.setAttribute('type','text'); 
                        input9.setAttribute('name',data[2][i][0]+"TotalEff9"); 
                        input9.setAttribute('id',data[2][i][0]+"TotalEff9"); 
                        input9.setAttribute('class','form-control form-control-sm calcul'); 

                        input9.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                        
                        if(data[0][data[2][i][0]]){
                          input9.setAttribute('value',data[0][data[2][i][0]][6]);
                        }
                        td9.appendChild(input9);
                        tr.appendChild(td9) ;
                        
                        
                        td10.setAttribute('scope',"col"); 
                        td10.setAttribute('class',"text-center");           
                        var input10=document.createElement('input'); 
                        input10.setAttribute('type','text'); 
                        input10.setAttribute('name',data[2][i][0]+"Eff10"); 
                        input10.setAttribute('id',data[2][i][0]+"Eff10"); 
                        input10.setAttribute('class','form-control form-control-sm calcul'); 

                        input10.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                        
                        if(data[0][data[2][i][0]]){
                          input10.setAttribute('value',data[0][data[2][i][0]][7]);
                        }
                        td10.appendChild(input10);
                        tr.appendChild(td10) ;
                        
                        
                        td11.setAttribute('scope',"col"); 
                        td11.setAttribute('class',"text-center");           
                        var input11=document.createElement('input'); 
                        input11.setAttribute('type','text'); 
                        input11.setAttribute('name',data[2][i][0]+"Eff11"); 
                        input11.setAttribute('id',data[2][i][0]+"Eff11"); 
                        input11.setAttribute('class','form-control form-control-sm calcul'); 

                        input11.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                        
                        if(data[0][data[2][i][0]]){
                          input11.setAttribute('value',data[0][data[2][i][0]][8]);
                        }
                        td11.appendChild(input11);
                        tr.appendChild(td11) ;
                        
                        
                        td12.setAttribute('scope',"col"); 
                        td12.setAttribute('class',"text-center");           
                        var input12=document.createElement('input'); 
                        input12.setAttribute('type','text'); 
                        input12.setAttribute('name',data[2][i][0]+"Eff12"); 
                        input12.setAttribute('id',data[2][i][0]+"Eff12"); 
                        input12.setAttribute('class','form-control form-control-sm calcul'); 

                        input12.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                        if(data[0][data[2][i][0]]){
                          input12.setAttribute('value',data[0][data[2][i][0]][9]);
                        }
                        td12.appendChild(input12);
                        tr.appendChild(td12) ;
                        
                        
                        td13.setAttribute('scope',"col"); 
                        td13.setAttribute('class',"text-center");           
                        var input13=document.createElement('input'); 
                        input13.setAttribute('type','text'); 
                        input13.setAttribute('name',data[2][i][0]+"Eff13"); 
                        input13.setAttribute('id',data[2][i][0]+"Eff13"); 
                        input13.setAttribute('class','form-control form-control-sm calcul');

                        input13.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                         
                        if(data[0][data[2][i][0]]){
                          input13.setAttribute('value',data[0][data[2][i][0]][10]);
                        }
                        td13.appendChild(input13);
                        tr.appendChild(td13) ;
                        
                        
                        td14.setAttribute('scope',"col"); 
                        td14.setAttribute('class',"text-center");           
                        var input14=document.createElement('input'); 
                        input14.setAttribute('type','text'); 
                        input14.setAttribute('name',data[2][i][0]+"Eff14"); 
                        input14.setAttribute('id',data[2][i][0]+"Eff14"); 
                        input14.setAttribute('class','form-control form-control-sm calcul');

                        input14.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                         
                        if(data[0][data[2][i][0]]){
                          input14.setAttribute('value',data[0][data[2][i][0]][11]);
                        }
                        td14.appendChild(input14);
                        tr.appendChild(td14) ;
                        
                        
                        td15.setAttribute('scope',"col"); 
                        td15.setAttribute('class',"text-center");           
                        var input15=document.createElement('input'); 
                        input15.setAttribute('type','text'); 
                        input15.setAttribute('name',data[2][i][0]+"Eff15"); 
                        input15.setAttribute('id',data[2][i][0]+"Eff15"); 
                        input15.setAttribute('class','form-control form-control-sm calcul'); 

                        input15.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                         
                        if(data[0][data[2][i][0]]){
                          input15.setAttribute('value',data[0][data[2][i][0]][12]);
                        }
                        td15.appendChild(input15);
                        tr.appendChild(td15) ;
                        
                        
                        td16.setAttribute('scope',"col"); 
                        td16.setAttribute('class',"text-center");           
                        var input16=document.createElement('input'); 
                        input16.setAttribute('type','text'); 
                        input16.setAttribute('name',data[2][i][0]+"TotalEff16"); 
                        input16.setAttribute('id',data[2][i][0]+"TotalEff16"); 
                        input16.setAttribute('class','form-control form-control-sm calcul'); 

                        input16.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                         
                        if(data[0][data[2][i][0]]){
                          input16.setAttribute('value',data[0][data[2][i][0]][13]);
                        }
                        td16.appendChild(input16);
                        tr.appendChild(td16) ;


                        tbody.appendChild(tr);  

                                
                            
                       
                    }



                    var tbody=document.getElementById("tbodyPersonext");

                    tbody.innerHTML="";


                    var dataPassif=tab[1];



                    for (var i = 0; i < dataPassif[1].length; i++) {
                        var tr=document.createElement('tr');
                        if (dataPassif[1][i][4]==true) {
                             tr.setAttribute('class'," opacity-65");
                              tr.setAttribute('style',"background: #82C46C;color:white;border:#ced4da;");

                        }else
                            tr.setAttribute('style',"border:#ced4da;");


                        var td1=document.createElement('td');
                        var td2=document.createElement('td');
                        var td3=document.createElement('td');
                        var td4=document.createElement('td');

                        var td5=document.createElement('td');
                        var td6=document.createElement('td');

                        var td7=document.createElement('td');
                        var td8=document.createElement('td');

                        var td9=document.createElement('td'); // total effec

                        var td10=document.createElement('td');
                        var td11=document.createElement('td');

                        var td12=document.createElement('td');
                        var td13=document.createElement('td');

                        var td14=document.createElement('td');
                        var td15=document.createElement('td');

                        var td16=document.createElement('td'); // total masse
                      

                        td1.setAttribute('scope',"col"); 
                        td1.setAttribute('class',"text-center form");
                               
                             
                        td1.innerHTML=  dataPassif[1][i][0];
                        //tr.appendChild(td1) ;

                        td2.setAttribute('scope',"col"); 
                        td2.setAttribute('style',"font-size: 9px;"); 
                                   
                        td2.innerHTML=  dataPassif[1][i][1];
                        tr.appendChild(td2) ;

                        td3.setAttribute('scope',"col"); 
                        td3.setAttribute('class',"text-center"); 


                        var input3=document.createElement('input');  
                        input3.setAttribute('class','form-control form-control-sm calculext'); 
                        input3.setAttribute('type','text'); 
                        input3.setAttribute('name',dataPassif[1][i][0]+"person3");
                        input3.setAttribute('id',dataPassif[1][i][0]+"person3");
                        input3.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]*$/g, '');"); 
                        if(dataPassif[0][dataPassif[1][i][0]]){
                          input3.setAttribute('value',dataPassif[0][dataPassif[1][i][0]][0]);
                        }


                        td3.appendChild(input3);
                        tr.appendChild(td3) ;

                      


                        td4.setAttribute('scope',"col"); 
                        td4.setAttribute('class',"text-center");           
                       
                        var input4=document.createElement('input');  
                        input4.setAttribute('class','form-control form-control-sm calculext');
                        input4.setAttribute('style','width: 100%;');
                        input4.setAttribute('type','text'); 
                        input4.setAttribute('name',dataPassif[1][i][0]+"person4");
                        input4.setAttribute('id',dataPassif[1][i][0]+"person4");
                        input4.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                        if(dataPassif[0][dataPassif[1][i][0]]){
                          input4.setAttribute('value',dataPassif[0][dataPassif[1][i][0]][1]);
                        } 
                        td4.appendChild(input4);
                        tr.appendChild(td4) ;

                        
                        td5.setAttribute('scope',"col"); 
                        td5.setAttribute('class',"text-center");
                        var input5=document.createElement('input'); 
                        input5.setAttribute('type','text'); 
                        input5.setAttribute('name',dataPassif[1][i][0]+"person5"); 
                        input5.setAttribute('id',dataPassif[1][i][0]+"person5"); 
                        input5.setAttribute('class','form-control form-control-sm calculext');
                        input5.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                        if(dataPassif[0][dataPassif[1][i][0]]){
                          input5.setAttribute('value',dataPassif[0][dataPassif[1][i][0]][2]);
                        } 
                        td5.appendChild(input5);

                        tr.appendChild(td5) ;
                        
                       


                        td6.setAttribute('scope',"col"); 
                        td6.setAttribute('class',"text-center");           
                        var input6=document.createElement('input'); 
                        input6.setAttribute('type','text'); 
                        input6.setAttribute('name',dataPassif[1][i][0]+"person6"); 
                        input6.setAttribute('id',dataPassif[1][i][0]+"person6"); 
                        input6.setAttribute('class','form-control form-control-sm calculext'); 
                        input6.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                        
                        if(dataPassif[0][dataPassif[1][i][0]]){
                          input6.setAttribute('value',dataPassif[0][dataPassif[1][i][0]][3]);
                        }
                        td6.appendChild(input6);
                        tr.appendChild(td6) ;
                        
                        
                        td7.setAttribute('scope',"col"); 
                        td7.setAttribute('class',"text-center");           
                        var input7=document.createElement('input'); 
                        input7.setAttribute('type','text'); 
                        input7.setAttribute('name',dataPassif[1][i][0]+"person7"); 
                        input7.setAttribute('id',dataPassif[1][i][0]+"person7"); 
                        input7.setAttribute('class','form-control form-control-sm calculext');
                        input7.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                         
                        if(dataPassif[0][dataPassif[1][i][0]]){
                          input7.setAttribute('value',dataPassif[0][dataPassif[1][i][0]][4]);
                        }
                        td7.appendChild(input7);
                        tr.appendChild(td7) ;


                        td8.setAttribute('scope',"col"); 
                        td8.setAttribute('class',"text-center");           
                        var input8=document.createElement('input'); 
                        input8.setAttribute('type','text'); 
                        input8.setAttribute('name',dataPassif[1][i][0]+"person8"); 
                        input8.setAttribute('id',dataPassif[1][i][0]+"person8"); 
                        input8.setAttribute('class','form-control form-control-sm calculext'); 

                        input8.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                        
                        if(dataPassif[0][dataPassif[1][i][0]]){
                          input8.setAttribute('value',dataPassif[0][dataPassif[1][i][0]][5]);
                        }
                        td8.appendChild(input8);
                        tr.appendChild(td8) ;


                        td9.setAttribute('scope',"col"); 
                        td9.setAttribute('class',"text-center");           
                        var input9=document.createElement('input'); 
                        input9.setAttribute('type','text'); 
                        input9.setAttribute('name',dataPassif[1][i][0]+"Totalperson9"); 
                        input9.setAttribute('id',dataPassif[1][i][0]+"Totalperson9"); 
                        input9.setAttribute('class','form-control form-control-sm calculext'); 

                        input9.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                        
                        if(dataPassif[0][dataPassif[1][i][0]]){
                          input9.setAttribute('value',dataPassif[0][dataPassif[1][i][0]][6]);
                        }
                        td9.appendChild(input9);
                        tr.appendChild(td9) ;
                        
                        
                        td10.setAttribute('scope',"col"); 
                        td10.setAttribute('class',"text-center");           
                        var input10=document.createElement('input'); 
                        input10.setAttribute('type','text'); 
                        input10.setAttribute('name',dataPassif[1][i][0]+"person10"); 
                        input10.setAttribute('id',dataPassif[1][i][0]+"person10"); 
                        input10.setAttribute('class','form-control form-control-sm calculext'); 

                        input10.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                        
                        if(dataPassif[0][dataPassif[1][i][0]]){
                          input10.setAttribute('value',dataPassif[0][dataPassif[1][i][0]][7]);
                        }
                        td10.appendChild(input10);
                        tr.appendChild(td10) ;
                        
                        
                        td11.setAttribute('scope',"col"); 
                        td11.setAttribute('class',"text-center");           
                        var input11=document.createElement('input'); 
                        input11.setAttribute('type','text'); 
                        input11.setAttribute('name',dataPassif[1][i][0]+"person11"); 
                        input11.setAttribute('id',dataPassif[1][i][0]+"person11"); 
                        input11.setAttribute('class','form-control form-control-sm calculext'); 

                        input11.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                        
                        if(dataPassif[0][dataPassif[1][i][0]]){
                          input11.setAttribute('value',dataPassif[0][dataPassif[1][i][0]][8]);
                        }
                        td11.appendChild(input11);
                        tr.appendChild(td11) ;
                        
                        
                        td12.setAttribute('scope',"col"); 
                        td12.setAttribute('class',"text-center");           
                        var input12=document.createElement('input'); 
                        input12.setAttribute('type','text'); 
                        input12.setAttribute('name',dataPassif[1][i][0]+"person12"); 
                        input12.setAttribute('id',dataPassif[1][i][0]+"person12"); 
                        input12.setAttribute('class','form-control form-control-sm calculext');

                        input12.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                         
                        //if(data[0][data[2][i][0]]){
                        //  input6.setAttribute('value',data[0][data[2][i][0]][4]);
                        //}
                        td12.appendChild(input12);
                       // tr.appendChild(td12) ;
                        
                        
                        td13.setAttribute('scope',"col"); 
                        td13.setAttribute('class',"text-center");           
                        var input13=document.createElement('input'); 
                        input13.setAttribute('type','text'); 
                        input13.setAttribute('name',dataPassif[1][i][0]+"person13"); 
                        input13.setAttribute('id',dataPassif[1][i][0]+"person13"); 
                        input13.setAttribute('class','form-control form-control-sm calculext'); 

                        input13.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                        
                        //if(data[0][data[2][i][0]]){
                        //  input6.setAttribute('value',data[0][data[2][i][0]][4]);
                        //}
                        td13.appendChild(input13);
                        //tr.appendChild(td13) ;
                        
                        
                        td14.setAttribute('scope',"col"); 
                        td14.setAttribute('class',"text-center");           
                        var input14=document.createElement('input'); 
                        input14.setAttribute('type','text'); 
                        input14.setAttribute('name',dataPassif[1][i][0]+"person14"); 
                        input14.setAttribute('id',dataPassif[1][i][0]+"person14"); 
                        input14.setAttribute('class','form-control form-control-sm calculext'); 

                        input14.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                        
                        //if(data[0][data[2][i][0]]){
                        //  input6.setAttribute('value',data[0][data[2][i][0]][4]);
                        //}
                        td14.appendChild(input14);
                       // tr.appendChild(td14) ;
                        
                        
                        td15.setAttribute('scope',"col"); 
                        td15.setAttribute('class',"text-center");           
                        var input15=document.createElement('input'); 
                        input15.setAttribute('type','text'); 
                        input15.setAttribute('name',dataPassif[1][i][0]+"person15"); 
                        input15.setAttribute('id',dataPassif[1][i][0]+"person15"); 
                        input15.setAttribute('class','form-control form-control-sm calculext'); 

                        input15.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                        
                        //if(data[0][data[2][i][0]]){
                        //  input6.setAttribute('value',data[0][data[2][i][0]][4]);
                        //}
                        td15.appendChild(input15);
                        //tr.appendChild(td15) ;
                        
                        
                        td16.setAttribute('scope',"col"); 
                        td16.setAttribute('class',"text-center");           
                        var input16=document.createElement('input'); 
                        input16.setAttribute('type','text'); 
                        input16.setAttribute('name',dataPassif[1][i][0]+"Totalperson16"); 
                        input16.setAttribute('id',dataPassif[1][i][0]+"Totalperson16"); 
                        input16.setAttribute('class','form-control form-control-sm calculext'); 

                        input16.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                        
                        //if(data[0][data[2][i][0]]){
                        //  input6.setAttribute('value',data[0][data[2][i][0]][4]);
                        //}
                        td16.appendChild(input16);
                        //tr.appendChild(td16) ;



                        tbody.appendChild(tr);  

                                
                            
                       
                    }
                    

                    $(".form-control").bind("keypress", function(e) {

                        if (e.keyCode == 13) {
                            var inps = $("input"); //add select too
                            for (var x = 0; x < inps.length; x++) {
                                if (inps[x] == this) {
                                    while ((inps[x]).name == (inps[x + 1]).name) {
                                    x++;
                                    }
                                    if ((x + 1) < inps.length) $(inps[x + 1]).focus();
                                }
                            }   e.preventDefault();
                        }
                    });

                    $(function(){
                        $(".table-responsive").responsiveTable({addDisplayAllBtn:"btn btn-secondary"}),
                        $(".btn-toolbar [data-toggle=dropdown]").attr("data-bs-toggle","dropdown")});

                   
                } ,
                error : function(error){
                    console.log(error);
                }
            })


       {% endif %}

        {% endif %}



 
    });  // end DOM document ready function







    
     function remplacer(vartester){
         
         
        if(vartester == "" || vartester == null){
            return 0;

        }
        vartester=vartester.replace(".", "");
        vartester=vartester.replace(".", "");
        vartester=vartester.replace(".", "");
        vartester=vartester.replace(".", "");
        vartester=vartester.replace(".", "");
        vartester=vartester.replace(".", "");
        vartester=vartester.replace(",", "");
        vartester=vartester.replace(",", "");
        vartester=vartester.replace(",", "");
        vartester=vartester.replace(",", "");
        vartester=vartester.replace(",", "");
        vartester=vartester.replace(",", "");
        vartester=vartester.replace(",", "");
        
        return vartester;
    }



    // javascript function to verify integer value is
    function isInt(valeur) {

      if(valeur!=null || valeur!=""){
        var $val=remplacer(valeur);
       
      if((parseFloat($val) == parseFloat($val)) && !isNaN($val)){ 
       
          return true;
      } else {
          
          return false;
      }
      }else 
          return false;
        

        // return !isNaN(value) && 
        //        parseFloat(Number(value)) == value ;
    }





/// if idcuci change find denomination sociale 
    $('#idcuci').change(function(e){
            
            let route="{{path('nineaNumEffectif')}}"+"/"+ $('#idcuci').val();
            document.getElementById('txtcuci-eff').innerHTML=$('#idcuci').val();
            document.getElementById('txtcuci-eff2').innerHTML=$('#idcuci').val();
             
             codecuciPersonext.value=$('#idcuci').val();

            $.ajax({
                type: 'GET',
                url : route,
                dataType : "json",
                success: function(data){
                    
                    let denomination=document.getElementById("denomination");
                    denomination.value=data;
                    document.getElementById('txtdesignation-eff').innerHTML=data;
                    document.getElementById('txtdesignation-eff2').innerHTML=data;

                    let denominationPersonext=document.getElementById("denominationPersonext");
                   
                    denominationPersonext.value=data;
                    

                  
                } ,
                error : function(error){
                    console.log(error);
                }
            })
    }); /// end to find denomination 


    
    ////// ecouteur sur le input annee fin generer le formulaire
    $('#annee').change(function(e){

            e.preventDefault();
            document.getElementById('txtfinanciere-eff').innerHTML=$('#annee').val();
            document.getElementById('txtfinanciere-eff2').innerHTML=$('#annee').val();

            
            var route="{{path('effectifpluspersonnel')}}"+"/"+$('#annee').val();

            var form = $(this).closest("form");


            $.ajax({
                type: 'GET',
                url : route,
                dataType : "json",
                success: function(tab){
                    var tbody=document.getElementById("tbody");
                    var ann=document.getElementById("annee");
                    tbody.innerHTML="";
                    ann.innerHTML="";
                    
                    document.getElementById("annee").value=$('#anneePersonext').val();
                    
                    var data=tab[0];

                    for (var i = 0; i < data[2].length; i++) {
 


                        var tr=document.createElement('tr');
                        tr.setAttribute('class'," opacity-65");   
                      

                        if (data[1][i][4]==true) {
                             tr.setAttribute('class'," opacity-65");
                              tr.setAttribute('style',"background: #82C46C;color:white;border:#ced4da;");

                        }else
                            tr.setAttribute('style',"border:#ced4da;");


                        

                        var td1=document.createElement('td'); //refCode
                        var td2=document.createElement('td'); // qualification

                        var td3=document.createElement('td');
                        var td4=document.createElement('td');

                        var td5=document.createElement('td');
                        var td6=document.createElement('td');

                        var td7=document.createElement('td');
                        var td8=document.createElement('td');

                        var td9=document.createElement('td'); // total effec

                        var td10=document.createElement('td');
                        var td11=document.createElement('td');

                        var td12=document.createElement('td');
                        var td13=document.createElement('td');

                        var td14=document.createElement('td');
                        var td15=document.createElement('td');

                        var td16=document.createElement('td'); // total masse

                        td1.setAttribute('scope',"col"); 
                        td1.setAttribute('class',"text-left form");
                               
                             
                        td1.innerHTML=  data[2][i][0];
                        //tr.appendChild(td1) ;

                        td2.setAttribute('scope',"col"); 
                        td2.setAttribute('class',"text-left form");
                        td2.setAttribute('style',"font-size: 9px;"); 

                                   
                        td2.innerHTML=  data[2][i][1];
                        tr.appendChild(td2) ;

                        td3.setAttribute('scope',"col"); 
                        td3.setAttribute('class',"text-center"); 


                        var input3=document.createElement('input');  
                        input3.setAttribute('class','form-control form-control-sm'); 
                        input3.setAttribute('type','text'); 
                        input3.setAttribute('name',data[2][i][0]+"Eff3");
                        input3.setAttribute('id',data[2][i][0]+"Eff3");
                        input3.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 

                        // to force numeric value
                        if(data[0][data[2][i][0]]){
                          input3.setAttribute('value',data[0][data[2][i][0]][0]);
                        }



                        td3.appendChild(input3);
                        tr.appendChild(td3) ; 

                        td4.setAttribute('scope',"col"); 
                        td4.setAttribute('class',"text-center");           
                       
                        var input4=document.createElement('input');  
                        input4.setAttribute('class','form-control form-control-sm');
                        input4.setAttribute('style','width: 100%;');
                        input4.setAttribute('type','text'); 
                        input4.setAttribute('name',data[2][i][0]+"Eff4");
                        input4.setAttribute('id',data[2][i][0]+"Eff4");
                        input4.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 

                        if(data[0][data[2][i][0]]){
                          input4.setAttribute('value',data[0][data[2][i][0]][1]);
                        } 
                        td4.appendChild(input4);
                        tr.appendChild(td4) ;
                       


                        td5.setAttribute('scope',"col"); 
                        td5.setAttribute('class',"text-center");
                        var input5=document.createElement('input'); 
                        input5.setAttribute('type','text'); 
                        input5.setAttribute('name',data[2][i][0]+"Eff5"); 
                        input5.setAttribute('id',data[2][i][0]+"Eff5"); 
                        input5.setAttribute('class','form-control form-control-sm');
                        input5.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                        if(data[0][data[2][i][0]]){
                          input5.setAttribute('value',data[0][data[2][i][0]][2]);
                        } 
                        td5.appendChild(input5);

                        tr.appendChild(td5) ;
                        
                       


                        td6.setAttribute('scope',"col"); 
                        td6.setAttribute('class',"text-center");           
                        var input6=document.createElement('input'); 
                        input6.setAttribute('type','text'); 
                        input6.setAttribute('name',data[2][i][0]+"Eff6");

                        input6.setAttribute('id',data[2][i][0]+"Eff6"); 
                        input6.setAttribute('class','form-control form-control-sm'); 
                        input6.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                        
                        if(data[0][data[2][i][0]]){
                          input6.setAttribute('value',data[0][data[2][i][0]][3]);
                        }
                        td6.appendChild(input6);
                        tr.appendChild(td6) ;
                        
                        
                        td7.setAttribute('scope',"col"); 
                        td7.setAttribute('class',"text-center");           
                        var input7=document.createElement('input'); 
                        input7.setAttribute('type','text'); 
                        input7.setAttribute('name',data[2][i][0]+"Eff7"); 
                        input7.setAttribute('id',data[2][i][0]+"Eff7"); 
                        input7.setAttribute('class','form-control form-control-sm'); 
                        input7.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                        
                        if(data[0][data[2][i][0]]){
                          input7.setAttribute('value',data[0][data[2][i][0]][4]);
                        }
                        td7.appendChild(input7);
                        tr.appendChild(td7) ;


                        td8.setAttribute('scope',"col"); 
                        td8.setAttribute('class',"text-center");           
                        var input8=document.createElement('input'); 
                        input8.setAttribute('type','text'); 
                        input8.setAttribute('name',data[2][i][0]+"Eff8"); 
                        input8.setAttribute('id',data[2][i][0]+"Eff8"); 
                        input8.setAttribute('class','form-control form-control-sm'); 

                        input8.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                        
                        if(data[0][data[2][i][0]]){
                          input8.setAttribute('value',data[0][data[2][i][0]][5]);
                        }
                        td8.appendChild(input8);
                        tr.appendChild(td8) ;


                        td9.setAttribute('scope',"col"); 
                        td9.setAttribute('class',"text-center");           
                        var input9=document.createElement('input'); 
                        input9.setAttribute('type','text'); 
                        input9.setAttribute('name',data[2][i][0]+"TotalEff9"); 
                        input9.setAttribute('id',data[2][i][0]+"TotalEff9"); 
                        input9.setAttribute('class','form-control form-control-sm'); 

                        input9.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                        
                        if(data[0][data[2][i][0]]){
                          input9.setAttribute('value',data[0][data[2][i][0]][6]);
                        }
                        td9.appendChild(input9);
                        tr.appendChild(td9) ;
                        
                        
                        td10.setAttribute('scope',"col"); 
                        td10.setAttribute('class',"text-center");           
                        var input10=document.createElement('input'); 
                        input10.setAttribute('type','text'); 
                        input10.setAttribute('name',data[2][i][0]+"Eff10"); 
                        input10.setAttribute('id',data[2][i][0]+"Eff10"); 
                        input10.setAttribute('class','form-control form-control-sm'); 

                        input10.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                        
                        if(data[0][data[2][i][0]]){
                          input10.setAttribute('value',data[0][data[2][i][0]][7]);
                        }
                        td10.appendChild(input10);
                        tr.appendChild(td10) ;
                        
                        
                        td11.setAttribute('scope',"col"); 
                        td11.setAttribute('class',"text-center");           
                        var input11=document.createElement('input'); 
                        input11.setAttribute('type','text'); 
                        input11.setAttribute('name',data[2][i][0]+"Eff11"); 
                        input11.setAttribute('id',data[2][i][0]+"Eff11"); 
                        input11.setAttribute('class','form-control form-control-sm'); 


                        input11.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                        
                        if(data[0][data[2][i][0]]){
                          input11.setAttribute('value',data[0][data[2][i][0]][8]);
                        }
                        td11.appendChild(input11);
                        tr.appendChild(td11) ;
                        
                        
                        td12.setAttribute('scope',"col"); 
                        td12.setAttribute('class',"text-center");           
                        var input12=document.createElement('input'); 
                        input12.setAttribute('type','text'); 
                        input12.setAttribute('name',data[2][i][0]+"Eff12"); 
                        input12.setAttribute('id',data[2][i][0]+"Eff12"); 
                        input12.setAttribute('class','form-control form-control-sm'); 

                        input12.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 


                        if(data[0][data[2][i][0]]){
                          input12.setAttribute('value',data[0][data[2][i][0]][9]);
                        }
                        td12.appendChild(input12);
                        tr.appendChild(td12) ;
                        
                        
                        td13.setAttribute('scope',"col"); 
                        td13.setAttribute('class',"text-center");           
                        var input13=document.createElement('input'); 
                        input13.setAttribute('type','text'); 
                        input13.setAttribute('name',data[2][i][0]+"Eff13"); 
                        input13.setAttribute('id',data[2][i][0]+"Eff13"); 
                        input13.setAttribute('class','form-control form-control-sm'); 

                        input13.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 

                         
                        if(data[0][data[2][i][0]]){
                          input13.setAttribute('value',data[0][data[2][i][0]][10]);
                        }
                        td13.appendChild(input13);
                        tr.appendChild(td13) ;
                        
                        
                        td14.setAttribute('scope',"col"); 
                        td14.setAttribute('class',"text-center");           
                        var input14=document.createElement('input'); 
                        input14.setAttribute('type','text'); 
                        input14.setAttribute('name',data[2][i][0]+"Eff14"); 
                        input14.setAttribute('id',data[2][i][0]+"Eff14");                         
                        input14.setAttribute('class','form-control form-control-sm'); 

                        input14.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                         
                        if(data[0][data[2][i][0]]){
                          input14.setAttribute('value',data[0][data[2][i][0]][11]);
                        }
                        td14.appendChild(input14);
                        tr.appendChild(td14) ;
                        
                        
                        td15.setAttribute('scope',"col"); 
                        td15.setAttribute('class',"text-center");           
                        var input15=document.createElement('input'); 
                        input15.setAttribute('type','text'); 
                        input15.setAttribute('name',data[2][i][0]+"Eff15"); 
                        input15.setAttribute('id',data[2][i][0]+"Eff15"); 
                        input15.setAttribute('class','form-control form-control-sm'); 

                        input15.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 

                         
                        if(data[0][data[2][i][0]]){
                          input15.setAttribute('value',data[0][data[2][i][0]][12]);
                        }
                        td15.appendChild(input15);
                        tr.appendChild(td15) ;
                        
                        
                        td16.setAttribute('scope',"col"); 
                        td16.setAttribute('class',"text-center");           
                        var input16=document.createElement('input'); 
                        input16.setAttribute('type','text'); 
                        input16.setAttribute('name',data[2][i][0]+"TotalEff16"); 
                        input16.setAttribute('id',data[2][i][0]+"TotalEff16"); 
                        input16.setAttribute('class','form-control form-control-sm'); 

                        input16.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                         
                        if(data[0][data[2][i][0]]){
                          input16.setAttribute('value',data[0][data[2][i][0]][13]);
                        }
                        td16.appendChild(input16);
                        tr.appendChild(td16) ;


                        tbody.appendChild(tr);  

                                
                            
                       
                    }



                    var tbody=document.getElementById("tbodyPersonext");

                    tbody.innerHTML="";


                    var dataPassif=tab[1];



                    for (var i = 0; i < dataPassif[1].length; i++) {
                        var tr=document.createElement('tr');
                        if (dataPassif[1][i][4]==true) {
                             tr.setAttribute('class'," opacity-65");
                              tr.setAttribute('style',"background: #82C46C;color:white;border:#ced4da;");

                        }else
                            tr.setAttribute('style',"border:#ced4da;");

                                  

                        var td1=document.createElement('td');
                        var td2=document.createElement('td');
                        var td3=document.createElement('td');
                        var td4=document.createElement('td');

                        var td5=document.createElement('td');
                        var td6=document.createElement('td');

                        var td7=document.createElement('td');
                        var td8=document.createElement('td');

                        var td9=document.createElement('td'); // total effec

                        var td10=document.createElement('td');
                        var td11=document.createElement('td');

                        var td12=document.createElement('td');
                        var td13=document.createElement('td');

                        var td14=document.createElement('td');
                        var td15=document.createElement('td');

                        var td16=document.createElement('td'); // total masse
                      

                        td1.setAttribute('scope',"col"); 
                        td1.setAttribute('class',"text-center form");
                               
                             
                        td1.innerHTML=  dataPassif[1][i][0];
                        //tr.appendChild(td1) ;

                        td2.setAttribute('scope',"col"); 
                        td2.setAttribute('style',"font-size: 9px;"); 
                                   
                        td2.innerHTML=  dataPassif[1][i][1];
                        tr.appendChild(td2) ;

                        td3.setAttribute('scope',"col"); 
                        td3.setAttribute('class',"text-center");
 


                        var input3=document.createElement('input');  
                        input3.setAttribute('class','form-control form-control-sm'); 
                        input3.setAttribute('type','text'); 
                        input3.setAttribute('name',dataPassif[1][i][0]+"person3");
                        input3.setAttribute('id',dataPassif[1][i][0]+"person3");
                        input3.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]*$/g, '');"); 
                        if(dataPassif[0][dataPassif[1][i][0]]){
                          input3.setAttribute('value',dataPassif[0][dataPassif[1][i][0]][0]);
                        }


                        td3.appendChild(input3);
                        tr.appendChild(td3) ;

                      


                        td4.setAttribute('scope',"col"); 
                        td4.setAttribute('class',"text-center");           
                       
                        var input4=document.createElement('input');  
                        input4.setAttribute('class','form-control form-control-sm');
                        input4.setAttribute('style','width: 100%;');
                        input4.setAttribute('type','text'); 
                        input4.setAttribute('name',dataPassif[1][i][0]+"person4");
                        input4.setAttribute('id',dataPassif[1][i][0]+"person4");
                        input4.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                        if(dataPassif[0][dataPassif[1][i][0]]){
                          input4.setAttribute('value',dataPassif[0][dataPassif[1][i][0]][1]);
                        } 
                        td4.appendChild(input4);
                        tr.appendChild(td4) ;

                        
                        td5.setAttribute('scope',"col"); 
                        td5.setAttribute('class',"text-center");
                        var input5=document.createElement('input'); 
                        input5.setAttribute('type','text'); 
                        input5.setAttribute('name',dataPassif[1][i][0]+"person5"); 
                        input5.setAttribute('id',dataPassif[1][i][0]+"person5"); 
                        input5.setAttribute('class','form-control form-control-sm');
                        input5.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                        if(dataPassif[0][dataPassif[1][i][0]]){
                          input5.setAttribute('value',dataPassif[0][dataPassif[1][i][0]][2]);
                        } 
                        td5.appendChild(input5);

                        tr.appendChild(td5) ;
                        
                       


                        td6.setAttribute('scope',"col"); 
                        td6.setAttribute('class',"text-center");           
                        var input6=document.createElement('input'); 
                        input6.setAttribute('type','text'); 
                        input6.setAttribute('name',dataPassif[1][i][0]+"person6"); 
                        input6.setAttribute('id',dataPassif[1][i][0]+"person6"); 
                        input6.setAttribute('class','form-control form-control-sm'); 
                        input6.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                        
                        if(dataPassif[0][dataPassif[1][i][0]]){
                          input6.setAttribute('value',dataPassif[0][dataPassif[1][i][0]][3]);
                        }
                        td6.appendChild(input6);
                        tr.appendChild(td6) ;
                        
                        
                        td7.setAttribute('scope',"col"); 
                        td7.setAttribute('class',"text-center");           
                        var input7=document.createElement('input'); 
                        input7.setAttribute('type','text'); 
                        input7.setAttribute('name',dataPassif[1][i][0]+"person7"); 
                        input7.setAttribute('id',dataPassif[1][i][0]+"person7"); 
                        input7.setAttribute('class','form-control form-control-sm'); 
                        input7.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                        
                        if(dataPassif[0][dataPassif[1][i][0]]){
                          input7.setAttribute('value',dataPassif[0][dataPassif[1][i][0]][4]);
                        }
                        td7.appendChild(input7);
                        tr.appendChild(td7) ;


                        td8.setAttribute('scope',"col"); 
                        td8.setAttribute('class',"text-center");           
                        var input8=document.createElement('input'); 
                        input8.setAttribute('type','text'); 
                        input8.setAttribute('name',dataPassif[1][i][0]+"person8"); 
                        input8.setAttribute('id',dataPassif[1][i][0]+"person8"); 
                        input8.setAttribute('class','form-control form-control-sm'); 

                        input8.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                        
                        if(dataPassif[0][dataPassif[1][i][0]]){
                          input8.setAttribute('value',dataPassif[0][dataPassif[1][i][0]][5]);
                        }
                        td8.appendChild(input8);
                        tr.appendChild(td8) ;


                        td9.setAttribute('scope',"col"); 
                        td9.setAttribute('class',"text-center");           
                        var input9=document.createElement('input'); 
                        input9.setAttribute('type','text'); 
                        input9.setAttribute('name',dataPassif[1][i][0]+"Totalperson9"); 
                        input9.setAttribute('id',dataPassif[1][i][0]+"Totalperson9"); 
                        input9.setAttribute('class','form-control form-control-sm'); 

                        input9.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                        
                        if(dataPassif[0][dataPassif[1][i][0]]){
                          input9.setAttribute('value',dataPassif[0][dataPassif[1][i][0]][6]);
                        }
                        td9.appendChild(input9);
                        tr.appendChild(td9) ;
                        
                        
                        td10.setAttribute('scope',"col"); 
                        td10.setAttribute('class',"text-center");           
                        var input10=document.createElement('input'); 
                        input10.setAttribute('type','text'); 
                        input10.setAttribute('name',dataPassif[1][i][0]+"person10"); 
                        input10.setAttribute('id',dataPassif[1][i][0]+"person10"); 
                        input10.setAttribute('class','form-control form-control-sm'); 

                        input10.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                        
                        if(dataPassif[0][dataPassif[1][i][0]]){
                          input10.setAttribute('value',dataPassif[0][dataPassif[1][i][0]][7]);
                        }
                        td10.appendChild(input10);
                        tr.appendChild(td10) ;
                        
                        
                        td11.setAttribute('scope',"col"); 
                        td11.setAttribute('class',"text-center");           
                        var input11=document.createElement('input'); 
                        input11.setAttribute('type','text'); 
                        input11.setAttribute('name',dataPassif[1][i][0]+"person11"); 
                        input11.setAttribute('id',dataPassif[1][i][0]+"person11"); 
                        input11.setAttribute('class','form-control form-control-sm'); 

                        input11.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                        
                        if(dataPassif[0][dataPassif[1][i][0]]){
                          input11.setAttribute('value',dataPassif[0][dataPassif[1][i][0]][8]);
                        }
                        td11.appendChild(input11);
                        tr.appendChild(td11) ;
                        
                        
                        td12.setAttribute('scope',"col"); 
                        td12.setAttribute('class',"text-center");           
                        var input12=document.createElement('input'); 
                        input12.setAttribute('type','text'); 
                        input12.setAttribute('name',dataPassif[1][i][0]+"person12"); 
                        input12.setAttribute('id',dataPassif[1][i][0]+"person12"); 
                        input12.setAttribute('class','form-control form-control-sm'); 

                        input12.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                        
                        //if(data[0][data[2][i][0]]){
                        //  input6.setAttribute('value',data[0][data[2][i][0]][4]);
                        //}
                        td12.appendChild(input12);
                       // tr.appendChild(td12) ;
                        
                        
                        td13.setAttribute('scope',"col"); 
                        td13.setAttribute('class',"text-center");           
                        var input13=document.createElement('input'); 
                        input13.setAttribute('type','text'); 
                        input13.setAttribute('name',dataPassif[1][i][0]+"person13"); 
                        input13.setAttribute('id',dataPassif[1][i][0]+"person13"); 
                        input13.setAttribute('class','form-control form-control-sm'); 

                        input13.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 


                        //if(data[0][data[2][i][0]]){
                        //  input6.setAttribute('value',data[0][data[2][i][0]][4]);
                        //}
                        td13.appendChild(input13);
                        //tr.appendChild(td13) ;
                        
                        
                        td14.setAttribute('scope',"col"); 
                        td14.setAttribute('class',"text-center");           
                        var input14=document.createElement('input'); 
                        input14.setAttribute('type','text'); 
                        input14.setAttribute('name',dataPassif[1][i][0]+"person14"); 
                        input14.setAttribute('id',dataPassif[1][i][0]+"person14"); 
                        input14.setAttribute('class','form-control form-control-sm');

                        input14.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                         
                        //if(data[0][data[2][i][0]]){
                        //  input6.setAttribute('value',data[0][data[2][i][0]][4]);
                        //}
                        td14.appendChild(input14);
                       // tr.appendChild(td14) ;
                        
                        
                        td15.setAttribute('scope',"col"); 
                        td15.setAttribute('class',"text-center");           
                        var input15=document.createElement('input'); 
                        input15.setAttribute('type','text'); 
                        input15.setAttribute('name',dataPassif[1][i][0]+"person15"); 
                        input15.setAttribute('id',dataPassif[1][i][0]+"person15"); 
                        input15.setAttribute('class','form-control form-control-sm'); 

                        input15.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                        
                        //if(data[0][data[2][i][0]]){
                        //  input6.setAttribute('value',data[0][data[2][i][0]][4]);
                        //}
                        td15.appendChild(input15);
                        //tr.appendChild(td15) ;
                        
                        
                        td16.setAttribute('scope',"col"); 
                        td16.setAttribute('class',"text-center");           
                        var input16=document.createElement('input'); 
                        input16.setAttribute('type','text'); 
                        input16.setAttribute('name',dataPassif[1][i][0]+"Totalperson16"); 
                        input16.setAttribute('id',dataPassif[1][i][0]+"Totalperson16"); 
                        input16.setAttribute('class','form-control form-control-sm'); 

                        input16.setAttribute('oninput',"this.value = this.value.replace(/[^0-9,]/g, '');"); 
                        
                        //if(data[0][data[2][i][0]]){
                        //  input6.setAttribute('value',data[0][data[2][i][0]][4]);
                        //}
                        td16.appendChild(input16);
                        //tr.appendChild(td16) ;



                        tbody.appendChild(tr);  

                                
                            
                       
                    }


                   
                } ,
                error : function(error){
                    console.log(error);
                }
            }) ///////////////////////// fin requete ajax  chargement formulaire effectmsal

        
    });
    ///// end generer formulaire

    ///// traitement control horizontal ////////
      
    function remplacer(vartester){
         
         
        if(vartester === "" ){
            vartester = 0;
            return vartester;

        }
        if(vartester === null){
            vartester = 0;
            return vartester;

        }
        vartester=vartester.replace(".", "");
        vartester=vartester.replace(".", "");
        vartester=vartester.replace(".", "");
        vartester=vartester.replace(".", "");
        vartester=vartester.replace(".", "");
        vartester=vartester.replace(".", "");
        vartester=vartester.replace(",", "");
        vartester=vartester.replace(",", "");
        vartester=vartester.replace(",", "");
        vartester=vartester.replace(",", "");
        vartester=vartester.replace(",", "");
        vartester=vartester.replace(",", "");
        vartester=vartester.replace(",", "");
        
        return vartester;
    }


    function is_int(valeur){
        valeur=valeur.replace(".", "");
        valeur=valeur.replace(",", "");
      if((parseFloat(valeur) == parseInt(valeur)) && !isNaN(valeur)){ 
          
          return true;
      } else {
          
          return false;
      }
    }

    var $validerEffectif = $validerPersonnelext = 1 ; 

    $('#tbody').on('blur change', "#YATotalEff9", function(){
        var $totalEff_Cadre_sup  = 0;

        if(is_int(document.getElementById('YAEff3').value)==true){
            $totalEff_Cadre_sup  = $totalEff_Cadre_sup+parseInt(remplacer(document.getElementById('YAEff3').value));
        }
        if(is_int(document.getElementById('YAEff4').value)==true){
            $totalEff_Cadre_sup  = $totalEff_Cadre_sup+parseInt(remplacer(document.getElementById('YAEff4').value));
        }
        if(is_int(document.getElementById('YAEff5').value)==true){
            $totalEff_Cadre_sup  = $totalEff_Cadre_sup+parseInt(remplacer(document.getElementById('YAEff5').value));
        }
        if(is_int(document.getElementById('YAEff6').value)==true){
            $totalEff_Cadre_sup  = $totalEff_Cadre_sup+parseInt(remplacer(document.getElementById('YAEff6').value));
        }
        if(is_int(document.getElementById('YAEff7').value)==true){
            $totalEff_Cadre_sup  = $totalEff_Cadre_sup+parseInt(remplacer(document.getElementById('YAEff7').value));
        }
        if(is_int(document.getElementById('YAEff8').value)==true){
            $totalEff_Cadre_sup  = $totalEff_Cadre_sup+parseInt(remplacer(document.getElementById('YAEff8').value));
        }

        // recuperer la valeur saisie pour le total
        let $total = remplacer(document.getElementById('YATotalEff9').value);

        if($total != $totalEff_Cadre_sup){
            $validerEffectif = 0;
            Swal.fire('  \nVérifier pour le total effectif Cadre supérieur '); return;
        }else{
            $validerEffectif = 1;
        }

    });

    

    $('#tbody').on('blur change', "#YATotalEff16", function(){
        var $totalMass_Cadre_sup  = 0;

        if(is_int(document.getElementById('YAEff10').value)==true){
            $totalMass_Cadre_sup  = $totalMass_Cadre_sup+parseInt(remplacer(document.getElementById('YAEff10').value));
        }
        if(is_int(document.getElementById('YAEff11').value)==true){
            $totalMass_Cadre_sup  = $totalMass_Cadre_sup+parseInt(remplacer(document.getElementById('YAEff11').value));
        }
        if(is_int(document.getElementById('YAEff12').value)==true){
            $totalMass_Cadre_sup  = $totalMass_Cadre_sup+parseInt(remplacer(document.getElementById('YAEff12').value));
        }
        if(is_int(document.getElementById('YAEff13').value)==true){
            $totalMass_Cadre_sup  = $totalMass_Cadre_sup+parseInt(remplacer(document.getElementById('YAEff13').value));
        }
        if(is_int(document.getElementById('YAEff14').value)==true){
            $totalMass_Cadre_sup  = $totalMass_Cadre_sup+parseInt(remplacer(document.getElementById('YAEff14').value));
        }
        if(is_int(document.getElementById('YAEff15').value)==true){
            $totalMass_Cadre_sup  = $totalMass_Cadre_sup+parseInt(remplacer(document.getElementById('YAEff15').value));
        }

        // recuperer la valeur saisie pour le total
        let $total = remplacer(document.getElementById('YATotalEff16').value);

        if($total != $totalMass_Cadre_sup){
            $validerEffectif = 0;
            Swal.fire('  \nVérifier pour le total masse salariale Cadre supérieur '); return;
        }else{
            $validerEffectif = 1;
        }

    });

    /////////////////// total horizontal effectif technicien sup /////////////////////////:

    

    $('#tbody').on('blur change', "#YBTotalEff9", function(){
        var $totalEff_tech_sup  = 0;

        if(is_int(document.getElementById('YBEff3').value)==true){
            $totalEff_tech_sup  = $totalEff_tech_sup+parseInt(remplacer(document.getElementById('YBEff3').value));
        }
        if(is_int(document.getElementById('YBEff4').value)==true){
            $totalEff_tech_sup  = $totalEff_tech_sup+parseInt(remplacer(document.getElementById('YBEff4').value));
        }
        if(is_int(document.getElementById('YBEff5').value)==true){
            $totalEff_tech_sup  = $totalEff_tech_sup+parseInt(remplacer(document.getElementById('YBEff5').value));
        }
        if(is_int(document.getElementById('YBEff6').value)==true){
            $totalEff_tech_sup  = $totalEff_tech_sup+parseInt(remplacer(document.getElementById('YBEff6').value));
        }
        if(is_int(document.getElementById('YBEff7').value)==true){
            $totalEff_tech_sup  = $totalEff_tech_sup+parseInt(remplacer(document.getElementById('YBEff7').value));
        }
        if(is_int(document.getElementById('YBEff8').value)==true){
            $totalEff_tech_sup  = $totalEff_tech_sup+parseInt(remplacer(document.getElementById('YBEff8').value));
        }

        // recuperer la valeur saisie pour le total
        let $total = remplacer(document.getElementById('YBTotalEff9').value);

        if($total != $totalEff_tech_sup){
            $validerEffectif = 0;
            Swal.fire('  \nVérifier pour le total effectif Technicien supérieur '); return;
        }else{
            $validerEffectif = 1;
        }

    });

    $('#tbody').on('blur change', "#YBTotalEff16", function(){
        var $totalMass_tech_sup  = 0;

        if(is_int(document.getElementById('YBEff10').value)==true){
            $totalMass_tech_sup  = $totalMass_tech_sup+parseInt(remplacer(document.getElementById('YBEff10').value));
        }
        if(is_int(document.getElementById('YBEff11').value)==true){
            $totalMass_tech_sup  = $totalMass_tech_sup+parseInt(remplacer(document.getElementById('YBEff11').value));
        }
        if(is_int(document.getElementById('YBEff12').value)==true){
            $totalMass_tech_sup  = $totalMass_tech_sup+parseInt(remplacer(document.getElementById('YBEff12').value));
        }
        if(is_int(document.getElementById('YBEff13').value)==true){
            $totalMass_tech_sup  = $totalMass_tech_sup+parseInt(remplacer(document.getElementById('YBEff13').value));
        }
        if(is_int(document.getElementById('YBEff14').value)==true){
            $totalMass_tech_sup  = $totalMass_tech_sup+parseInt(remplacer(document.getElementById('YBEff14').value));
        }
        if(is_int(document.getElementById('YBEff15').value)==true){
            $totalMass_tech_sup  = $totalMass_tech_sup+parseInt(remplacer(document.getElementById('YBEff15').value));
        }

        // recuperer la valeur saisie pour le total
        let $total = remplacer(document.getElementById('YBTotalEff16').value);

        if($total != $totalMass_tech_sup){
            $validerEffectif = 0;
            Swal.fire('  \nVérifier pour le total masse salariale Technicien supérieur '); return;
        }else{
            $validerEffectif = 1;
        }

    });
    

    ///////////////////////////////////////////    ///////////////////////////
    $('#tbody').on('blur change', "#YCTotalEff9", function(){
        var $totalEff_tech_sup  = 0;

        if(is_int(document.getElementById('YCEff3').value)==true){
            $totalEff_tech_sup  = $totalEff_tech_sup+parseInt(remplacer(document.getElementById('YCEff3').value));
        }
        if(is_int(document.getElementById('YCEff4').value)==true){
            $totalEff_tech_sup  = $totalEff_tech_sup+parseInt(remplacer(document.getElementById('YCEff4').value));
        }
        if(is_int(document.getElementById('YCEff5').value)==true){
            $totalEff_tech_sup  = $totalEff_tech_sup+parseInt(remplacer(document.getElementById('YCEff5').value));
        }
        if(is_int(document.getElementById('YCEff6').value)==true){
            $totalEff_tech_sup  = $totalEff_tech_sup+parseInt(remplacer(document.getElementById('YCEff6').value));
        }
        if(is_int(document.getElementById('YCEff7').value)==true){
            $totalEff_tech_sup  = $totalEff_tech_sup+parseInt(remplacer(document.getElementById('YCEff7').value));
        }
        if(is_int(document.getElementById('YCEff8').value)==true){
            $totalEff_tech_sup  = $totalEff_tech_sup+parseInt(remplacer(document.getElementById('YCEff8').value));
        }

        // recuperer la valeur saisie pour le total
        let $total = remplacer(document.getElementById('YCTotalEff9').value);

        if($total != $totalEff_tech_sup){
            $validerEffectif = 0;
            Swal.fire('  \nVérifier pour le total effectif Ouvriers qualifiés '); return;
        }else{
            $validerEffectif = 1;
        }

    });

    $('#tbody').on('blur change', "#YCTotalEff16", function(){
        var $totalMass_tech_sup  = 0;

        if(is_int(document.getElementById('YCEff10').value)==true){
            $totalMass_tech_sup  = $totalMass_tech_sup+parseInt(remplacer(document.getElementById('YCEff10').value));
        }
        if(is_int(document.getElementById('YCEff11').value)==true){
            $totalMass_tech_sup  = $totalMass_tech_sup+parseInt(remplacer(document.getElementById('YCEff11').value));
        }
        if(is_int(document.getElementById('YCEff12').value)==true){
            $totalMass_tech_sup  = $totalMass_tech_sup+parseInt(remplacer(document.getElementById('YCEff12').value));
        }
        if(is_int(document.getElementById('YCEff13').value)==true){
            $totalMass_tech_sup  = $totalMass_tech_sup+parseInt(remplacer(document.getElementById('YCEff13').value));
        }
        if(is_int(document.getElementById('YCEff14').value)==true){
            $totalMass_tech_sup  = $totalMass_tech_sup+parseInt(remplacer(document.getElementById('YCEff14').value));
        }
        if(is_int(document.getElementById('YCEff15').value)==true){
            $totalMass_tech_sup  = $totalMass_tech_sup+parseInt(remplacer(document.getElementById('YCEff15').value));
        }

        // recuperer la valeur saisie pour le total
        let $total = remplacer(document.getElementById('YCTotalEff16').value);

        if($total != $totalMass_tech_sup){
            $validerEffectif = 0;
            Swal.fire(' \nVérifier pour le total masse salariale Ouvrier qualifies '); return;
        }else{
            $validerEffectif = 1;
        }

    });

    ///////////////////////////    //////////////////////////////////////////

    $('#tbody').on('blur change', "#YDTotalEff9", function(){
        var $totalEff_tech_sup  = 0;

        if(is_int(document.getElementById('YDEff3').value)==true){
            $totalEff_tech_sup  = $totalEff_tech_sup+parseInt(remplacer(document.getElementById('YDEff3').value));
        }
        if(is_int(document.getElementById('YDEff4').value)==true){
            $totalEff_tech_sup  = $totalEff_tech_sup+parseInt(remplacer(document.getElementById('YDEff4').value));
        }
        if(is_int(document.getElementById('YDEff5').value)==true){
            $totalEff_tech_sup  = $totalEff_tech_sup+parseInt(remplacer(document.getElementById('YDEff5').value));
        }
        if(is_int(document.getElementById('YDEff6').value)==true){
            $totalEff_tech_sup  = $totalEff_tech_sup+parseInt(remplacer(document.getElementById('YDEff6').value));
        }
        if(is_int(document.getElementById('YDEff7').value)==true){
            $totalEff_tech_sup  = $totalEff_tech_sup+parseInt(remplacer(document.getElementById('YDEff7').value));
        }
        if(is_int(document.getElementById('YDEff8').value)==true){
            $totalEff_tech_sup  = $totalEff_tech_sup+parseInt(remplacer(document.getElementById('YDEff8').value));
        }

        // recuperer la valeur saisie pour le total
        let $total = remplacer(document.getElementById('YDTotalEff9').value);

        if($total != $totalEff_tech_sup){
            $validerEffectif = 0;
            Swal.fire(' \nVérifier pour le total effectif apprentis '); return;
        }else{
            $validerEffectif = 1;
        }

    });

    $('#tbody').on('blur change', "#YDTotalEff16", function(){
        var $totalMass_tech_sup  = 0;

        if(is_int(document.getElementById('YDEff10').value)==true){
            $totalMass_tech_sup  = $totalMass_tech_sup+parseInt(remplacer(document.getElementById('YDEff10').value));
        }
        if(is_int(document.getElementById('YDEff11').value)==true){
            $totalMass_tech_sup  = $totalMass_tech_sup+parseInt(remplacer(document.getElementById('YDEff11').value));
        }
        if(is_int(document.getElementById('YDEff12').value)==true){
            $totalMass_tech_sup  = $totalMass_tech_sup+parseInt(remplacer(document.getElementById('YDEff12').value));
        }
        if(is_int(document.getElementById('YDEff13').value)==true){
            $totalMass_tech_sup  = $totalMass_tech_sup+parseInt(remplacer(document.getElementById('YDEff13').value));
        }
        if(is_int(document.getElementById('YDEff14').value)==true){
            $totalMass_tech_sup  = $totalMass_tech_sup+parseInt(remplacer(document.getElementById('YDEff14').value));
        }
        if(is_int(document.getElementById('YDEff15').value)==true){
            $totalMass_tech_sup  = $totalMass_tech_sup+parseInt(remplacer(document.getElementById('YDEff15').value));
        }

        // recuperer la valeur saisie pour le total
        let $total = remplacer(document.getElementById('YDTotalEff16').value);

        if($total != $totalMass_tech_sup){
            $validerEffectif = 0;
            Swal.fire(' \nVérifier pour le total masse salariale apprentis ' ); return;
        }else{
            $validerEffectif = 1;
        }

    });

    
    ///////////////////////////    //////////////////////////////////////////

    $('#tbody').on('blur change', "#YFTotalEff9", function(){
        var $totalEff_tech_sup  = 0;

        if(is_int(document.getElementById('YFEff3').value)==true){
            $totalEff_tech_sup  = $totalEff_tech_sup+parseInt(remplacer(document.getElementById('YFEff3').value));
        }
        if(is_int(document.getElementById('YFEff4').value)==true){
            $totalEff_tech_sup  = $totalEff_tech_sup+parseInt(remplacer(document.getElementById('YFEff4').value));
        }
        if(is_int(document.getElementById('YFEff5').value)==true){
            $totalEff_tech_sup  = $totalEff_tech_sup+parseInt(remplacer(document.getElementById('YFEff5').value));
        }
        if(is_int(document.getElementById('YFEff6').value)==true){
            $totalEff_tech_sup  = $totalEff_tech_sup+parseInt(remplacer(document.getElementById('YFEff6').value));
        }
        if(is_int(document.getElementById('YFEff7').value)==true){
            $totalEff_tech_sup  = $totalEff_tech_sup+parseInt(remplacer(document.getElementById('YFEff7').value));
        }
        if(is_int(document.getElementById('YFEff8').value)==true){
            $totalEff_tech_sup  = $totalEff_tech_sup+parseInt(remplacer(document.getElementById('YFEff8').value));
        }

        // recuperer la valeur saisie pour le total
        let $total = remplacer(document.getElementById('YFTotalEff9').value);

        if($total != $totalEff_tech_sup){
            $validerEffectif = 0;
            Swal.fire('\nVérifier pour le total effectif Permanants ' ); return;
        }else{
            $validerEffectif = 1;
        }

    });

    $('#tbody').on('blur change', "#YFTotalEff16", function(){
        var $totalMass_tech_sup  = 0;

        if(is_int(document.getElementById('YFEff10').value)==true){
            $totalMass_tech_sup  = $totalMass_tech_sup+parseInt(remplacer(document.getElementById('YFEff10').value));
        }
        if(is_int(document.getElementById('YFEff11').value)==true){
            $totalMass_tech_sup  = $totalMass_tech_sup+parseInt(remplacer(document.getElementById('YFEff11').value));
        }
        if(is_int(document.getElementById('YFEff12').value)==true){
            $totalMass_tech_sup  = $totalMass_tech_sup+parseInt(remplacer(document.getElementById('YFEff12').value));
        }
        if(is_int(document.getElementById('YFEff13').value)==true){
            $totalMass_tech_sup  = $totalMass_tech_sup+parseInt(remplacer(document.getElementById('YFEff13').value));
        }
        if(is_int(document.getElementById('YFEff14').value)==true){
            $totalMass_tech_sup  = $totalMass_tech_sup+parseInt(remplacer(document.getElementById('YFEff14').value));
        }
        if(is_int(document.getElementById('YFEff15').value)==true){
            $totalMass_tech_sup  = $totalMass_tech_sup+parseInt(remplacer(document.getElementById('YFEff15').value));
        }

        // recuperer la valeur saisie pour le total
        let $total = remplacer(document.getElementById('YFTotalEff16').value);

        if($total != $totalMass_tech_sup){
            $validerEffectif = 0;
            Swal.fire('\nVérifier pour le total masse salariale Permanants' ); return;
        }else{
            $validerEffectif = 1;
        }

    });

    ///////////////////////////    //////////////////////////////////////////

    $('#tbody').on('blur change', "#YGTotalEff9", function(){
        var $totalEff_tech_sup  = 0;

        if(is_int(document.getElementById('YGEff3').value)==true){
            $totalEff_tech_sup  = $totalEff_tech_sup+parseInt(remplacer(document.getElementById('YGEff3').value));
        }
        if(is_int(document.getElementById('YGEff4').value)==true){
            $totalEff_tech_sup  = $totalEff_tech_sup+parseInt(remplacer(document.getElementById('YGEff4').value));
        }
        if(is_int(document.getElementById('YGEff5').value)==true){
            $totalEff_tech_sup  = $totalEff_tech_sup+parseInt(remplacer(document.getElementById('YGEff5').value));
        }
        if(is_int(document.getElementById('YGEff6').value)==true){
            $totalEff_tech_sup  = $totalEff_tech_sup+parseInt(remplacer(document.getElementById('YGEff6').value));
        }
        if(is_int(document.getElementById('YGEff7').value)==true){
            $totalEff_tech_sup  = $totalEff_tech_sup+parseInt(remplacer(document.getElementById('YGEff7').value));
        }
        if(is_int(document.getElementById('YGEff8').value)==true){
            $totalEff_tech_sup  = $totalEff_tech_sup+parseInt(remplacer(document.getElementById('YGEff8').value));
        }

        // recuperer la valeur saisie pour le total
        let $total = remplacer(document.getElementById('YGTotalEff9').value);

        if($total != $totalEff_tech_sup){
            $validerEffectif = 0;
            Swal.fire(' \nVérifier pour le total effectif Saisonniers'); return;
        }else{
            $validerEffectif = 1;
        }

    });

    $('#tbody').on('blur change', "#YGTotalEff16", function(){
        var $totalMass_tech_sup  = 0;

        if(is_int(document.getElementById('YGEff10').value)==true){
            $totalMass_tech_sup  = $totalMass_tech_sup+parseInt(remplacer(document.getElementById('YGEff10').value));
        }
        if(is_int(document.getElementById('YGEff11').value)==true){
            $totalMass_tech_sup  = $totalMass_tech_sup+parseInt(remplacer(document.getElementById('YGEff11').value));
        }
        if(is_int(document.getElementById('YGEff12').value)==true){
            $totalMass_tech_sup  = $totalMass_tech_sup+parseInt(remplacer(document.getElementById('YGEff12').value));
        }
        if(is_int(document.getElementById('YGEff13').value)==true){
            $totalMass_tech_sup  = $totalMass_tech_sup+parseInt(remplacer(document.getElementById('YGEff13').value));
        }
        if(is_int(document.getElementById('YGEff14').value)==true){
            $totalMass_tech_sup  = $totalMass_tech_sup+parseInt(remplacer(document.getElementById('YGEff14').value));
        }
        if(is_int(document.getElementById('YGEff15').value)==true){
            $totalMass_tech_sup  = $totalMass_tech_sup+parseInt(remplacer(document.getElementById('YGEff15').value));
        }

        // recuperer la valeur saisie pour le total
        let $total = remplacer(document.getElementById('YGTotalEff16').value);

        if($total != $totalMass_tech_sup){
            $validerEffectif = 0;
            Swal.fire('\nVérifier pour le total masse salariale Saisonniers' ); return;
        }else{
            $validerEffectif = 1;
        }

    });


    /////////////////// TRAITEMENT TOTAUX VERTICAL  pour les effectifs/////////////////////////:
    

    $('#tbody').on('blur change', "#YETotalEff9", function(){
        var $total1_index9  = 0;

        if(is_int(document.getElementById('YATotalEff9').value)==true){
            $total1_index9  = $total1_index9+parseInt(remplacer(document.getElementById('YATotalEff9').value));
        }
        if(is_int(document.getElementById('YBTotalEff9').value)==true){
            $total1_index9  = $total1_index9+parseInt(remplacer(document.getElementById('YBTotalEff9').value));
        }
        if(is_int(document.getElementById('YCTotalEff9').value)==true){
            $total1_index9+= parseInt(remplacer(document.getElementById('YCTotalEff9').value));
        }
        if(is_int(document.getElementById('YDTotalEff9').value)==true){
            $total1_index9+= parseInt(remplacer(document.getElementById('YDTotalEff9').value));
        }
        // if(is_int(document.getElementById('YFTotalEff9').value)==true){
        //     $total1_index9+= parseInt(remplacer(document.getElementById('YFTotalEff9').value));
        // }
        //if(is_int(document.getElementById('YGTotalEff9').value)==true){
        //    $total1_index9+= parseInt(remplacer(document.getElementById('YGTotalEff9').value));
        //}

        // recuperer la valeur saisie pour le total
        let $total = remplacer(document.getElementById('YETotalEff9').value);

        if($total != $total1_index9){
            $validerEffectif = 0;
            Swal.fire(' \nVérifier le total verticale effectif masculin et féminin '); return;
        }else{
            $validerEffectif = 1;
        }

    });


    $('#tbody').on('blur change', "#YEEff3", function(){
        var $total1_index9  = 0;

        if(is_int(document.getElementById('YAEff3').value)==true){
            $total1_index9  = $total1_index9+parseInt(remplacer(document.getElementById('YAEff3').value));
        }
        if(is_int(document.getElementById('YBEff3').value)==true){
            $total1_index9  = $total1_index9+parseInt(remplacer(document.getElementById('YBEff3').value));
        }
        if(is_int(document.getElementById('YCEff3').value)==true){
            $total1_index9+= parseInt(remplacer(document.getElementById('YCEff3').value));
        }
        if(is_int(document.getElementById('YDEff3').value)==true){
            $total1_index9+= parseInt(remplacer(document.getElementById('YDEff3').value));
        }
        //if(is_int(document.getElementById('YFEff3').value)==true){
        //    $total1_index9+= parseInt(remplacer(document.getElementById('YFEff3').value));
        //}
        //if(is_int(document.getElementById('YGEff3').value)==true){
        //    $total1_index9+= parseInt(remplacer(document.getElementById('YGEff3').value));
        //}

        // recuperer la valeur saisie pour le total
        let $total = remplacer(document.getElementById('YEEff3').value);

        if($total != $total1_index9){
            $validerEffectif = 0;
            Swal.fire(' \nVérifier le total effectif national masculin ' ); return;
        }else{
            $validerEffectif = 1;
        }

    });
    
    
    $('#tbody').on('blur change', "#YEEff4", function(){
        var $total1_index9  = 0;

        if(is_int(document.getElementById('YAEff4').value)==true){
            $total1_index9  = $total1_index9+parseInt(remplacer(document.getElementById('YAEff4').value));
        }
        if(is_int(document.getElementById('YBEff4').value)==true){
            $total1_index9  = $total1_index9+parseInt(remplacer(document.getElementById('YBEff4').value));
        }
        if(is_int(document.getElementById('YCEff4').value)==true){
            $total1_index9+= parseInt(remplacer(document.getElementById('YCEff4').value));
        }
        if(is_int(document.getElementById('YDEff4').value)==true){
            $total1_index9+= parseInt(remplacer(document.getElementById('YDEff4').value));
        }
        //if(is_int(document.getElementById('YFEff4').value)==true){
        //    $total1_index9+= parseInt(remplacer(document.getElementById('YFEff4').value));
        //}
        //if(is_int(document.getElementById('YGEff4').value)==true){
        //    $total1_index9+= parseInt(remplacer(document.getElementById('YGEff4').value));
        //}

        // recuperer la valeur saisie pour le total
        let $total = remplacer(document.getElementById('YEEff4').value);

        if($total != $total1_index9){
            $validerEffectif = 0;
            Swal.fire(' \nVérifier pour le total effectif national féminin ' ); return;
        }else{
            $validerEffectif = 1;
        }

    });
    


    $('#tbody').on('blur change', "#YEEff5", function(){
        var $total1_index9  = 0;

        if(is_int(document.getElementById('YAEff5').value)==true){
            $total1_index9  = $total1_index9+parseInt(remplacer(document.getElementById('YAEff5').value));
        }
        if(is_int(document.getElementById('YBEff5').value)==true){
            $total1_index9  = $total1_index9+parseInt(remplacer(document.getElementById('YBEff5').value));
        }
        if(is_int(document.getElementById('YCEff5').value)==true){
            $total1_index9+= parseInt(remplacer(document.getElementById('YCEff5').value));
        }
        if(is_int(document.getElementById('YDEff5').value)==true){
            $total1_index9+= parseInt(remplacer(document.getElementById('YDEff5').value));
        }
        // if(is_int(document.getElementById('YFEff5').value)==true){
        //     $total1_index9+= parseInt(remplacer(document.getElementById('YFEff5').value));
        // }
        //if(is_int(document.getElementById('YGEff5').value)==true){
        //    $total1_index9+= parseInt(remplacer(document.getElementById('YGEff5').value));
        //}

        // recuperer la valeur saisie pour le total
        let $total = remplacer(document.getElementById('YEEff5').value);

        if($total != $total1_index9){
            $validerEffectif = 0;
            Swal.fire(' \nVérifier le total effectif uemoa masculin'); return;
        }else{
            $validerEffectif = 1;
        }

    });

    $('#tbody').on('blur change', "#YEEff6", function(){
        var $total1_index9  = 0;

        if(is_int(document.getElementById('YAEff6').value)==true){
            $total1_index9  = $total1_index9+parseInt(remplacer(document.getElementById('YAEff6').value));
        }
        if(is_int(document.getElementById('YBEff6').value)==true){
            $total1_index9  = $total1_index9+parseInt(remplacer(document.getElementById('YBEff6').value));
        }
        if(is_int(document.getElementById('YCEff6').value)==true){
            $total1_index9+= parseInt(remplacer(document.getElementById('YCEff6').value));
        }
        if(is_int(document.getElementById('YDEff6').value)==true){
            $total1_index9+= parseInt(remplacer(document.getElementById('YDEff6').value));
        }
        // if(is_int(document.getElementById('YFEff6').value)==true){
        //     $total1_index9+= parseInt(remplacer(document.getElementById('YFEff6').value));
        // }
        //if(is_int(document.getElementById('YGEff6').value)==true){
        //    $total1_index9+= parseInt(remplacer(document.getElementById('YGEff6').value));
        //}

        // recuperer la valeur saisie pour le total
        let $total = remplacer(document.getElementById('YEEff6').value);

        if($total != $total1_index9){
            $validerEffectif = 0;
            Swal.fire(' \nVérifier le total effectif uemoa féminin '); return;
        }else{
            $validerEffectif = 1;
        }

    });

    $('#tbody').on('blur change', "#YEEff7", function(){
        var $total1_index9  = 0;

        if(is_int(document.getElementById('YAEff7').value)==true){
            $total1_index9  = $total1_index9+parseInt(remplacer(document.getElementById('YAEff7').value));
        }
        if(is_int(document.getElementById('YBEff7').value)==true){
            $total1_index9  = $total1_index9+parseInt(remplacer(document.getElementById('YBEff7').value));
        }
        if(is_int(document.getElementById('YCEff7').value)==true){
            $total1_index9+= parseInt(remplacer(document.getElementById('YCEff7').value));
        }
        if(is_int(document.getElementById('YDEff7').value)==true){
            $total1_index9+= parseInt(remplacer(document.getElementById('YDEff7').value));
        }
        // if(is_int(document.getElementById('YFEff7').value)==true){
        //     $total1_index9+= parseInt(remplacer(document.getElementById('YFEff7').value));
        // }
        //if(is_int(document.getElementById('YGEff7').value)==true){
        //    $total1_index9+= parseInt(remplacer(document.getElementById('YGEff7').value));
        //}

        // recuperer la valeur saisie pour le total
        let $total = remplacer(document.getElementById('YEEff7').value);

        if($total != $total1_index9){
            $validerEffectif = 0;
            Swal.fire(' \nVérifier le total effectif hors uemoa masculin'); return;
        }else{
            $validerEffectif = 1;
        }

    });

    $('#tbody').on('blur change', "#YEEff8", function(){
        var $total1_index9  = 0;

        if(is_int(document.getElementById('YAEff8').value)==true){
            $total1_index9  = $total1_index9+parseInt(remplacer(document.getElementById('YAEff8').value));
        }
        if(is_int(document.getElementById('YBEff8').value)==true){
            $total1_index9  = $total1_index9+parseInt(remplacer(document.getElementById('YBEff8').value));
        }
        if(is_int(document.getElementById('YCEff8').value)==true){
            $total1_index9+= parseInt(remplacer(document.getElementById('YCEff8').value));
        }
        if(is_int(document.getElementById('YDEff8').value)==true){
            $total1_index9+= parseInt(remplacer(document.getElementById('YDEff8').value));
        }
        // if(is_int(document.getElementById('YFEff8').value)==true){
        //     $total1_index9+= parseInt(remplacer(document.getElementById('YFEff8').value));
        // }
        //if(is_int(document.getElementById('YGEff8').value)==true){
        //    $total1_index9+= parseInt(remplacer(document.getElementById('YGEff8').value));
        //}

        // recuperer la valeur saisie pour le total
        let $total = remplacer(document.getElementById('YEEff8').value);

        if($total != $total1_index9){
            $validerEffectif = 0;
            Swal.fire(' \nVérifier le total  effectif hors uemoa féminin ' ); return;
        }else{
            $validerEffectif = 1;
        }

    });

    $('#tbody').on('blur change', "#YEEff10", function(){
        var $total1_index9  = 0;

        if(is_int(document.getElementById('YAEff10').value)==true){
            $total1_index9  = $total1_index9+parseInt(remplacer(document.getElementById('YAEff10').value));
        }
        if(is_int(document.getElementById('YBEff10').value)==true){
            $total1_index9  = $total1_index9+parseInt(remplacer(document.getElementById('YBEff10').value));
        }
        if(is_int(document.getElementById('YCEff10').value)==true){
            $total1_index9+= parseInt(remplacer(document.getElementById('YCEff10').value));
        }
        if(is_int(document.getElementById('YDEff10').value)==true){
            $total1_index9+= parseInt(remplacer(document.getElementById('YDEff10').value));
        }
        // if(is_int(document.getElementById('YFEff10').value)==true){
        //     $total1_index9+= parseInt(remplacer(document.getElementById('YFEff10').value));
        // }
        //if(is_int(document.getElementById('YGEff10').value)==true){
        //    $total1_index9+= parseInt(remplacer(document.getElementById('YGEff10').value));
        //}

        // recuperer la valeur saisie pour le total
        let $total = remplacer(document.getElementById('YEEff10').value);

        if($total != $total1_index9){
            $validerEffectif = 0;
            Swal.fire(' \nVérifier pour le total masse salaire nationale masculin ' ); return;
        }else{
            $validerEffectif = 1;
        }

    });

    $('#tbody').on('blur change', "#YEEff11", function(){
        var $total1_index9  = 0;

        if(is_int(document.getElementById('YAEff11').value)==true){
            $total1_index9  = $total1_index9+parseInt(remplacer(document.getElementById('YAEff11').value));
        }
        if(is_int(document.getElementById('YBEff11').value)==true){
            $total1_index9  = $total1_index9+parseInt(remplacer(document.getElementById('YBEff11').value));
        }
        if(is_int(document.getElementById('YCEff11').value)==true){
            $total1_index9+= parseInt(remplacer(document.getElementById('YCEff11').value));
        }
        if(is_int(document.getElementById('YDEff11').value)==true){
            $total1_index9+= parseInt(remplacer(document.getElementById('YDEff11').value));
        }
        // if(is_int(document.getElementById('YFEff11').value)==true){
        //     $total1_index9+= parseInt(remplacer(document.getElementById('YFEff11').value));
        // }
        //if(is_int(document.getElementById('YGEff11').value)==true){
        //    $total1_index9+= parseInt(remplacer(document.getElementById('YGEff11').value));
        //}

        // recuperer la valeur saisie pour le total
        let $total = remplacer(document.getElementById('YEEff11').value);

        if($total != $total1_index9){
            $validerEffectif = 0;
            Swal.fire(' \nVérifier le total masse salaire nationale féminin ' ); return;
        }else{
            $validerEffectif = 1;
        }

    });

    $('#tbody').on('blur change', "#YEEff12", function(){
        var $total1_index9  = 0;

        if(is_int(document.getElementById('YAEff12').value)==true){
            $total1_index9  = $total1_index9+parseInt(remplacer(document.getElementById('YAEff12').value));
        }
        if(is_int(document.getElementById('YBEff12').value)==true){
            $total1_index9  = $total1_index9+parseInt(remplacer(document.getElementById('YBEff12').value));
        }
        if(is_int(document.getElementById('YCEff12').value)==true){
            $total1_index9+= parseInt(remplacer(document.getElementById('YCEff12').value));
        }
        if(is_int(document.getElementById('YDEff12').value)==true){
            $total1_index9+= parseInt(remplacer(document.getElementById('YDEff12').value));
        }
        // if(is_int(document.getElementById('YFEff12').value)==true){
        //     $total1_index9+= parseInt(remplacer(document.getElementById('YFEff12').value));
        // }
        //if(is_int(document.getElementById('YGEff12').value)==true){
        //    $total1_index9+= parseInt(remplacer(document.getElementById('YGEff12').value));
        //}

        // recuperer la valeur saisie pour le total
        let $total = remplacer(document.getElementById('YEEff12').value);

        if($total != $total1_index9){
            $validerEffectif = 0;
            Swal.fire(' \nVérifier le total masse salaire uemoa masculin ' ); return;
        }else{
            $validerEffectif = 1;
        }

    });

    $('#tbody').on('blur change', "#YEEff13", function(){
        var $total1_index9  = 0;

        if(is_int(document.getElementById('YAEff13').value)==true){
            $total1_index9  = $total1_index9+parseInt(remplacer(document.getElementById('YAEff13').value));
        }
        if(is_int(document.getElementById('YBEff13').value)==true){
            $total1_index9  = $total1_index9+parseInt(remplacer(document.getElementById('YBEff13').value));
        }
        if(is_int(document.getElementById('YCEff13').value)==true){
            $total1_index9+= parseInt(remplacer(document.getElementById('YCEff13').value));
        }
        if(is_int(document.getElementById('YDEff13').value)==true){
            $total1_index9+= parseInt(remplacer(document.getElementById('YDEff13').value));
        }
        // if(is_int(document.getElementById('YFEff13').value)==true){
        //     $total1_index9+= parseInt(remplacer(document.getElementById('YFEff13').value));
        // }
        //if(is_int(document.getElementById('YGEff13').value)==true){
        //    $total1_index9+= parseInt(remplacer(document.getElementById('YGEff13').value));
        //}

        // recuperer la valeur saisie pour le total
        let $total = remplacer(document.getElementById('YEEff13').value);

        if($total != $total1_index9){
            $validerEffectif = 0;
            Swal.fire(' \nVérifier le total masse salaire uemoa féminin ' ); return;
        }else{
            $validerEffectif = 1;
        }

    });

    $('#tbody').on('blur change', "#YEEff14", function(){
        var $total1_index9  = 0;

        if(is_int(document.getElementById('YAEff14').value)==true){
            $total1_index9  = $total1_index9+parseInt(remplacer(document.getElementById('YAEff14').value));
        }
        if(is_int(document.getElementById('YBEff14').value)==true){
            $total1_index9  = $total1_index9+parseInt(remplacer(document.getElementById('YBEff14').value));
        }
        if(is_int(document.getElementById('YCEff14').value)==true){
            $total1_index9+= parseInt(remplacer(document.getElementById('YCEff14').value));
        }
        if(is_int(document.getElementById('YDEff14').value)==true){
            $total1_index9+= parseInt(remplacer(document.getElementById('YDEff14').value));
        }
        // if(is_int(document.getElementById('YFEff14').value)==true){
        //     $total1_index9+= parseInt(remplacer(document.getElementById('YFEff14').value));
        // }
        //if(is_int(document.getElementById('YGEff14').value)==true){
        //    $total1_index9+= parseInt(remplacer(document.getElementById('YGEff14').value));
        //}

        // recuperer la valeur saisie pour le total
        let $total = remplacer(document.getElementById('YEEff14').value);

        if($total != $total1_index9){
            $validerEffectif = 0;
            Swal.fire(' \nVérifier le total masse salaire hors uemoa masculin ' ); return;
        }else{
            $validerEffectif = 1;
        }

    });

    $('#tbody').on('blur change', "#YEEff15", function(){
        var $total1_index9  = 0;

        if(is_int(document.getElementById('YAEff15').value)==true){
            $total1_index9  = $total1_index9+parseInt(remplacer(document.getElementById('YAEff15').value));
        }
        if(is_int(document.getElementById('YBEff15').value)==true){
            $total1_index9  = $total1_index9+parseInt(remplacer(document.getElementById('YBEff15').value));
        }
        if(is_int(document.getElementById('YCEff15').value)==true){
            $total1_index9+= parseInt(remplacer(document.getElementById('YCEff15').value));
        }
        if(is_int(document.getElementById('YDEff15').value)==true){
            $total1_index9+= parseInt(remplacer(document.getElementById('YDEff15').value));
        }
        // if(is_int(document.getElementById('YFEff15').value)==true){
        //     $total1_index9+= parseInt(remplacer(document.getElementById('YFEff15').value));
        // }
        //if(is_int(document.getElementById('YGEff15').value)==true){
        //    $total1_index9+= parseInt(remplacer(document.getElementById('YGEff15').value));
        //}

        // recuperer la valeur saisie pour le total
        let $total = remplacer(document.getElementById('YEEff15').value);

        if($total != $total1_index9){
            $validerEffectif = 0;
            Swal.fire(' \nVérifier le total masse salaire hors uemoa féminin ' ); return;
        }else{
            $validerEffectif = 1;
        }

    });

    $('#tbody').on('blur change', "#YETotalEff16", function(){
        var $total1_index9  = 0;

        if(is_int(document.getElementById('YATotalEff16').value)==true){
            $total1_index9  = $total1_index9+parseInt(remplacer(document.getElementById('YATotalEff16').value));
        }
        if(is_int(document.getElementById('YBTotalEff16').value)==true){
            $total1_index9  = $total1_index9+parseInt(remplacer(document.getElementById('YBTotalEff16').value));
        }
        if(is_int(document.getElementById('YCTotalEff16').value)==true){
            $total1_index9+= parseInt(remplacer(document.getElementById('YCTotalEff16').value));
        }
        if(is_int(document.getElementById('YDTotalEff16').value)==true){
            $total1_index9+= parseInt(remplacer(document.getElementById('YDTotalEff16').value));
        }
        // if(is_int(document.getElementById('YFTotalEff16').value)==true){
        //     $total1_index9+= parseInt(remplacer(document.getElementById('YFTotalEff16').value));
        // }
        //if(is_int(document.getElementById('YGTotalEff16').value)==true){
        //    $total1_index9+= parseInt(remplacer(document.getElementById('YGTotalEff16').value));
        //}

        // recuperer la valeur saisie pour le total
        let $total = remplacer(document.getElementById('YETotalEff16').value);

        if($total != $total1_index9){
            $validerEffectif = 0;
            Swal.fire(' \nVérifier le total verticale masse salire masculin et féminin '); return;
        }else{
            $validerEffectif = 1;
        }

    });


    
    //// traotement du bouton valider pour effectifs et masse salariale
    $('.valider').click(function(e){

        


        var sumNatMas = 0;
        var interm = 0;
        
        if(isInt(document.getElementById('YAEff3').value) == true && 
           isInt(document.getElementById('YBEff3').value) == true &&
           isInt(document.getElementById('YCEff3').value) == true &&
           isInt(document.getElementById('YDEff3').value) == true){

            
            sumNatMas = sumNatMas+Math.abs(parseInt(remplacer(document.getElementById('YAEff3').value)))+
                          Math.abs(parseInt(remplacer(document.getElementById('YBEff3').value)))+
                          Math.abs(parseInt(remplacer(document.getElementById('YCEff3').value)))+
                          Math.abs(parseInt(remplacer(document.getElementById('YDEff3').value)))
            ;
                    
        }
        if(isInt(document.getElementById('YEEff3').value) == true){
            interm =  parseInt(remplacer(document.getElementById('YEEff3').value));

        }
        var textsVar = "résultat net \nXI=XG+XH-RQ-RS !";
        if(interm != sumNatMas){

            $validerEffectif=0;

            Swal.fire(' \nverifier le total effectif national masculin '); return;
                     
        } //// end traitement NatMasculin


        
        var sumNatMas = 0;
        var interm = 0;
        
        if(isInt(document.getElementById('YAEff4').value) == true && 
           isInt(document.getElementById('YBEff4').value) == true &&
           isInt(document.getElementById('YCEff4').value) == true &&
           isInt(document.getElementById('YDEff4').value) == true){

            
            sumNatMas = sumNatMas+Math.abs(parseInt(remplacer(document.getElementById('YAEff4').value)))+
                          Math.abs(parseInt(remplacer(document.getElementById('YBEff4').value)))+
                          Math.abs(parseInt(remplacer(document.getElementById('YCEff4').value)))+
                          Math.abs(parseInt(remplacer(document.getElementById('YDEff4').value)))
                    ;
                    
        }
        if(isInt(document.getElementById('YEEff4').value) == true){
            interm =  parseInt(remplacer(document.getElementById('YEEff4').value));

        }
        var textsVar = "résultat net \nXI=XG+XH-RQ-RS !";
        if(interm != sumNatMas){

            $validerEffectif=0;

            Swal.fire(' \nverifier le total effectif national féminin '); return;
                     
        } //// end traitement NatFeminin


        var sumNatMas = 0;
        var interm = 0;
        
        if(isInt(document.getElementById('YAEff5').value) == true && 
           isInt(document.getElementById('YBEff5').value) == true &&
           isInt(document.getElementById('YCEff5').value) == true &&
           isInt(document.getElementById('YDEff5').value) == true ){

            
            sumNatMas = sumNatMas+Math.abs(parseInt(remplacer(document.getElementById('YAEff5').value)))+
                          Math.abs(parseInt(remplacer(document.getElementById('YBEff5').value)))+
                          Math.abs(parseInt(remplacer(document.getElementById('YCEff5').value)))+
                          Math.abs(parseInt(remplacer(document.getElementById('YDEff5').value)))
                    ;
                    
        }
        if(isInt(document.getElementById('YEEff5').value) == true){
            interm =  parseInt(remplacer(document.getElementById('YEEff5').value));

        }
        var textsVar = "résultat net \nXI=XG+XH-RQ-RS !";
        if(interm != sumNatMas){

            $validerEffectif=0;

            Swal.fire(' \nverifier le total effectif uemoa masculin '); return;
                     
        } //// end traitement NatFeminin


        var sumNatMas = 0;
        var interm = 0;
        
        if(isInt(document.getElementById('YAEff6').value) == true && 
           isInt(document.getElementById('YBEff6').value) == true &&
           isInt(document.getElementById('YCEff6').value) == true &&
           isInt(document.getElementById('YDEff6').value) == true
           ){

            
            sumNatMas = sumNatMas+Math.abs(parseInt(remplacer(document.getElementById('YAEff6').value)))+
                          Math.abs(parseInt(remplacer(document.getElementById('YBEff6').value)))+
                          Math.abs(parseInt(remplacer(document.getElementById('YCEff6').value)))+
                          Math.abs(parseInt(remplacer(document.getElementById('YDEff6').value)))
                    ;
                    
        }
        if(isInt(document.getElementById('YEEff6').value) == true){
            interm =  parseInt(remplacer(document.getElementById('YEEff6').value));

        }
        var textsVar = "résultat net \nXI=XG+XH-RQ-RS !";
        if(interm != sumNatMas){

            $validerEffectif=0;

            Swal.fire(' \nverifier le total effectif uemoa féminin '); return;
                     
        } //// end traitement NatFeminin


        var sumNatMas = 0;
        var interm = 0;
        
        if(isInt(document.getElementById('YAEff7').value) == true && 
           isInt(document.getElementById('YBEff7').value) == true &&
           isInt(document.getElementById('YCEff7').value) == true &&
           isInt(document.getElementById('YDEff7').value) == true
           ){

            
            sumNatMas = sumNatMas+Math.abs(parseInt(remplacer(document.getElementById('YAEff7').value)))+
                          Math.abs(parseInt(remplacer(document.getElementById('YBEff7').value)))+
                          Math.abs(parseInt(remplacer(document.getElementById('YCEff7').value)))+
                          Math.abs(parseInt(remplacer(document.getElementById('YDEff7').value)))
                    ;
                    
        }
        if(isInt(document.getElementById('YEEff7').value) == true){
            interm =  parseInt(remplacer(document.getElementById('YEEff7').value));

        }
        var textsVar = "résultat net \nXI=XG+XH-RQ-RS !";
        if(interm != sumNatMas){

            $validerEffectif=0;

            Swal.fire(' \nverifier le total effectif hors uemoa masculin '); return;
                     
        } //// end traitement NatFeminin

        var sumNatMas = 0;
        var interm = 0;
        
        if(isInt(document.getElementById('YAEff8').value) == true && 
           isInt(document.getElementById('YBEff8').value) == true &&
           isInt(document.getElementById('YCEff8').value) == true &&
           isInt(document.getElementById('YDEff8').value) == true
           ){

            
            sumNatMas = sumNatMas+Math.abs(parseInt(remplacer(document.getElementById('YAEff8').value)))+
                          Math.abs(parseInt(remplacer(document.getElementById('YBEff8').value)))+
                          Math.abs(parseInt(remplacer(document.getElementById('YCEff8').value)))+
                          Math.abs(parseInt(remplacer(document.getElementById('YDEff8').value)))
                    ;
                    
        }
        if(isInt(document.getElementById('YEEff8').value) == true){
            interm =  parseInt(remplacer(document.getElementById('YEEff8').value));

        }
        var textsVar = "résultat net \nXI=XG+XH-RQ-RS !";
        if(interm != sumNatMas){

            $validerEffectif=0;

            Swal.fire(' \nverifier le total effectif hors uemoa féminin '); return;
                     
        } //// end traitement NatFeminin



        var sumNatMas = 0;
        var interm = 0;
        
        if(isInt(document.getElementById('YATotalEff9').value) == true && 
           isInt(document.getElementById('YBTotalEff9').value) == true &&
           isInt(document.getElementById('YCTotalEff9').value) == true &&
           isInt(document.getElementById('YDTotalEff9').value) == true
           ){

            
            sumNatMas = sumNatMas+Math.abs(parseInt(remplacer(document.getElementById('YATotalEff9').value)))+
                          Math.abs(parseInt(remplacer(document.getElementById('YBTotalEff9').value)))+
                          Math.abs(parseInt(remplacer(document.getElementById('YCTotalEff9').value)))+
                          Math.abs(parseInt(remplacer(document.getElementById('YDTotalEff9').value)))
                    ;
                    
        }
        if(isInt(document.getElementById('YETotalEff9').value) == true){
            interm =  parseInt(remplacer(document.getElementById('YETotalEff9').value));

        }
        var textsVar = "résultat net \nXI=XG+XH-RQ-RS !";
        if(interm != sumNatMas){

            $validerEffectif=0;

            Swal.fire(' \nverifier le total effectif masculin et féminin '); return;
                     
        } //// end traitement NatFeminin



        var sumNatMas = 0;
        var interm = 0;
        
        if(isInt(document.getElementById('YAEff10').value) == true && 
           isInt(document.getElementById('YBEff10').value) == true &&
           isInt(document.getElementById('YCEff10').value) == true &&
           isInt(document.getElementById('YDEff10').value) == true 
           ){

            
            sumNatMas = sumNatMas+Math.abs(parseInt(remplacer(document.getElementById('YAEff10').value)))+
                          Math.abs(parseInt(remplacer(document.getElementById('YBEff10').value)))+
                          Math.abs(parseInt(remplacer(document.getElementById('YCEff10').value)))+
                          Math.abs(parseInt(remplacer(document.getElementById('YDEff10').value)))
                    ;
                    
        }
        if(isInt(document.getElementById('YEEff10').value) == true){
            interm =  parseInt(remplacer(document.getElementById('YEEff10').value));

        }
        var textsVar = "résultat net \nXI=XG+XH-RQ-RS !";
        if(interm != sumNatMas){

            $validerEffectif=0;

            Swal.fire('\nverifier le total masse salaire nationale masculin '); return;
                     
        } //// end traitement NatFeminin


        var sumNatMas = 0;
        var interm = 0;
        
        if(isInt(document.getElementById('YAEff11').value) == true && 
           isInt(document.getElementById('YBEff11').value) == true &&
           isInt(document.getElementById('YCEff11').value) == true &&
           isInt(document.getElementById('YDEff11').value) == true 
           ){

            
            sumNatMas = sumNatMas+Math.abs(parseInt(remplacer(document.getElementById('YAEff11').value)))+
                          Math.abs(parseInt(remplacer(document.getElementById('YBEff11').value)))+
                          Math.abs(parseInt(remplacer(document.getElementById('YCEff11').value)))+
                          Math.abs(parseInt(remplacer(document.getElementById('YDEff11').value)))
                    ;
                    
        }
        if(isInt(document.getElementById('YEEff11').value) == true){
            interm =  parseInt(remplacer(document.getElementById('YEEff11').value));

        }
        var textsVar = "résultat net \nXI=XG+XH-RQ-RS !";
        if(interm != sumNatMas){

            $validerEffectif=0;

            Swal.fire(' \nverifier le total masse salaire nationale féminin '); return;
                     
        } //// end traitement NatFeminin




        var sumNatMas = 0;
        var interm = 0;
        
        if(isInt(document.getElementById('YAEff12').value) == true && 
           isInt(document.getElementById('YBEff12').value) == true &&
           isInt(document.getElementById('YCEff12').value) == true &&
           isInt(document.getElementById('YDEff12').value) == true 
           ){

            
            sumNatMas = sumNatMas+Math.abs(parseInt(remplacer(document.getElementById('YAEff12').value)))+
                          Math.abs(parseInt(remplacer(document.getElementById('YBEff12').value)))+
                          Math.abs(parseInt(remplacer(document.getElementById('YCEff12').value)))+
                          Math.abs(parseInt(remplacer(document.getElementById('YDEff12').value)))
                    ;
                    
        }
        if(isInt(document.getElementById('YEEff12').value) == true){
            interm =  parseInt(remplacer(document.getElementById('YEEff12').value));

        }
        var textsVar = "résultat net \nXI=XG+XH-RQ-RS !";
        if(interm != sumNatMas){

            $validerEffectif=0;

            Swal.fire('  \nverifier le total masse salaire uemoa masculin '); return;
                     
        } //// end traitement NatFeminin



        var sumNatMas = 0;
        var interm = 0;
        
        if(isInt(document.getElementById('YAEff13').value) == true && 
           isInt(document.getElementById('YBEff13').value) == true &&
           isInt(document.getElementById('YCEff13').value) == true &&
           isInt(document.getElementById('YDEff13').value) == true 
           ){

            
            sumNatMas = sumNatMas+Math.abs(parseInt(remplacer(document.getElementById('YAEff13').value)))+
                          Math.abs(parseInt(remplacer(document.getElementById('YBEff13').value)))+
                          Math.abs(parseInt(remplacer(document.getElementById('YCEff13').value)))+
                          Math.abs(parseInt(remplacer(document.getElementById('YDEff13').value)))
                    ;
                    
        }
        if(isInt(document.getElementById('YEEff13').value) == true){
            interm =  parseInt(remplacer(document.getElementById('YEEff13').value));

        }
        var textsVar = "résultat net \nXI=XG+XH-RQ-RS !";
        if(interm != sumNatMas){

            $validerEffectif=0;

            Swal.fire(' \nverifier le total masse salaire uemoa féminin '); return;
                     
        } //// end traitement NatFeminin




        var sumNatMas = 0;
        var interm = 0;
        
        if(isInt(document.getElementById('YAEff14').value) == true && 
           isInt(document.getElementById('YBEff14').value) == true &&
           isInt(document.getElementById('YCEff14').value) == true &&
           isInt(document.getElementById('YDEff14').value) == true 
           ){

            
            sumNatMas = sumNatMas+Math.abs(parseInt(remplacer(document.getElementById('YAEff14').value)))+
                          Math.abs(parseInt(remplacer(document.getElementById('YBEff14').value)))+
                          Math.abs(parseInt(remplacer(document.getElementById('YCEff14').value)))+
                          Math.abs(parseInt(remplacer(document.getElementById('YDEff14').value)))
                    ;
                    
        }
        if(isInt(document.getElementById('YEEff14').value) == true){
            interm =  parseInt(remplacer(document.getElementById('YEEff14').value));

        }
        var textsVar = "résultat net \nXI=XG+XH-RQ-RS !";
        if(interm != sumNatMas){

            $validerEffectif=0;

            Swal.fire(' \nverifier le total masse salaire hors uemoa masculin  '); return;
                     
        } //// end traitement NatFeminin



        var sumNatMas = 0;
        var interm = 0;
        
        if(isInt(document.getElementById('YAEff15').value) == true && 
           isInt(document.getElementById('YBEff15').value) == true &&
           isInt(document.getElementById('YCEff15').value) == true &&
           isInt(document.getElementById('YDEff15').value) == true 
           ){

            
            sumNatMas = sumNatMas+Math.abs(parseInt(remplacer(document.getElementById('YAEff15').value)))+
                          Math.abs(parseInt(remplacer(document.getElementById('YBEff15').value)))+
                          Math.abs(parseInt(remplacer(document.getElementById('YCEff15').value)))+
                          Math.abs(parseInt(remplacer(document.getElementById('YDEff15').value)))
                    ;
                    
        }
        if(isInt(document.getElementById('YEEff15').value) == true){
            interm =  parseInt(remplacer(document.getElementById('YEEff15').value));

        }
        var textsVar = "résultat net \nXI=XG+XH-RQ-RS !";
        if(interm != sumNatMas){

            $validerEffectif=0;

            Swal.fire(' \nverifier le total masse salaire hors uemoa féminin  '); return;
                     
        } //// end traitement NatFeminin



        

        var sumNatMas = 0;
        var interm = 0;
        
        if(isInt(document.getElementById('YATotalEff16').value) == true && 
           isInt(document.getElementById('YBTotalEff16').value) == true &&
           isInt(document.getElementById('YCTotalEff16').value) == true &&
           isInt(document.getElementById('YDTotalEff16').value) == true 
           ){

            
            sumNatMas = sumNatMas+Math.abs(parseInt(remplacer(document.getElementById('YATotalEff16').value)))+
                          Math.abs(parseInt(remplacer(document.getElementById('YBTotalEff16').value)))+
                          Math.abs(parseInt(remplacer(document.getElementById('YCTotalEff16').value)))+
                          Math.abs(parseInt(remplacer(document.getElementById('YDTotalEff16').value)))
                    ;
                    
        }
        if(isInt(document.getElementById('YETotalEff16').value) == true){
            interm =  parseInt(remplacer(document.getElementById('YETotalEff16').value));

        }
        var textsVar = "résultat net \nXI=XG+XH-RQ-RS !";
        if(interm != sumNatMas){

            $validerEffectif=0;

            Swal.fire(' \nverifier le total masse salaire masulin et féminin '); return;
                     
        } //// end traitement NatFeminin
        

        
        
        
        
        if($validerEffectif==1){


            var empt = 1;
            //var checkboxList = document.getElementsByClassName('inputclass');
            var checkboxList = $('input.calcul');
            for (i = 0; i < checkboxList.length; i++) {
                if (checkboxList[i].value != "") {                    
                    empt = 0;
                }
            }
            if(empt!=1){

                var form = document.querySelector('#idformefffectif');
                var requiredElements = form.querySelectorAll('[required]');

                var selcts = $("#formrow-inputState");
                var selcts = ($("#formrow-inputState").attr("style")=="display:none") ? $("#formrow-inputStates") : $("#formrow-inputState");
                
                if (selcts.val() == "" || selcts.val() == undefined ) {

                    Swal.fire('Vous pouvez choisir une unité '); return;
                }else{


                    // ici on compare le total masse salaire effectif et la charge RK compte result 

                                         
            let routeRK="{{path('checkMasseSalarialeChargePersonnel')}}"+"/"+ $('#idcuci').val();
            $.ajax({
                   type: 'GET',
                   url : routeRK,
                   dataType : "json",
                   processData: false,
                   contentType: false,
                   cache: false,
                   timeout: 800000,
                   success: function(data){ 

                        //if(JSON.stringify(data) === JSON.stringify(xin)){
                        data = (data !="") ? data : 0 ;

                        var selcts = $("#formrow-inputState").val();

                        var masseSalaire = parseInt(remplacer(document.getElementById('YETotalEff16').value));
                        if(selcts=="Milier de CFA"){// selcts.localeCompare("Milier de CFA")

                            masseSalaire *= 1000;
                        }
                        if(selcts=="CFA"){// selcts.localeCompare("Milier de CFA")

                            masseSalaire = masseSalaire;
                        }

                       if(Math.abs(parseInt (data)) < masseSalaire ){
                           console.log(data);
                           Swal.fire('Vérifier les valeurs saisies pour le total masse salariale : la masse salariale ne doit pas etre superieur aux charges de personnel (RK) NET1 compte resultat '+parseInt(data)); return;
                       }else{


                            var a=$(this);
                            Swal.fire({
                                title:"Confirmation",
                                text:"Êtes-vous sûr de vouloir sauvegarder les données de cet enrégistrement ?",
                                icon:"success",
                                showCancelButton:true,
                                confirmButtonText:"Oui",
                                cancelButtonText:"Non",
                                confirmButtonClass:"btn btn-success mt-2",
                                cancelButtonClass:"btn btn-danger ms-2 mt-2",
                                buttonsStyling:!1}).then(function(t){
                                    if (t.value) {
                                    //var form = $(this).closest("form").submit();
                                    // $(this).closest("form").submit();
                                        document.getElementById('submited').click();
                                        activaTab('active');
                                    }else
                                        e.preventDefault();
                                })
                       }                                          
                       
                   } ,
                   error : function(error){
                       console.log(error);
                   }
               });


                }
            }


        }
    });



    //// traotement du bouton sauvegarder pour effectifs et masse salariale
    $('.sauvegarderEff').click(function(e){


        var empt = 1;
        //var checkboxList = document.getElementsByClassName('calcul');
        var elemts =  $('input.calcul');
        for (i = 0; i < elemts.length; i++) {
            if (elemts[i].value != "") {
                //console.log(elemts[i].value);
                empt = 0;
            }
        }
        if(empt!=1){

            var selcts = $("#formrow-inputState");
            var selcts = ($("#formrow-inputState").attr("style")=="display:none") ? $("#formrow-inputStates") : $("#formrow-inputState");
            
            if (selcts.val() == "" || selcts.val() == undefined ) {
                Swal.fire('Vous pouvez choisir une unité '); return;
            }else{



                var a=$(this);
                Swal.fire({
                    title:"Confirmation",
                    text:"Êtes-vous sûr de vouloir sauvegarder les données de cet enrégistrement ?",
                    icon:"warning",
                    showCancelButton:true,
                    confirmButtonText:"Oui",
                    cancelButtonText:"Non",
                    confirmButtonClass:"btn btn-success mt-2",
                    cancelButtonClass:"btn btn-danger ms-2 mt-2",
                    buttonsStyling:!1}).then(function(t){
                        if (t.value) {
                        //var form = $(this).closest("form").submit();
                        // $(this).closest("form").submit();
                            document.getElementById('notsubmited').click();
                            var url = window.location.href;
                            var activeTabVar = url.substring(url.indexOf("#") + "profile");
                            $('a[href="#'+ activeTabVar +'"]').tab('show')                            
                        }else{

                            e.preventDefault();
                        }
                    })
            }

        }

    });


    /////////////////// TRAITEMENT TOTAUX HORIZONTAL & VERTICAL de l'effectif du personnel exterieur  /////////////////////////:

    
    $('#tbodyPersonext').on('blur change', "#YHTotalperson9", function(){


        var $totalEff_Cadre_sup  = 0;

        if(is_int(document.getElementById('YHperson3').value)==true){
            $totalEff_Cadre_sup  = $totalEff_Cadre_sup+parseInt(remplacer(document.getElementById('YHperson3').value));
        }
        if(is_int(document.getElementById('YHperson4').value)==true){
            $totalEff_Cadre_sup  = $totalEff_Cadre_sup+parseInt(remplacer(document.getElementById('YHperson4').value));
        }
        if(is_int(document.getElementById('YHperson5').value)==true){
            $totalEff_Cadre_sup  = $totalEff_Cadre_sup+parseInt(remplacer(document.getElementById('YHperson5').value));
        }
        if(is_int(document.getElementById('YHperson6').value)==true){
            $totalEff_Cadre_sup  = $totalEff_Cadre_sup+parseInt(remplacer(document.getElementById('YHperson6').value));
        }
        if(is_int(document.getElementById('YHperson7').value)==true){
            $totalEff_Cadre_sup  = $totalEff_Cadre_sup+parseInt(remplacer(document.getElementById('YHperson7').value));
        }
        if(is_int(document.getElementById('YHperson8').value)==true){
            $totalEff_Cadre_sup  = $totalEff_Cadre_sup+parseInt(remplacer(document.getElementById('YHperson8').value));
        }

        // recuperer la valeur saisie pour le total
        let $total = remplacer(document.getElementById('YHTotalperson9').value);

        if($total != $totalEff_Cadre_sup){
            $validerPersonnelext = 0;
            Swal.fire(' \nVérifier le total effectif Cadre supérieur ' ); return;
        }else{
            $validerPersonnelext = 1;
        }

    });

    

    $('#tbodyPersonext').on('blur change', "#YITotalperson9", function(){
        var $totalMass_Cadre_sup  = 0;

        if(is_int(document.getElementById('YIperson3').value)==true){
            $totalMass_Cadre_sup  = $totalMass_Cadre_sup+parseInt(remplacer(document.getElementById('YIperson3').value));
        }
        if(is_int(document.getElementById('YIperson4').value)==true){
            $totalMass_Cadre_sup  = $totalMass_Cadre_sup+parseInt(remplacer(document.getElementById('YIperson4').value));
        }
        if(is_int(document.getElementById('YIperson5').value)==true){
            $totalMass_Cadre_sup  = $totalMass_Cadre_sup+parseInt(remplacer(document.getElementById('YIperson5').value));
        }
        if(is_int(document.getElementById('YIperson6').value)==true){
            $totalMass_Cadre_sup  = $totalMass_Cadre_sup+parseInt(remplacer(document.getElementById('YIperson6').value));
        }
        if(is_int(document.getElementById('YIperson7').value)==true){
            $totalMass_Cadre_sup  = $totalMass_Cadre_sup+parseInt(remplacer(document.getElementById('YIperson7').value));
        }
        if(is_int(document.getElementById('YIperson8').value)==true){
            $totalMass_Cadre_sup  = $totalMass_Cadre_sup+parseInt(remplacer(document.getElementById('YIperson8').value));
        }

        // recuperer la valeur saisie pour le total
        let $total = remplacer(document.getElementById('YITotalperson9').value);

        if($total != $totalMass_Cadre_sup){
            $validerPersonnelext = 0;
            Swal.fire(' \nVérifier le total masse salariale Techniciens supérieurs et cadres moyens ' ); return;
        }else{
            $validerPersonnelext = 1;
        }

    });

    

    $('#tbodyPersonext').on('blur change', "#YJTotalperson9", function(){
        var $totalEff_tech_sup  = 0;

        if(is_int(document.getElementById('YJperson3').value)==true){
            $totalEff_tech_sup  = $totalEff_tech_sup+parseInt(remplacer(document.getElementById('YJperson3').value));
        }
        if(is_int(document.getElementById('YJperson4').value)==true){
            $totalEff_tech_sup  = $totalEff_tech_sup+parseInt(remplacer(document.getElementById('YJperson4').value));
        }
        if(is_int(document.getElementById('YJperson5').value)==true){
            $totalEff_tech_sup  = $totalEff_tech_sup+parseInt(remplacer(document.getElementById('YJperson5').value));
        }
        if(is_int(document.getElementById('YJperson6').value)==true){
            $totalEff_tech_sup  = $totalEff_tech_sup+parseInt(remplacer(document.getElementById('YJperson6').value));
        }
        if(is_int(document.getElementById('YJperson7').value)==true){
            $totalEff_tech_sup  = $totalEff_tech_sup+parseInt(remplacer(document.getElementById('YJperson7').value));
        }
        if(is_int(document.getElementById('YJperson8').value)==true){
            $totalEff_tech_sup  = $totalEff_tech_sup+parseInt(remplacer(document.getElementById('YJperson8').value));
        }

        // recuperer la valeur saisie pour le total
        let $total = remplacer(document.getElementById('YJTotalperson9').value);

        if($total != $totalEff_tech_sup){
            $$validerPersonnelext = 0;
            Swal.fire(' \nVérifier pour le total effectif Techniciens, agents de maîtrise et ouvriers qualifiés ' ); return;
        }else{
            $validerPersonnelext = 1;
        }

    });

    $('#tbodyPersonext').on('blur change', "#YKTotalperson9", function(){
        var $totalMass_tech_sup  = 0;

        if(is_int(document.getElementById('YKperson3').value)==true){
            $totalMass_tech_sup  = $totalMass_tech_sup+parseInt(remplacer(document.getElementById('YKperson3').value));
        }
        if(is_int(document.getElementById('YKperson4').value)==true){
            $totalMass_tech_sup  = $totalMass_tech_sup+parseInt(remplacer(document.getElementById('YKperson4').value));
        }
        if(is_int(document.getElementById('YKperson5').value)==true){
            $totalMass_tech_sup  = $totalMass_tech_sup+parseInt(remplacer(document.getElementById('YKperson5').value));
        }
        if(is_int(document.getElementById('YKperson6').value)==true){
            $totalMass_tech_sup  = $totalMass_tech_sup+parseInt(remplacer(document.getElementById('YKperson6').value));
        }
        if(is_int(document.getElementById('YKperson7').value)==true){
            $totalMass_tech_sup  = $totalMass_tech_sup+parseInt(remplacer(document.getElementById('YKperson7').value));
        }
        if(is_int(document.getElementById('YKperson8').value)==true){
            $totalMass_tech_sup  = $totalMass_tech_sup+parseInt(remplacer(document.getElementById('YKperson8').value));
        }

        // recuperer la valeur saisie pour le total
        let $total = remplacer(document.getElementById('YKTotalperson9').value);

        if($total != $totalMass_tech_sup){
            $validerPersonnelext = 0;
            Swal.fire(' \nVérifier pour le total masse salariale Technicien supérieur ' ); return;
        }else{
            $validerPersonnelext = 1;
        }

    });
    

    $('#tbodyPersonext').on('blur change', "#YMTotalperson9", function(){
        var $totalEff_tech_sup  = 0;

        if(is_int(document.getElementById('YMperson3').value)==true){
            $totalEff_tech_sup  = $totalEff_tech_sup+parseInt(remplacer(document.getElementById('YMperson3').value));
        }
        if(is_int(document.getElementById('YMperson4').value)==true){
            $totalEff_tech_sup  = $totalEff_tech_sup+parseInt(remplacer(document.getElementById('YMperson4').value));
        }
        if(is_int(document.getElementById('YMperson5').value)==true){
            $totalEff_tech_sup  = $totalEff_tech_sup+parseInt(remplacer(document.getElementById('YMperson5').value));
        }
        if(is_int(document.getElementById('YMperson6').value)==true){
            $totalEff_tech_sup  = $totalEff_tech_sup+parseInt(remplacer(document.getElementById('YMperson6').value));
        }
        if(is_int(document.getElementById('YMperson7').value)==true){
            $totalEff_tech_sup  = $totalEff_tech_sup+parseInt(remplacer(document.getElementById('YMperson7').value));
        }
        if(is_int(document.getElementById('YMperson8').value)==true){
            $totalEff_tech_sup  = $totalEff_tech_sup+parseInt(remplacer(document.getElementById('YMperson8').value));
        }

        // recuperer la valeur saisie pour le total
        let $total = remplacer(document.getElementById('YMTotalperson9').value);

        if($total != $totalEff_tech_sup){
            $validerPersonnelext = 0;
            Swal.fire(' \nVérifier le total effectif Permanents ' ); return;
        }else{
            $validerPersonnelext = 1;
        }

    });

    $('#tbodyPersonext').on('blur change', "#YNTotalperson9", function(){
        var $totalMass_tech_sup  = 0;

        if(is_int(document.getElementById('YNperson3').value)==true){
            $totalMass_tech_sup  = $totalMass_tech_sup+parseInt(remplacer(document.getElementById('YNperson3').value));
        }
        if(is_int(document.getElementById('YNperson4').value)==true){
            $totalMass_tech_sup  = $totalMass_tech_sup+parseInt(remplacer(document.getElementById('YNperson4').value));
        }
        if(is_int(document.getElementById('YNperson5').value)==true){
            $totalMass_tech_sup  = $totalMass_tech_sup+parseInt(remplacer(document.getElementById('YNperson5').value));
        }
        if(is_int(document.getElementById('YNperson6').value)==true){
            $totalMass_tech_sup  = $totalMass_tech_sup+parseInt(remplacer(document.getElementById('YNperson6').value));
        }
        if(is_int(document.getElementById('YNperson7').value)==true){
            $totalMass_tech_sup  = $totalMass_tech_sup+parseInt(remplacer(document.getElementById('YNperson7').value));
        }
        if(is_int(document.getElementById('YNperson8').value)==true){
            $totalMass_tech_sup  = $totalMass_tech_sup+parseInt(remplacer(document.getElementById('YNperson8').value));
        }

        // recuperer la valeur saisie pour le total
        let $total = remplacer(document.getElementById('YNTotalperson9').value);

        if($total != $totalMass_tech_sup){
            $validerPersonnelext = 0;
            Swal.fire(' \nVérifier pour le total effectif Saisonniers ' ); return;
        }else{
            $validerPersonnelext = 1;
        }

    });


        /////////////////// TRAITEMENT TOTAUX HORIZONTAL & VERTICAL de l'effectif du personnel exterieur  /////////////////////////:



    $('#tbodyPersonext').on('blur change', "#YLperson3", function(){
        var $total1_index9  = 0;

        if(is_int(document.getElementById('YHperson3').value)==true){
            $total1_index9  = $total1_index9+parseInt(remplacer(document.getElementById('YHperson3').value));
        }
        if(is_int(document.getElementById('YIperson3').value)==true){
            $total1_index9  = $total1_index9+parseInt(remplacer(document.getElementById('YIperson3').value));
        }
        if(is_int(document.getElementById('YJperson3').value)==true){
            $total1_index9+= parseInt(remplacer(document.getElementById('YJperson3').value));
        }
        if(is_int(document.getElementById('YKperson3').value)==true){
            $total1_index9+= parseInt(remplacer(document.getElementById('YKperson3').value));
        }
        // if(is_int(document.getElementById('YMperson3').value)==true){
        //     $total1_index9+= parseInt(remplacer(document.getElementById('YMperson3').value));
        // }
        //if(is_int(document.getElementById('YNperson3').value)==true){
        //    $total1_index9+= parseInt(remplacer(document.getElementById('YNperson3').value));
        //}

        // recuperer la valeur saisie pour le total
        let $total = remplacer(document.getElementById('YLperson3').value);

        if($total != $total1_index9){
            $validerEffectif = 0;
            Swal.fire(' \nVérifier le total effectif national masculin ' ); return;
        }else{
            $validerEffectif = 1;
        }

    });


    $('#tbodyPersonext').on('blur change', "#YLperson4", function(){
        var $total1_index9  = 0;

        if(is_int(document.getElementById('YHperson4').value)==true){
            $total1_index9  = $total1_index9+parseInt(remplacer(document.getElementById('YHperson4').value));
        }
        if(is_int(document.getElementById('YIperson4').value)==true){
            $total1_index9  = $total1_index9+parseInt(remplacer(document.getElementById('YIperson4').value));
        }
        if(is_int(document.getElementById('YJperson4').value)==true){
            $total1_index9+= parseInt(remplacer(document.getElementById('YJperson4').value));
        }
        if(is_int(document.getElementById('YKperson4').value)==true){
            $total1_index9+= parseInt(remplacer(document.getElementById('YKperson4').value));
        }
        // if(is_int(document.getElementById('YMperson4').value)==true){
        //     $total1_index9+= parseInt(remplacer(document.getElementById('YMperson4').value));
        // }
        //if(is_int(document.getElementById('YNperson4').value)==true){
        //    $total1_index9+= parseInt(remplacer(document.getElementById('YNperson4').value));
        //}

        // recuperer la valeur saisie pour le total
        let $total = remplacer(document.getElementById('YLperson4').value);

        if($total != $total1_index9){
            $validerEffectif = 0;
            Swal.fire(' \nVérifier le total effectif national féminin ' ); return;
        }else{
            $validerEffectif = 1;
        }

    });


    $('#tbodyPersonext').on('blur change', "#YLperson5", function(){
        var $total1_index9  = 0;

        if(is_int(document.getElementById('YHperson5').value)==true){
            $total1_index9  = $total1_index9+parseInt(remplacer(document.getElementById('YHperson5').value));
        }
        if(is_int(document.getElementById('YIperson5').value)==true){
            $total1_index9  = $total1_index9+parseInt(remplacer(document.getElementById('YIperson5').value));
        }
        if(is_int(document.getElementById('YJperson5').value)==true){
            $total1_index9+= parseInt(remplacer(document.getElementById('YJperson5').value));
        }
        if(is_int(document.getElementById('YKperson5').value)==true){
            $total1_index9+= parseInt(remplacer(document.getElementById('YKperson5').value));
        }
        // if(is_int(document.getElementById('YMperson5').value)==true){
        //     $total1_index9+= parseInt(remplacer(document.getElementById('YMperson5').value));
        // }
        //if(is_int(document.getElementById('YNperson5').value)==true){
        //    $total1_index9+= parseInt(remplacer(document.getElementById('YNperson5').value));
        //}

        // recuperer la valeur saisie pour le total
        let $total = remplacer(document.getElementById('YLperson5').value);

        if($total != $total1_index9){
            $validerEffectif = 0;
            Swal.fire(' \nVérifier le total effectif uemoa masculin ' ); return;
        }else{
            $validerEffectif = 1;
        }

    });


    $('#tbodyPersonext').on('blur change', "#YLperson6", function(){
        var $total1_index9  = 0;

        if(is_int(document.getElementById('YHperson6').value)==true){
            $total1_index9  = $total1_index9+parseInt(remplacer(document.getElementById('YHperson6').value));
        }
        if(is_int(document.getElementById('YIperson6').value)==true){
            $total1_index9  = $total1_index9+parseInt(remplacer(document.getElementById('YIperson6').value));
        }
        if(is_int(document.getElementById('YJperson6').value)==true){
            $total1_index9+= parseInt(remplacer(document.getElementById('YJperson6').value));
        }
        if(is_int(document.getElementById('YKperson6').value)==true){
            $total1_index9+= parseInt(remplacer(document.getElementById('YKperson6').value));
        }
        // if(is_int(document.getElementById('YMperson6').value)==true){
        //     $total1_index9+= parseInt(remplacer(document.getElementById('YMperson6').value));
        // }
        //if(is_int(document.getElementById('YNperson6').value)==true){
        //    $total1_index9+= parseInt(remplacer(document.getElementById('YNperson6').value));
        //}

        // recuperer la valeur saisie pour le total
        let $total = remplacer(document.getElementById('YLperson6').value);

        if($total != $total1_index9){
            $validerEffectif = 0;
            Swal.fire(' \nVérifier le total effectif uemoa féminin ' ); return;
        }else{
            $validerEffectif = 1;
        }

    });


    $('#tbodyPersonext').on('blur change', "#YLperson7", function(){
        var $total1_index9  = 0;

        if(is_int(document.getElementById('YHperson7').value)==true){
            $total1_index9  = $total1_index9+parseInt(remplacer(document.getElementById('YHperson7').value));
        }
        if(is_int(document.getElementById('YIperson7').value)==true){
            $total1_index9  = $total1_index9+parseInt(remplacer(document.getElementById('YIperson7').value));
        }
        if(is_int(document.getElementById('YJperson7').value)==true){
            $total1_index9+= parseInt(remplacer(document.getElementById('YJperson7').value));
        }
        if(is_int(document.getElementById('YKperson7').value)==true){
            $total1_index9+= parseInt(remplacer(document.getElementById('YKperson7').value));
        }
        // if(is_int(document.getElementById('YMperson7').value)==true){
        //     $total1_index9+= parseInt(remplacer(document.getElementById('YMperson7').value));
        // }
        //if(is_int(document.getElementById('YNperson7').value)==true){
        //    $total1_index9+= parseInt(remplacer(document.getElementById('YNperson7').value));
        //}

        // recuperer la valeur saisie pour le total
        let $total = remplacer(document.getElementById('YLperson7').value);

        if($total != $total1_index9){
            $validerEffectif = 0;
            Swal.fire(' \nVérifier le total effectif hors uemoa masculin ' ); return;
        }else{
            $validerEffectif = 1;
        }

    });


    $('#tbodyPersonext').on('blur change', "#YLperson8", function(){
        var $total1_index9  = 0;

        if(is_int(document.getElementById('YHperson8').value)==true){
            $total1_index9  = $total1_index9+parseInt(remplacer(document.getElementById('YHperson8').value));
        }
        if(is_int(document.getElementById('YIperson8').value)==true){
            $total1_index9  = $total1_index9+parseInt(remplacer(document.getElementById('YIperson8').value));
        }
        if(is_int(document.getElementById('YJperson8').value)==true){
            $total1_index9+= parseInt(remplacer(document.getElementById('YJperson8').value));
        }
        if(is_int(document.getElementById('YKperson8').value)==true){
            $total1_index9+= parseInt(remplacer(document.getElementById('YKperson8').value));
        }
        // if(is_int(document.getElementById('YMperson8').value)==true){
        //     $total1_index9+= parseInt(remplacer(document.getElementById('YMperson8').value));
        // }
        //if(is_int(document.getElementById('YNperson8').value)==true){
        //    $total1_index9+= parseInt(remplacer(document.getElementById('YNperson8').value));
        //}

        // recuperer la valeur saisie pour le total
        let $total = remplacer(document.getElementById('YLperson8').value);

        if($total != $total1_index9){
            $validerEffectif = 0;
            Swal.fire(' \nVérifier le total effectif hosr uemoa féminin ' ); return;
        }else{
            $validerEffectif = 1;
        }

    });


    $('#tbodyPersonext').on('blur change', "#YLTotalperson9", function(){
        var $total1_index9  = 0;

        if(is_int(document.getElementById('YHTotalperson9').value)==true){
            $total1_index9  = $total1_index9+parseInt(remplacer(document.getElementById('YHTotalperson9').value));
        }
        if(is_int(document.getElementById('YITotalperson9').value)==true){
            $total1_index9  = $total1_index9+parseInt(remplacer(document.getElementById('YITotalperson9').value));
        }
        if(is_int(document.getElementById('YJTotalperson9').value)==true){
            $total1_index9+= parseInt(remplacer(document.getElementById('YJTotalperson9').value));
        }
        if(is_int(document.getElementById('YKTotalperson9').value)==true){
            $total1_index9+= parseInt(remplacer(document.getElementById('YKTotalperson9').value));
        }
        // if(is_int(document.getElementById('YMTotalperson9').value)==true){
        //     $total1_index9+= parseInt(remplacer(document.getElementById('YMTotalperson9').value));
        // }
        //if(is_int(document.getElementById('YNTotalperson9').value)==true){
        //    $total1_index9+= parseInt(remplacer(document.getElementById('YNTotalperson9').value));
        //}

        // recuperer la valeur saisie pour le total
        let $total = remplacer(document.getElementById('YLTotalperson9').value);

        if($total != $total1_index9){
            $validerEffectif = 0;
            Swal.fire(' Vérifier le total effectif masculin et féminin ' ); return;
        }else{
            $validerEffectif = 1;
        }

    });


    $('#tbodyPersonext').on('blur change', "#YLperson10", function(){
        var $total1_index9  = 0;

        if(is_int(document.getElementById('YHperson10').value)==true){
            $total1_index9  = $total1_index9+parseInt(remplacer(document.getElementById('YHperson10').value));
        }
        if(is_int(document.getElementById('YIperson10').value)==true){
            $total1_index9  = $total1_index9+parseInt(remplacer(document.getElementById('YIperson10').value));
        }
        if(is_int(document.getElementById('YJperson10').value)==true){
            $total1_index9+= parseInt(remplacer(document.getElementById('YJperson10').value));
        }
        if(is_int(document.getElementById('YKperson10').value)==true){
            $total1_index9+= parseInt(remplacer(document.getElementById('YKperson10').value));
        }
        // if(is_int(document.getElementById('YMperson10').value)==true){
        //     $total1_index9+= parseInt(remplacer(document.getElementById('YMperson10').value));
        // }
        //if(is_int(document.getElementById('YNperson10').value)==true){
        //    $total1_index9+= parseInt(remplacer(document.getElementById('YNperson10').value));
        //}

        // recuperer la valeur saisie pour le total
        let $total = remplacer(document.getElementById('YLperson10').value);

        if($total != $total1_index9){
            $validerEffectif = 0;
            Swal.fire(' Vérifier le total facturation masculin ' ); return;
        }else{
            $validerEffectif = 1;
        }

    });


    $('#tbodyPersonext').on('blur change', "#YLperson11", function(){
        var $total1_index9  = 0;

        if(is_int(document.getElementById('YHperson11').value)==true){
            $total1_index9  = $total1_index9+parseInt(remplacer(document.getElementById('YHperson11').value));
        }
        if(is_int(document.getElementById('YIperson11').value)==true){
            $total1_index9  = $total1_index9+parseInt(remplacer(document.getElementById('YIperson11').value));
        }
        if(is_int(document.getElementById('YJperson11').value)==true){
            $total1_index9+= parseInt(remplacer(document.getElementById('YJperson11').value));
        }
        if(is_int(document.getElementById('YKperson11').value)==true){
            $total1_index9+= parseInt(remplacer(document.getElementById('YKperson11').value));
        }
        //  if(is_int(document.getElementById('YMperson11').value)==true){
        //      $total1_index9+= parseInt(remplacer(document.getElementById('YMperson11').value));
        //  }
        //if(is_int(document.getElementById('YNperson11').value)==true){
        //    $total1_index9+= parseInt(remplacer(document.getElementById('YNperson11').value));
        //}

        // recuperer la valeur saisie pour le total
        let $total = remplacer(document.getElementById('YLperson11').value);

        if($total != $total1_index9){
            $validerEffectif = 0;
            Swal.fire(' Vérifier le total facturation féminin ' ); return;
        }else{
            $validerEffectif = 1;
        }

    });
    
    /////////////// verif total 1+2 //////////////////////////////

    $("#tbodyPersonext").on('blur change', "#YOperson3", function(){

        let $sum1_2 = parseInt(remplacer( document.getElementById('YLperson3').value))+parseInt(remplacer(document.getElementById('YEEff3').value));
        let $total1_2 = parseInt(remplacer( document.getElementById('YOperson3').value));
        if($sum1_2!=$total1_2){
            $validerPersonnelext = 0;
            Swal.fire(' Vérifier pour le total verticale  '); return;
        }else{
            $validerPersonnelext = 1;
        }

    });


    $("#tbodyPersonext").on('blur change', "#YOperson4", function(){

        let $sum1_2 = parseInt(remplacer( document.getElementById('YLperson4').value))+parseInt(remplacer(document.getElementById('YEEff4').value));
        let $total1_2 = parseInt(remplacer( document.getElementById('YOperson4').value));
        if($sum1_2!=$total1_2){
            $validerPersonnelext = 0;
            Swal.fire(' Vérifier pour le total verticale  ' ); return;
        }else{
            $validerPersonnelext = 1;
        }

    });


    $("#tbodyPersonext").on('blur change', "#YOperson5", function(){

        let $sum1_2 = parseInt(remplacer( document.getElementById('YLperson5').value))+parseInt(remplacer(document.getElementById('YEEff5').value));
        let $total1_2 = parseInt(remplacer( document.getElementById('YOperson5').value));
        if($sum1_2!=$total1_2){
            $validerPersonnelext = 0;
            Swal.fire(' Vérifier pour le total verticale ' ); return;
        }else{
            $validerPersonnelext = 1;
        }

    });


    $("#tbodyPersonext").on('blur change', "#YOperson6", function(){

        let $sum1_2 = parseInt(remplacer( document.getElementById('YLperson6').value))+parseInt(remplacer(document.getElementById('YEEff6').value));
        let $total1_2 = parseInt(remplacer( document.getElementById('YOperson6').value));
        if($sum1_2!=$total1_2){
            $validerPersonnelext = 0;
            Swal.fire(' Vérifier pour le total verticale  ' ); return;
        }else{
            $validerPersonnelext = 1;
        }

    });


    $("#tbodyPersonext").on('blur change', "#YOperson7", function(){

        let $sum1_2 = parseInt(remplacer( document.getElementById('YLperson7').value))+parseInt(remplacer(document.getElementById('YEEff7').value));
        let $total1_2 = parseInt(remplacer( document.getElementById('YOperson7').value));
        if($sum1_2!=$total1_2){
            $validerPersonnelext = 0;
            Swal.fire(' Vérifier pour le total verticale  ' ); return;
        }else{
            $validerPersonnelext = 1;
        }

    });


    $("#tbodyPersonext").on('blur change', "#YOperson8", function(){

        let $sum1_2 = parseInt(remplacer( document.getElementById('YLperson8').value))+parseInt(remplacer(document.getElementById('YEEff8').value));
        let $total1_2 = parseInt(remplacer( document.getElementById('YOperson8').value));
        if($sum1_2!=$total1_2){
            $validerPersonnelext = 0;
            Swal.fire(' Vérifier pour le total verticale  '); return;
        }else{
            $validerPersonnelext = 1;
        }

    });



    $("#tbodyPersonext").on('blur change', "#YOperson9", function(){

        let $sum1_2 = parseInt(remplacer( document.getElementById('YLperson9').value))+parseInt(remplacer(document.getElementById('YEEff9').value));
        let $total1_2 = parseInt(remplacer( document.getElementById('YOperson9').value));
        if($sum1_2!=$total1_2){
            $validerPersonnelext = 0;
            Swal.fire(' Vérifier pour le total verticale  ' ); return;
        }else{
            $validerPersonnelext = 1;
        }

    });


    $("#tbodyPersonext").on('blur change', "#YOTotalperson9", function(){

        let $sum1_2 = parseInt(remplacer( document.getElementById('YLTotalperson9').value))+parseInt(remplacer(document.getElementById('YETotalEff9').value));
        let $total1_2 = parseInt(remplacer( document.getElementById('YOTotalperson9').value));
        if($sum1_2!=$total1_2){
            $validerPersonnelext = 0; 
            Swal.fire('Vérifier pour le total général effectif  ' ); return;
        }else{
            $validerPersonnelext = 1;
        }

    });

    /*$("#tbodyPersonext").on('change', "#YOperson10", function(){

        let $sum1_2 = parseInt(remplacer( document.getElementById('YLTotalperson9').value))+
                      parseInt(remplacer(document.getElementById('YEEff10').value))+
                      parseInt(remplacer(document.getElementById('YEEff12').value))+
                      parseInt(remplacer(document.getElementById('YEEff14').value))
        ;
        let $total1_2 = parseInt(remplacer( document.getElementById('YOperson10').value));
        if($sum1_2!=$total1_2){
            $validerPersonnelext = 0; 
            Swal.fire(' ! vérifier pour le total général effectif  :' +$sum1_2+ ' !'); return;
        }else{
            $validerPersonnelext = 1;
        }

    });
    $("#tbodyPersonext").on('change', "#YOperson11", function(){

        let $sum1_2 = parseInt(remplacer( document.getElementById('YLperson11').value))+
                      parseInt(remplacer(document.getElementById('YEEff11').value))+
                      parseInt(remplacer(document.getElementById('YEEff13').value))+
                      parseInt(remplacer(document.getElementById('YEEff15').value))
        ;
        let $total1_2 = parseInt(remplacer( document.getElementById('YOperson11').value));
        if($sum1_2!=$total1_2){
            $validerPersonnelext = 0; 
            Swal.fire(' ! vérifier pour le total général effectif  :' +$sum1_2+ ' !'); return;
        }else{
            $validerPersonnelext = 1;
        }

    });*/

    

    /////////////// verif total 1+2 //////////////////////////////
    /////////////// verif total 1+2 //////////////////////////////


        //// traitement valider saisie effectif personnel ext


    $('.validerPersonext').click(function(e){

        var    $validerPersonnelext = 1;

        /////////// integrer dans le btn valider le total (1 2)

        var $total1_index9  = 0;
        // recuperer la valeur saisie pour le total
        var $total = parseInt(remplacer(document.getElementById('YOperson3').value));


        $total1_index9  += parseInt(remplacer(document.getElementById('YLperson3').value))+
                                         parseInt(remplacer(document.getElementById('YEEff3').value))
        ;


        if($total != $total1_index9){
            $validerPersonnelext = 0;
            Swal.fire(' \nVérifier le total (1 2) général de l\'effectif national masculin  ' ); return;
        }//////////// end 



        
        var $total1_index9  = 0;
        // recuperer la valeur saisie pour le total
        var $total = parseInt(remplacer(document.getElementById('YOperson4').value));

        $total1_index9  = $total1_index9+parseInt(remplacer(document.getElementById('YLperson4').value))+
                                         parseInt(remplacer(document.getElementById('YEEff4').value))
        ;

        if($total != $total1_index9){
            $validerPersonnelext = 0;
            Swal.fire(' \nVérifier le total (1 2) général de l\'effectif national féminin  ' ); return;
        }//////////// end 




        
        
        var $total1_index9  = 0;
        // recuperer la valeur saisie pour le total
        var $total = parseInt(remplacer(document.getElementById('YOperson5').value));

            $total1_index9  = $total1_index9+parseInt(remplacer(document.getElementById('YLperson5').value))+
                                             parseInt(remplacer(document.getElementById('YEEff5').value))
            ;

        if($total != $total1_index9){
            $validerPersonnelext = 0;
            Swal.fire(' \nvérifier le total (1 2) général de l\'effectif uemoa masculin  ' ); return;
        }//////////// end 




        
        
        var $total1_index9  = 0;
        // recuperer la valeur saisie pour le total
        var $total = parseInt(remplacer(document.getElementById('YOperson6').value));
            $total1_index9  = $total1_index9+parseInt(remplacer(document.getElementById('YLperson6').value))+
                                             parseInt(remplacer(document.getElementById('YEEff6').value))
            ;

        if($total != $total1_index9){
            $validerPersonnelext = 0;
            Swal.fire(' \nvérifier le total (1 2) général de l\'effectif uemoa féminin  '); return;
        }//////////// end 




        
        
        var $total1_index9  = 0;
        // recuperer la valeur saisie pour le total
        var $total = parseInt(remplacer(document.getElementById('YOperson7').value));
            $total1_index9  = $total1_index9+parseInt(remplacer(document.getElementById('YLperson7').value))+
                                             parseInt(remplacer(document.getElementById('YEEff7').value))
            ;

        if($total != $total1_index9){
            $validerPersonnelext = 0;
            Swal.fire(' \nvérifier le total (1 2) général de l\'effectif hors uemoa masculin ' ); return;
        }//////////// end 




        
        
        var $total1_index9  = 0;
        // recuperer la valeur saisie pour le total
        var $total = parseInt(remplacer(document.getElementById('YOperson8').value));

            $total1_index9  = $total1_index9+parseInt(remplacer(document.getElementById('YLperson8').value))+
                                             parseInt(remplacer(document.getElementById('YEEff8').value))
            ;

        if($total != $total1_index9){
            $validerPersonnelext = 0;
            Swal.fire(' \nvérifier le total (1 2) général de l\'effectif hors uemoa féminin ' ); return;
        }//////////// end 

        
        
        var $total1_index9  = 0;
        // recuperer la valeur saisie pour le total
        var $total = parseInt(remplacer(document.getElementById('YOTotalperson9').value));

            $total1_index9  = $total1_index9+parseInt(remplacer(document.getElementById('YLTotalperson9').value))+
                                             parseInt(remplacer(document.getElementById('YETotalEff9').value))
            ;

        if($total != $total1_index9){
            $validerPersonnelext = 0;
            Swal.fire(' \nvérifier le total (1 2) général de l\'effectif masculin et féminin ' ); return;
        }//////////// end 




        
        

        if($validerPersonnelext==1){


                var empt = 1;
                //var checkboxList = document.getElementsByClassName('inputclass');
                var checkboxList = $('input.calculext');
                for (i = 0; i < checkboxList.length; i++) {
                    if (checkboxList[i].value != "") {
                    
                        empt = 0;
                    }
                }
                console.log(empt);
                if(empt!=1){


                    // ici on compare le total masse salaire effectif et la charge RK compte result 

                                         
                let routeRKext="{{path('checkMasseSalarialeChargePersonnel')}}"+"/"+ $('#idcuci').val();
                $.ajax({
                    type: 'GET',
                    url : routeRKext,
                    dataType : "json",
                    processData: false,
                    contentType: false,
                    cache: false,
                    timeout: 800000,
                    success: function(data){ 

                        //if(JSON.stringify(data) === JSON.stringify(xin)){
                        data = (data !="") ? data : 0 ;

                        if(Math.abs(parseInt (data)) < parseInt(remplacer(document.getElementById('YOperson11').value))){

                           console.log(data);
                           Swal.fire('Vérifier les valeurs saisies pour le total masse salariale : la masse salariale ne doit pas etre superieur aux charges de personnel (RK) NET1 compte resultat '+parseInt(data)); return;

                        }else{

                            var a=$(this);
                            Swal.fire({
                                title:"Confirmation",
                                text:"Êtes-vous sûr de vouloir sauvegarder les données de cet enrégistrement ?",
                                icon:"success",
                                showCancelButton:true,
                                confirmButtonText:"Oui",
                                cancelButtonText:"Non",
                                confirmButtonClass:"btn btn-success mt-2",
                                cancelButtonClass:"btn btn-danger ms-2 mt-2",
                                buttonsStyling:!1}).then(function(t){
                                    if (t.value) {
                                    //var form = $(this).closest("form").submit();
                                    // $(this).closest("form").submit();
                                        document.getElementById('submitedPassif').click(); 
                                        // issues not submited passif fixed
                                    }else{

                                        e.preventDefault();
                                }

                            })

                       }                                          
                       
                   },
                   error : function(error){
                       console.log(error);
                   }
               });

            }


        }

    });

        //// traitement du btn sauvegarder saisie effectif du personnel ext


    $('.sauvegarderPersonnel').click(function(e){

        //console.log("click sauv passif"); return;

        var empt = 1;
        //var checkboxList = document.getElementsByClassName('calcul');
        var elemts =  $('input.calculext');
        for (i = 0; i < elemts.length; i++) {
            if (elemts[i].value != "") {
                //console.log(elemts[i].value);
                empt = 0;
            }
        }
        console.log(empt);
        if(empt!=1){

            var a=$(this);
            Swal.fire({
            title:"Confirmation",
            text:"Êtes-vous sûr de vouloir sauvegarder les données de cet enrégistrement ?",
            icon:"warning",
            showCancelButton:true,
            confirmButtonText:"Oui",
            cancelButtonText:"Non",
            confirmButtonClass:"btn btn-success mt-2",
            cancelButtonClass:"btn btn-danger ms-2 mt-2",
            buttonsStyling:!1}).then(function(t)
            {
            if (t.value) {
            //var form = $(this).closest("form").submit();
            // $(this).closest("form").submit();
                document.getElementById('notsubmitedPassif').click(); 
                // issues not submited passif fixed
            }else
                e.preventDefault();
            })
        }


    }); /////// fin traitement btn sauvegarderPersonnelExt 


    
    $('.resetBtn').click(function(e){

        
        // e.preventDefault(); 
        //$("#idformcompte")[0].reset.click();
                        var elemts =  $('input.calcul');
                        for (i = 0; i < elemts.length; i++) {
                            elemts[i].value="";
                        }
        

    });     //////////fin trait btn reset efecctifmasse salariale 




    $('.resetBtn2').click(function(e){

        
                        var elemts =  $('input.calculext');
                        for (i = 0; i < elemts.length; i++) {
                            elemts[i].value="";
                        }

    });     //////////fin trait btn reset personnel exterieur


    /// function js pour activer le tab suivant    
    function activaTab(tab){
        $('.nav-link.active a[href="#' + tab + '"]').tab('show');
    };


    // Auto Close Bootstrap alerts
    window.setTimeout(function() {
        $(".alert").fadeTo(500, 0).slideUp(500, function(){
            $(this).remove();
        });
    }, 2000);


    
    $(".form-control").bind("keypress", function(e) {
        if (e.keyCode == 13) {
            var inps = $("input.calcul"); //add select too
            for (var x = 0; x < inps.length; x++) {
                if (inps[x] == this) {
                    while ((inps[x]).name == (inps[x + 1]).name) {
                    x++;
                    }
                    if ((x + 1) < inps.length) $(inps[x + 1]).focus();
                }
            }   e.preventDefault();
        }
    });


    
</script>


{% endblock %}

